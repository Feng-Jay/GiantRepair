Repair : closure_1
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/0.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 176 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

INSERT:
14:if(referenced.contains(var)){
lastArg=null;
}
TO:
13

INSERT:
20:lastArg=argList.getLastChild();
TO:
18

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(referenced.contains(var)){
lastArg=null;
}
else{
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
}
TO:
10

DELETE:
Original line: 15argList.removeChild(lastArg);

DELETE:
Original line: 19break;

Following are 2th generated patches:
Validating 27 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(referenced.contains(var)){
lastArg=null;
}
else{
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 3th generated patches:
Validating 29 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

INSERT:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(referenced.contains(var)){
lastArg=null;
}
else{
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 4th generated patches:
Validating 182 patches...
Current actions:
INSERT:
14:if(referenced.contains(var)){
lastArg=null;
}
TO:
13

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
18:argList.removeChild(lastArg);
TO:
18

INSERT:
19:compiler.reportCodeChange();
TO:
18

Tested:511 patches
Compile failed:294 patches
Compilation rate:0.4246575342465753
NNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNPNNNNNNPNNPNNNPNPPPPPPPNPPPPNPNNNNNNNNNPNNPNPNNPPNPPPPNNNNNNNNNNNNNNNNNNNNNPPPNNPNNPPPNNPPNPNNNNNPNNNNNNNPNNPNNNNNNNPNPNNPNNNPPPPPPNNNNPPPPPPNNPNNPPPPPNPNNNNNNNNPNPPNPPNNPNPNNPPPPNPNNNPNNPPPPPPPPPNNPNNPNPNNNNNPNNPPNPPPNNPNNNPNPNPNPNNNNPNNPPNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNNPPPPPPPPPPPNPPPNPPPNPPPPPNPNPPPPPPNPPPPNNPPPPPPPNPPPNPPNPPNNPPNPPPNNPNPNNPPPNNNPPPPPNNPNPNNPNPNPNNNNPNPNNNNPPNNPPNNNPNNNPNNPPNNPPPPNNPNPNPPPPPPPNNPNPNPNNNPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/1.java
Tested:511 patches
Compile failed:294 patches
Compilation rate:0.4246575342465753

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/2.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 120 patches...
Current actions:
INSERT:
11:int argCount=argList.getChildCount();
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

INSERT:
13:Var var=fnScope.getVar(argList.getChildAtIndex(i).getString());
TO:
10

DELETE:
Original line: 15argList.removeChild(lastArg);

DELETE:
Original line: 19break;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:Var var=fnScope.getVar(argList.getChildAtIndex(i).getString());
TO:
10

INSERT:
15:argList.removeChildAtIndex(i);
TO:
14

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:int argCount=argList.getChildCount();
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
12:for(int i=argCount-1;i>=0;i--){
Var var=fnScope.getVar(argList.getChildAtIndex(i).getString());
if(!referenced.contains(var)){
argList.removeChildAtIndex(i);
compiler.reportCodeChange();
}
}
TO:
10

Following are 3th generated patches:
Validating 200 patches...
Tested:1224 patches
Compile failed:992 patches
Compilation rate:0.1895424836601307
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPPNPPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNPNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/3.java
Current actions:
INSERT:
17:compiler.reportChangeToChangeScope(fnScope);
TO:
16

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
17:compiler.reportChangeToChangeScope(fnScope);
TO:
16

Following are 1th generated patches:
Validating 153 patches...
Tested:1378 patches
Compile failed:1036 patches
Compilation rate:0.24818577648766327
NNNNNNPPPPPPPNPPNPPPNPPPPNNPPPNPPPPPPPPPPNPNPPPPPNPNPPPPPPPPPPPPPPPPPNPPNPNPPPPNNNPPPPNPNPNPPNPPPPNPNPNPPPPPNPNNPNPPPNPPPPPNPNPNNPPPPNPPPNNNPPPPPNPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/4.java
Current actions:
DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 0th generated patches:
Validating 22 patches...
Current actions:
INSERT:
24:Node parentNode=function.getParent();
TO:
23

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

INSERT:
25:for(Node c=parentNode.getFirstChild();c!=null;c=c.getNext()){
if(NodeUtil.isCall(c)&&NodeUtil.isExprCall(c)){
callSiteOptimizer.optimize(c,fnScope,referenced);
compiler.reportCodeChange();
}
}
TO:
23

Following are 1th generated patches:
Validating 179 patches...
Current actions:
INSERT:
24:Node parentNode=function.getParent();
TO:
23

Following are 2th generated patches:
Validating 177 patches...
Current actions:
INSERT:
24:Node parentNode=function.getParent();
TO:
23

INSERT:
25:for(Node c=parentNode.getFirstChild();c!=null;c=c.getNext()){
if(NodeUtil.isCall(c)&&NodeUtil.isExprCall(c)){
callSiteOptimizer.optimize(c,fnScope,referenced);
compiler.reportCodeChange();
}
}
TO:
23

Following are 3th generated patches:
Validating 177 patches...
Tested:1931 patches
Compile failed:1471 patches
Compilation rate:0.23821853961677888
NNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNPPPNNNPPPPPPPPPPPPPPPPPPPNPNPPPPPPNPNPPPNNPPPPPPPNPNPPPPPPNPPNNPPPNNNNNPNNPNNPPPPNNNNPNNNNPPNNPNPNNNNNPPPNNNPPNNNPPPNNPPPNPPPPPNNNNPNNPPPNNPPPPNNPPPNPPNNNPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/5.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 120 patches...
Current actions:
INSERT:
12:for(int i=end-1;i>=0;i--){
Var var=fnScope.getVar(argList.getChildAtIndex(i).getString());
if(!referenced.contains(var)){
argList.removeChild(i);
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
11:int end=argList.getChildCount();
TO:
10

DELETE:
Original line: 11Node lastArg;

INSERT:
12:for(int i=end-1;i>=0;i--){
Var var=fnScope.getVar(argList.getChildAtIndex(i).getString());
if(!referenced.contains(var)){
argList.removeChild(i);
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 2th generated patches:
Validating 200 patches...
Tested:2250 patches
Compile failed:1775 patches
Compilation rate:0.2111111111111111
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNPNNPNNPNNNNNNNNNNNNNNNNNNPNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/6.java
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 25 patches...
Current actions:
DELETE:
Original line: 16compiler.reportCodeChange();

DELETE:
Original line: 18else{
break;
}

INSERT:
18:compiler.reportCodeChange();
TO:
20

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
14:if(var!=null&&referenced.contains(var)){
break;
}
TO:
13

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
17:argList.removeChild(lastArg);
TO:
20

DELETE:
Original line: 18else{
break;
}

INSERT:
18:compiler.reportCodeChange();
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
17:argList.removeChild(lastArg);
TO:
20

DELETE:
Original line: 18else{
break;
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
17:argList.removeChild(lastArg);
TO:
20

DELETE:
Original line: 18else{
break;
}

INSERT:
18:compiler.reportCodeChange();
TO:
20

Following are 4th generated patches:
Validating 4 patches...
Current actions:
INSERT:
14:if(var!=null&&referenced.contains(var)){
break;
}
TO:
13

DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
17:argList.removeChild(lastArg);
TO:
20

DELETE:
Original line: 18else{
break;
}

Tested:2457 patches
Compile failed:1902 patches
Compilation rate:0.2258852258852259
NPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNPPNNNNNPNNNNPPPNNNNNPNNNNNPNNNPNNNNNPPNNPNPNNPPNNNNPNNNNNNNNNNNNNPNNPPPNPNNNNPPPNPPNPNNNNNPPNPNPPNPNNPNNNNPPNPPPPPNNPPNPPPNNNPPPPNNNNPPPPPNPNNNNNNNPPNNPNPNPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/7.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
14:argList.removeChild(i);
TO:
10

INSERT:
28:}

TO:
26

INSERT:
29:}

TO:
26

INSERT:
31:}

TO:
26

INSERT:
37:}

TO:
26

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
28:}

TO:
26

INSERT:
29:}

TO:
26

INSERT:
31:}

TO:
26

INSERT:
37:}

TO:
26

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
12:int argCount=argList.getChildCount();
TO:
10

INSERT:
28:}

TO:
26

INSERT:
29:}

TO:
26

INSERT:
31:}

TO:
26

INSERT:
37:}

TO:
26

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
12:int argCount=argList.getChildCount();
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

INSERT:
14:argList.removeChild(i);
TO:
10

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
28:}

TO:
26

INSERT:
29:}

TO:
26

INSERT:
31:}

TO:
26

INSERT:
37:}

TO:
26

Following are 4th generated patches:
Validating 200 patches...
Tested:3252 patches
Compile failed:2697 patches
Compilation rate:0.1706642066420664
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/8.java
Current actions:
INSERT:
25:compiler.reportCodeChange();
TO:
24

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
25:compiler.reportCodeChange();
TO:
24

Following are 1th generated patches:
Validating 113 patches...
Tested:3366 patches
Compile failed:2751 patches
Compilation rate:0.18270944741532977
PNNNNNNNPPPPPPPPNNPPNPPPPPPNPPPPPPNPPPPNPNNPPNNNNNPNNNNNPPPPNPNPPNNPNNNNNNNNPNNNPNNPNNNPNPNPPNNNNNNPNPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/9.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
15:if(referenced.contains(var)){
break;
}
TO:
13

INSERT:
21:argList.removeChild(argList.getChildAtIndex(i));
TO:
20

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:int lastIndex=argList.getChildCount()-1;
TO:
10

DELETE:
Original line: 11Node lastArg;

INSERT:
12:while(lastIndex>=0){
Node lastArg=argList.getChildAtIndex(lastIndex);
Var var=fnScope.getVar(lastArg.getString());
if(referenced.contains(var)){
break;
}
lastIndex--;
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
20:for(int i=argList.getChildCount()-1;i>lastIndex;i--){
argList.removeChild(argList.getChildAtIndex(i));
}
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Tested:3964 patches
Compile failed:3286 patches
Compilation rate:0.1710393541876892
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPPPPNNPPNNNPPNPPPPPPNNPPNNNPPPNPNPNNNPNPNNNNNNNNNNPNNNNNNNNNNNPNNNNPNPPPPNPNNNPNPNNNNNNNNNNNNNNNNNNNNPPPPPNNNPNPNNNNPNNNNNNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNPNNNPNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/10.java
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
15:removeNode(lastArg);
TO:
14

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
15:removeNode(lastArg);
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Tested:4367 patches
Compile failed:3360 patches
Compilation rate:0.23059308449736662
NNPNPPPPNPPPPPPPPPPPPPPPPNNPPPPPPPPPPNNPPPPPNPPPPPPPNNNNPPPPPPPPPPPPPPPPNNPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPNPPNNPPPPNNNPNPPNPNPPPPPPPPPPPNNPPNPPPPPPPPPNPPPPPPPPPNPPPPNPNPPPPPNPPPPPPPPPNNPPNNPPPPPPPPPPPPNNNPPPPPPPPPPPPPPPPPPNPPPPPNPPPPPPPNNPPPPPNPPPPPPNNNPPPNPPPNPPPPPPPPPNPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPNPNNPPPPPNNNPPNPPPPNNPPPPPPPNPPPNPPPPPPPPPNPPPPPPPPPPNPPPPNPNPPPPPNPPPPPPPPPPNPNNNPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/11.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!referenced.contains(var.getName())){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!referenced.contains(var.getName())){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:4369 patches
Compile failed:3360 patches
Compilation rate:0.23094529640650036
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/12.java
Current actions:
INSERT:
24:Var argsVar=function.getJSDocInfo().getVarargs();
TO:
23

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
25:if(argsVar!=null){
referenced.add(argsVar);
}
TO:
23

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
24:Var argsVar=function.getJSDocInfo().getVarargs();
TO:
23

INSERT:
25:if(argsVar!=null){
referenced.add(argsVar);
}
TO:
23

Following are 2th generated patches:
Validating 200 patches...
Tested:4773 patches
Compile failed:3764 patches
Compilation rate:0.2113974439555835
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/13.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!mayBeReferencedRecursively.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!mayBeReferencedRecursively.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:4775 patches
Compile failed:3766 patches
Compilation rate:0.21130890052356022
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/14.java
Current actions:
INSERT:
26:if(function.isAssign()){
Node assign=function.getFirstChild();
Preconditions.checkState(assign.isAssign());
Node value=assign.getLastChild();
Preconditions.checkState(value.isFunction());
argList=getFunctionArgList(value);
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
25

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
26:if(function.isAssign()){
Node assign=function.getFirstChild();
Preconditions.checkState(assign.isAssign());
Node value=assign.getLastChild();
Preconditions.checkState(value.isFunction());
argList=getFunctionArgList(value);
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
25

Following are 1th generated patches:
Validating 11 patches...
Current actions:
INSERT:
30:Preconditions.checkState(value.isFunction());
TO:
25

INSERT:
34:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
25

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
33:Var var=fnScope.getVar(lastArg.getString());
TO:
25

INSERT:
39:break;
TO:
25

Following are 3th generated patches:
Validating 50 patches...
Current actions:
INSERT:
27:Node assign=function.getFirstChild();
TO:
25

INSERT:
28:Preconditions.checkState(assign.isAssign());
TO:
25

INSERT:
29:Node value=assign.getLastChild();
TO:
25

INSERT:
30:Preconditions.checkState(value.isFunction());
TO:
25

INSERT:
32:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
25

Following are 4th generated patches:
Validating 189 patches...
Tested:5423 patches
Compile failed:4404 patches
Compilation rate:0.18790337451595057
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/15.java
Current actions:
INSERT:
15:Node newArg=IR.param(lastArg.getString(),lastArg.getJSType());
TO:
14

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
15:Node newArg=IR.param(lastArg.getString(),lastArg.getJSType());
TO:
14

DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
16:if(NodeUtil.isParameterDeclaredByFunction(function,lastArg.getString())){
NodeUtil.addParamToFunction(function,newArg);
}
TO:
14

DELETE:
Original line: 16compiler.reportCodeChange();

INSERT:
19:if(function.isFromExterns()){
lastArg.replaceWith(newArg);
}
TO:
14

INSERT:
22:else{
Node nameNode=NodeUtil.getNameNode(function);
if(nameNode!=null){
newArg.setJSType(lastArg.getJSType());
newArg.useSourceInfoIfMissingFromForTree(nameNode);
}
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14

Following are 1th generated patches:
Validating 200 patches...
Tested:5733 patches
Compile failed:4713 patches
Compilation rate:0.17791732077446362
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/16.java
Current actions:
INSERT:
24:while(argList.hasChildren()){
Node arg=argList.getLastChild();
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
arg.detachFromParent();
compiler.reportCodeChange();
if(!NodeUtil.isExprAssign(arg.getParent())){
callSiteOptimizer.optimize(fnScope,referenced);
}
}
else{
break;
}
}
TO:
23

Following are 0th generated patches:
Validating 102 patches...
Current actions:
DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

INSERT:
24:while(argList.hasChildren()){
Node arg=argList.getLastChild();
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
arg.detachFromParent();
compiler.reportCodeChange();
if(!NodeUtil.isExprAssign(arg.getParent())){
callSiteOptimizer.optimize(fnScope,referenced);
}
}
else{
break;
}
}
TO:
23

Following are 1th generated patches:
Validating 200 patches...
Tested:6002 patches
Compile failed:4958 patches
Compilation rate:0.17394201932689105
NNNNNNNNNNNNNNNNNNNNNNNPPNPPPPNNNNNNNNNNNNPPPNNPNNNNNNNNPPNNNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/17.java
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:for(Node cur=argList.getLastChild();cur!=null;cur=cur.getPrevious()){
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
16:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 28 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:for(Node cur=argList.getLastChild();cur!=null;cur=cur.getPrevious()){
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
16:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 30 patches...
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:for(Node cur=argList.getLastChild();cur!=null;cur=cur.getPrevious()){
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

DELETE:
Original line: 19break;

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 4th generated patches:
Validating 30 patches...
Current actions:
INSERT:
6:for(Node cur=argList.getLastChild();cur!=null;cur=cur.getPrevious()){
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Tested:6206 patches
Compile failed:5147 patches
Compilation rate:0.1706413148565904
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNPNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNPNNNPNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/18.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&NodeUtil.isCallTarget(function,lastArg.getString())){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&NodeUtil.isCallTarget(function,lastArg.getString())){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:6208 patches
Compile failed:5149 patches
Compilation rate:0.17058634020618557
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/19.java
Current actions:
Wrap:
MethodDeclaration
On:
[Node lastArg;, while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}, {
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);
if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
else{
callSiteOptimizer.optimize(fnScope,referenced);
}
}, Node function=fnScope.getRootNode();, Node argList=getFunctionArgList(function);, else{
callSiteOptimizer.optimize(fnScope,referenced);
}, {
callSiteOptimizer.optimize(fnScope,referenced);
}, else{
callSiteOptimizer.optimize(fnScope,referenced);
}, {
callSiteOptimizer.optimize(fnScope,referenced);
}]
Following are 0th generated patches:
Validating 113 patches...
Current actions:
DELETE:
Original line: 4Preconditions.checkState(function.isFunction());

DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
12:else{
break;
}
TO:
21

DELETE:
Original line: 19break;

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 2{
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);
if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
else{
callSiteOptimizer.optimize(fnScope,referenced);
}
}

INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
1

DELETE:
Original line: 3Node function=fnScope.getRootNode();

DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 2{
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);
if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
else{
callSiteOptimizer.optimize(fnScope,referenced);
}
}

INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
1

DELETE:
Original line: 3Node function=fnScope.getRootNode();

DELETE:
Original line: 4Preconditions.checkState(function.isFunction());

DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
12:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 3th generated patches:
Validating 6 patches...
Current actions:
DELETE:
Original line: 2{
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);
if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
else{
callSiteOptimizer.optimize(fnScope,referenced);
}
}

INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
1

DELETE:
Original line: 3Node function=fnScope.getRootNode();

DELETE:
Original line: 6return ;

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 11Node lastArg;

INSERT:
12:else{
break;
}
TO:
21

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 4th generated patches:
Validating 6 patches...
Current actions:
DELETE:
Original line: 2{
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);
if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
else{
callSiteOptimizer.optimize(fnScope,referenced);
}
}

INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
1

DELETE:
Original line: 3Node function=fnScope.getRootNode();

DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 11Node lastArg;

INSERT:
12:else{
break;
}
TO:
21

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Tested:6264 patches
Compile failed:5182 patches
Compilation rate:0.1727330779054917
NNNNNNNNPPPPPPNPNNPNNNPNPNNNNNNPPPNNPPNPNNNPNNPPNPPPNPNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/20.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 154 patches...
Current actions:
INSERT:
11:for(Node cur=argList.getLastChild();cur!=null;){
Node next=cur.getPrevious();
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
cur=next;
}
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 28 patches...
Current actions:
INSERT:
11:for(Node cur=argList.getLastChild();cur!=null;){
Node next=cur.getPrevious();
Var var=fnScope.getVar(cur.getString());
if(!referenced.contains(var)){
argList.removeChild(cur);
compiler.reportCodeChange();
}
cur=next;
}
TO:
10

DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 2th generated patches:
Validating 27 patches...
Current actions:
INSERT:
15:argList.removeChild(cur);
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
12:Node next=cur.getPrevious();
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 19break;

Following are 4th generated patches:
Validating 195 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:Var var=fnScope.getVar(cur.getString());
TO:
10

INSERT:
15:argList.removeChild(cur);
TO:
14

Tested:6862 patches
Compile failed:5660 patches
Compilation rate:0.17516758962401632
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNPNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPPPNNNNPNNNNPNNPNPNNPPNPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPNPPNPPNPNNNNNPPNPPPPPPPPNPNPNNPNNPPNNNNNPPNNNPNNNNNNNNNPNNNNNNNNNPPPPNNPNNNNPPNPNNNPPPPPPNPPNPPPNPNNNPNNPNPPPPPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/21.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!NodeUtil.isLhsByDestructuring(lastArg)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!NodeUtil.isLhsByDestructuring(lastArg)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:6864 patches
Compile failed:5662 patches
Compilation rate:0.1751165501165501
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/22.java
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

UPDATE
FROM:
10:if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
9:if(stripTypeInformation&&!callSiteOptimizer.canModifyCallers(function)){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
UPDATE
FROM:
10:if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}
TO:
9:if(stripTypeInformation&&!callSiteOptimizer.canModifyCallers(function)){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

Following are 3th generated patches:
Validating 1 patches...
Tested:6871 patches
Compile failed:5669 patches
Compilation rate:0.17493814583030126
NNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/23.java
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
15:removeFunctionArg(function,lastArg);
TO:
14

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
15:removeFunctionArg(function,lastArg);
TO:
14

DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 2th generated patches:
Validating 200 patches...
Tested:7274 patches
Compile failed:5779 patches
Compilation rate:0.20552653285675007
NNPNNNNNNNPPPPPNNPNNPPPPPNPNPPPPPPPNNPPNNPPPPPPPPPPPPPPPNPPPNPPPPNNPNPPPPPPNNPNNNNPPPNNPPPPPPPPPPPPPPNPNPPPPPPPPPPPNPPPPNPNPPPPPPPPPNNPPPPPPPNNPPPPPNPPPPPPPPPPPNNNPPNPPPPPNNNPNPPPNNNPNNNPPPPPPPPPPPPPPPPPNNNNNNNPPPPPPNNNPNPPPNPPPPNPPPNPPNPPNPPNPPPPPPPPPPPPNPPPPNPNPPNPPNPPPPPPPNNNPNNNPPPPNNPPPPPPPPPPPNPNPPPPPPPPPPPPNPPPPNPNPPPPPPPPPPNNPPPPPPNNPPPPPNPPPPPPPPPNNPPNNPPPPPPPNPNNNNNPNPPPNPNNPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/24.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

INSERT:
17:lastArg=argList.getLastChild();
TO:
16

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
lastArg.detachFromParent();
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}

DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 2th generated patches:
Validating 14 patches...
Current actions:
INSERT:
15:lastArg.detachFromParent();
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

INSERT:
15:lastArg.detachFromParent();
TO:
14

INSERT:
17:lastArg=argList.getLastChild();
TO:
16

Following are 4th generated patches:
Validating 177 patches...
Tested:7905 patches
Compile failed:6169 patches
Compilation rate:0.2196078431372549
NNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPNNNNNPNPPPPNPPPPPNNNNPNPPPPNNPPNPNNNNNNNPPPPPPPPPPPPPPPPPPPPNPNPPPNNNNPPPNPPNPPPPPPPPPPPPPPPNPPPPPPNPNNPNNNPNNNPNNPNPPNNPPNPNNNPNNNPNNNNPNPNNPPNNNNNPPPPPPPPPNPPNNPNNPPNNNNNNPPNPNNPNPPPPPPPNNNNNNPPPPPPPPPNPPPNPPPPPPNPNPPPPNPPPPPPPNPNPPPPPNPPPPPPPPNPPPNPPPPNNPPPPNPNPNNNPNNPNPPNPNNPPNPNNNPPPPNNNPNNPNNNNNPPNPNNPNNNPPPNNNNPPPPPNNPPPNNPPPPPNPNNPPNPNPPNPNPNPNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/25.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(var==null||!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(var==null||!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:7907 patches
Compile failed:6169 patches
Compilation rate:0.21980523586695333
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/26.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 161 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
11:int childCount=argList.getChildCount();
TO:
10

INSERT:
12:for(int i=childCount-1;i>=0;i--){
Node child=argList.getChildAtIndex(i);
Var var=fnScope.getVar(child.getString());
if(!referenced.contains(var)){
argList.removeChild(child);
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 15argList.removeChild(lastArg);

DELETE:
Original line: 18else{
break;
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:Node child=argList.getChildAtIndex(i);
TO:
10

INSERT:
14:Var var=fnScope.getVar(child.getString());
TO:
10

INSERT:
16:argList.removeChild(child);
TO:
14

Following are 2th generated patches:
Validating 200 patches...
Tested:8459 patches
Compile failed:6654 patches
Compilation rate:0.21338219647712495
NNNNNNNNNNNNNNNNNNNNNNPNNPPNNPPNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPNNPNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPNNPNNNNNPPPPPNNPNPNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNPNNPPNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPPPPNNPNNNNNNPPPPPPPPNPPNPNPNPNPNPNNNNPNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/27.java
Current actions:
INSERT:
10:for(Node arg=argList.getFirstChild();arg!=null;arg=arg.getNext()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
removeArgAndVar(arg,var);
compiler.reportCodeChange();
}
}
TO:
9

Following are 0th generated patches:
Validating 10 patches...
Current actions:
INSERT:
10:for(Node arg=argList.getFirstChild();arg!=null;arg=arg.getNext()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
removeArgAndVar(arg,var);
compiler.reportCodeChange();
}
}
TO:
9

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(!referenced.contains(var)){
removeArgAndVar(arg,var);
compiler.reportCodeChange();
}
TO:
9

Following are 2th generated patches:
Validating 200 patches...
Tested:8869 patches
Compile failed:7034 patches
Compilation rate:0.20690043973390462
NNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPPPNNNNPNPNNNNNPNNNNNPNPNNPNNNPNNNNNPPNNNPNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNPNNNNPPNNNNNPNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/28.java
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
11:for(int i=count-1;i>=0;i--){
Node arg=argList.getChildAtIndex(i);
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
}
TO:
9

Following are 1th generated patches:
Validating 24 patches...
Current actions:
INSERT:
10:int count=argList.getChildCount();
TO:
9

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:Var var=fnScope.getVar(arg.getString());
TO:
9

INSERT:
14:if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
TO:
9

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:int count=argList.getChildCount();
TO:
9

INSERT:
11:for(int i=count-1;i>=0;i--){
Node arg=argList.getChildAtIndex(i);
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
}
TO:
9

DELETE:
Original line: 15argList.removeChild(lastArg);

DELETE:
Original line: 16compiler.reportCodeChange();

DELETE:
Original line: 19break;

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 3th generated patches:
Validating 200 patches...
Tested:9457 patches
Compile failed:7502 patches
Compilation rate:0.20672517711747912
NNNNNNNNNNNNNNNNNNPPPPPPNPPNNNNNPPNNNNNNNNNNNNNNNPNPNNPNNNNNNNPNNNNNNPNPNNNNPNPPPPPNNNNNNNNNNNNNNNNNNPPPPPNNNPPNNNNPNNNNPNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPNNNNNNPPPPPPPNNPPNNNNPPPPPNPNPPPNPNNPNNNNNPNPNNNNNPPNNNPNPNNNNPNNPNPPNPNNPNPPNNPNNPPNPNPNNNNNPPPPNNNNPPNPNPNNNNNPNNNNNNNNNNNPNNNPNNPNNPPPNPNNPPPPNNPNPPNNNNNNNPPPNNNNNNPPNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/29.java
Current actions:
INSERT:
17:Node formalArg=NodeUtil.getBestLValue(function,lastArg.getString());
TO:
16

Following are 0th generated patches:
Validating 127 patches...
Current actions:
INSERT:
17:Node formalArg=NodeUtil.getBestLValue(function,lastArg.getString());
TO:
16

INSERT:
19:formalArg=NodeUtil.getBestLValue(formalArg,lastArg.getString());
TO:
16

INSERT:
21:if(formalArg!=null){
Node nameNode=NodeUtil.newQName(compiler,formalArg.getString());
nameNode.setFirstChild(null);
nameNode.setJSType(formalArg.getJSType());
nameNode.setJSDocInfo(formalArg.getJSDocInfo());
NodeUtil.addChildToFront(argList,nameNode);
compiler.reportCodeChange();
}
TO:
16

Following are 1th generated patches:
Validating 200 patches...
Tested:9783 patches
Compile failed:7827 patches
Compilation rate:0.19993866911990188
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/30.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 141 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

INSERT:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(referenced.contains(var)){
break;
}
argList.removeChild(lastArg);
lastArg=argList.getLastChild();
compiler.reportCodeChange();
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
14:if(referenced.contains(var)){
break;
}
TO:
13

INSERT:
18:lastArg=argList.getLastChild();
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 15argList.removeChild(lastArg);

DELETE:
Original line: 16compiler.reportCodeChange();

INSERT:
17:argList.removeChild(lastArg);
TO:
20

DELETE:
Original line: 18else{
break;
}

INSERT:
18:lastArg=argList.getLastChild();
TO:
20

INSERT:
19:compiler.reportCodeChange();
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Tested:10441 patches
Compile failed:8464 patches
Compilation rate:0.18934967914950676
NNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPPPNPPPNNNNNNNNNNPNPNNPNPNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/31.java
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 0th generated patches:
Validating 67 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
15:if(referenced.contains(function)){
NodeUtil.removeChild(lastArg.getParent(),lastArg);
compiler.reportCodeChange();
}
TO:
14

DELETE:
Original line: 16compiler.reportCodeChange();

INSERT:
21:NodeUtil.replaceChild(lastArg.getParent(),lastArg,stringNode);
TO:
14

Following are 1th generated patches:
Validating 200 patches...
Tested:10681 patches
Compile failed:8692 patches
Compilation rate:0.1862185188652748
NNNNNNNNNNNNNNNNNNNNPPPNPPNNNNNPNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/32.java
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 0th generated patches:
Validating 31 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
15:if(lastArg==argList.getLastChild()){
NodeUtil.getEnclosingFunction(function).getLastChild().removeChild(function);
}
TO:
14

INSERT:
19:callSiteOptimizer.optimize(fnScope,referenced);
TO:
14

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
15:if(lastArg==argList.getLastChild()){
NodeUtil.getEnclosingFunction(function).getLastChild().removeChild(function);
}
TO:
14

INSERT:
18:else{
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
14

INSERT:
22:return ;
TO:
16

Following are 2th generated patches:
Validating 200 patches...
Tested:11109 patches
Compile failed:9113 patches
Compilation rate:0.1796741380862364
NNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/33.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 61 patches...
Current actions:
INSERT:
11:while(argList.getLastChild()!=null){
Var var=fnScope.getVar(argList.getLastChild().getString());
if(!referenced.contains(var)){
argList.removeChild(argList.getLastChild());
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
13:Var var=fnScope.getVar(lastArg.getString());
TO:
12:Var var=fnScope.getVar(argList.getLastChild().getString());

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 133 patches...
Current actions:
INSERT:
11:while(argList.getLastChild()!=null){
Var var=fnScope.getVar(argList.getLastChild().getString());
if(!referenced.contains(var)){
argList.removeChild(argList.getLastChild());
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
13:Var var=fnScope.getVar(lastArg.getString());
TO:
12:Var var=fnScope.getVar(argList.getLastChild().getString());

DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 2th generated patches:
Validating 1 patches...
Tested:11301 patches
Compile failed:9268 patches
Compilation rate:0.17989558446155207
NNNNNNNPPPPPPPPPPNNNNNPPPPPNNNNNNPPPNPNNNNPPPPPPPPPPNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/34.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 126 patches...
Current actions:
INSERT:
11:while(argList.hasChildren()){
Var var=fnScope.getVar(argList.getFirstChild().getString());
if(referenced.contains(var)){
break;
}
argList.removeChild(argList.getFirstChild());
compiler.reportCodeChange();
}
TO:
10

DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
13:Var var=fnScope.getVar(lastArg.getString());
TO:
12:Var var=fnScope.getVar(argList.getFirstChild().getString());

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 188 patches...
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

DELETE:
Original line: 18else{
break;
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:if(referenced.contains(var)){
break;
}
TO:
13

INSERT:
16:argList.removeChild(argList.getFirstChild());
TO:
20

INSERT:
17:compiler.reportCodeChange();
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
13:Var var=fnScope.getVar(lastArg.getString());
TO:
12:Var var=fnScope.getVar(argList.getFirstChild().getString());

INSERT:
13:if(referenced.contains(var)){
break;
}
TO:
13

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 4th generated patches:
Validating 132 patches...
Tested:11901 patches
Compile failed:9814 patches
Compilation rate:0.17536341483908915
NNNNPPPPPPPNPPNNNNNNPNNPPPPPNPPPPPPPNPPPPNPPNNNNNNNNNNNPNPNNNNPPPNNNPNNNNNNPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/35.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 11 patches...
Current actions:
INSERT:
11:for(Node lastArg=argList.getLastChild();lastArg!=null;){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 27 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
16:lastArg=argList.getLastChild();
TO:
16

Following are 2th generated patches:
Validating 179 patches...
Current actions:
INSERT:
16:lastArg=argList.getLastChild();
TO:
16

Following are 3th generated patches:
Validating 177 patches...
Current actions:
INSERT:
11:for(Node lastArg=argList.getLastChild();lastArg!=null;){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}
TO:
10

Following are 4th generated patches:
Validating 25 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Tested:12316 patches
Compile failed:10070 patches
Compilation rate:0.18236440402728157
NNNNPPPPPPPNNNNNPPPPNPPNPNPNPPNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNPPPPPPNPPPNPPNPNPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPNPPPPPPNPPNPPPNPPPNPPNNNNPPNPNPNNPNNPPPPPNPNNPNPNPNNPPNNNPPPPPNPNPNNPPNNNPPPPPNPPPNNNPPPPPPNNNPPPPNNPPPPNNPPNPPPPPPPPPPNNNNNNPPPNPPPPNPNNPNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/36.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}

INSERT:
17:lastArg=argList.getLastChild();
TO:
16

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
17:lastArg=argList.getLastChild();
TO:
16

Following are 2th generated patches:
Validating 178 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}

INSERT:
17:lastArg=argList.getLastChild();
TO:
16

Following are 3th generated patches:
Validating 191 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
else{
break;
}
}

Following are 4th generated patches:
Validating 190 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

Tested:13085 patches
Compile failed:10729 patches
Compilation rate:0.18005349636988918
NNNNNNNNNNPPPPNNNNNNNNNNNNNNNPPPPPNNPNNPPPPPPNNNPPNPNNPPNPNNPNPPPPPPNNPPPPNPNNPNPPPNNNPPPPPPPNNNPPNPPNPNPNPPPNPNPNPNNPNPNPPPPNNNPPPNPPNPPNPNNNPNNNNNPNPPPPPPNPNNPNNPNPPPPPNNNPPNPNNPPPPNNNNPPNNPPNNPNPNNPPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/37.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 36 patches...
Current actions:
DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
11:int removedCount=0;
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
16:removedCount++;
TO:
15

INSERT:
22:compiler.reportCodeChange();
TO:
21

Following are 2th generated patches:
Validating 5 patches...
Current actions:
INSERT:
11:int removedCount=0;
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
12:for(Node lastArg=argList.getLastChild();lastArg!=null;lastArg=argList.getLastChild()){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
removedCount++;
}
else{
break;
}
}
TO:
10

INSERT:
22:compiler.reportCodeChange();
TO:
21

Following are 3th generated patches:
Validating 30 patches...
Current actions:
INSERT:
11:int removedCount=0;
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
12:for(Node lastArg=argList.getLastChild();lastArg!=null;lastArg=argList.getLastChild()){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
removedCount++;
}
else{
break;
}
}
TO:
10

Following are 4th generated patches:
Validating 29 patches...
Current actions:
INSERT:
12:for(Node lastArg=argList.getLastChild();lastArg!=null;lastArg=argList.getLastChild()){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
removedCount++;
}
else{
break;
}
}
TO:
10

Tested:13161 patches
Compile failed:10765 patches
Compilation rate:0.18205303548362586
NNNNNNNNNNPPPPNNPPPPPPPPNNNNNNNNPPPPNPNNPNPPPPPPPPNNNNNNNPPPPPNPNNPNPPNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/38.java
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

Following are 0th generated patches:
Validating 161 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

INSERT:
9:if(!callSiteOptimizer.canModifyCallers(function)){
for(Node arg=argList.getLastChild();arg!=null;){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
else{
arg=arg.getPrevious();
}
}
}
TO:
8

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!callSiteOptimizer.canModifyCallers(function)){
for(Node arg=argList.getLastChild();arg!=null;){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
else{
arg=arg.getPrevious();
}
}
}
TO:
8

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 2th generated patches:
Validating 200 patches...
Tested:13720 patches
Compile failed:11319 patches
Compilation rate:0.175
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/39.java
Current actions:
Wrap:
IfStatement
On:
[callSiteOptimizer.optimize(fnScope,referenced);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
24:if(function.getParent()==null){
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
23

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 1th generated patches:
Validating 200 patches...
Tested:13921 patches
Compile failed:11498 patches
Compilation rate:0.17405358810430285
PNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNPNNNNNPNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNPNPNNNNNNNNNNNNNPNNNNNPPNNNNNNNPNNNNNNNNNNNNNPNNNNNNPNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/40.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/40.java
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 25 patches...
Current actions:
DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
18:compiler.reportCodeChange();
TO:
20

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
14:if(referenced.contains(var)){
break;
}
TO:
13

Following are 2th generated patches:
Validating 86 patches...
Current actions:
DELETE:
Original line: 15argList.removeChild(lastArg);

INSERT:
17:argList.removeChild(lastArg);
TO:
20

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
14:if(referenced.contains(var)){
break;
}
TO:
13

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
18:compiler.reportCodeChange();
TO:
20

Following are 4th generated patches:
Validating 88 patches...
Current actions:
INSERT:
14:if(referenced.contains(var)){
break;
}
TO:
13

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

DELETE:
Original line: 18else{
break;
}

Tested:14103 patches
Compile failed:11654 patches
Compilation rate:0.17365099624193434
NPPPPPPPNNNNNNNNNNNNNNNNNNNNNPNPPPNNNNNNNNNNNPNNNPNNNPNNNNNNNPNPNNNNNNPNNNNNNNNNNNNPPNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/41.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/41.java
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:Var var=fnScope.getVar(lastArg.getString());
TO:
9

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 18else{
break;
}

INSERT:
20:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
11:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
if(modifyCallers){
callSiteOptimizer.optimizeCallSites(var,fnScope);
}
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}
TO:
9

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 31 patches...
Current actions:
INSERT:
10:Node lastArg=argList.getLastChild();
TO:
9

INSERT:
11:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
if(modifyCallers){
callSiteOptimizer.optimizeCallSites(var,fnScope);
}
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}
TO:
9

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 3th generated patches:
Validating 184 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
10:Node lastArg=argList.getLastChild();
TO:
9

INSERT:
11:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
if(modifyCallers){
callSiteOptimizer.optimizeCallSites(var,fnScope);
}
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}
TO:
9

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
10:Node lastArg=argList.getLastChild();
TO:
9

INSERT:
12:Var var=fnScope.getVar(lastArg.getString());
TO:
9

INSERT:
13:if(!referenced.contains(var)){
argList.removeChild(lastArg);
if(modifyCallers){
callSiteOptimizer.optimizeCallSites(var,fnScope);
}
compiler.reportCodeChange();
}
TO:
9

INSERT:
20:else{
break;
}
TO:
21

INSERT:
23:lastArg=argList.getLastChild();
TO:
23

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Tested:14599 patches
Compile failed:12137 patches
Compilation rate:0.16864168778683472
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNPNNNNNNNPNNNPPNNNNNNNNNNNNNNNNNNNNPNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/42.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/42.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 178 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
15:lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 18else{
break;
}

Following are 1th generated patches:
Validating 180 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:argList.removeChild(lastArg);
TO:
10

Following are 2th generated patches:
Validating 180 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 18else{
break;
}

Following are 3th generated patches:
Validating 178 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

INSERT:
12:while(lastArg!=null&&!referenced.contains(fnScope.getVar(lastArg.getString()))){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

DELETE:
Original line: 18else{
break;
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

INSERT:
12:while(lastArg!=null&&!referenced.contains(fnScope.getVar(lastArg.getString()))){
argList.removeChild(lastArg);
compiler.reportCodeChange();
lastArg=argList.getLastChild();
}
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

DELETE:
Original line: 19break;

Tested:15412 patches
Compile failed:12794 patches
Compilation rate:0.16986763560861667
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNPNNPNNNNNNNNNNPNPNPPPNNNNPNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNPPPPNPPPPPPPPNPPPPPNPNPPPPPNPPPPNNNPPPPPPPPPNPNPNPPNPPPNPPPNNPPNNPPNPNNPPPPNNPPNNPPNNNPNPNNNPPPNNNPPNNNNNPNNPNPNNPNPPNNPNPPNNPPNPPNPPPPPPNNPPPPNPNPNPNPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNPNPPNNNNNPPPNPNNNNNNNNNNNNPPPPNNNNNNNPNNNNNNNPNNPNNNPNNNNNNNNNNNPNNPNNNNNPNNNNPNNNNNNPNPNPNNPNNNPNNNNPNNNNPNNNNNNNNNNNNNNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/43.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/43.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

Following are 1th generated patches:
Validating 177 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}

Following are 2th generated patches:
Validating 14 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

Following are 3th generated patches:
Validating 178 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}

Following are 4th generated patches:
Validating 190 patches...
Current actions:
INSERT:
11:Node lastArg=argList.getLastChild();
TO:
10

DELETE:
Original line: 11Node lastArg;

UPDATE
FROM:
12:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
12:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
lastArg=argList.getLastChild();
}

INSERT:
21:lastArg=argList.getLastChild();
TO:
20

Tested:15984 patches
Compile failed:13251 patches
Compilation rate:0.1709834834834835
NNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNPPPPPPNPPPPPNNPPPPNPPPPNPPNPPNPPPNPPPPPPPPPPPPNNPPPPPPNNPNPNPPPNNPPNNNPPPNPNPPNNNPPNPPNNNNNPNNNPNPNNNPNNPPPNNNPNNPNNNPPPPPPNPNNPNPPPPPPPNNPPPPNNPNNNPPPNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/44.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/44.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!var.isFormalArg()){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(!referenced.contains(var)&&!var.isFormalArg()){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:15986 patches
Compile failed:13253 patches
Compilation rate:0.17096209183035155
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/45.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/45.java
Current actions:
DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

INSERT:
23:else{
if(!lastArgRemovesAll){
callSiteOptimizer.optimize(fnScope,referenced);
}
}
TO:
22

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
23:else{
if(!lastArgRemovesAll){
callSiteOptimizer.optimize(fnScope,referenced);
}
}
TO:
22

Following are 3th generated patches:
Validating 1 patches...
Tested:15992 patches
Compile failed:13257 patches
Compilation rate:0.1710230115057529
NNPNPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/46.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/46.java
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(var!=null&&!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
14:if(var!=null&&!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Tested:15994 patches
Compile failed:13257 patches
Compilation rate:0.17112667250218833
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/47.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/47.java
Current actions:
Wrap:
MethodDeclaration
On:
[Node lastArg;, while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}, callSiteOptimizer.optimize(fnScope,referenced);, else{
callSiteOptimizer.optimize(fnScope,referenced);
}, {
callSiteOptimizer.optimize(fnScope,referenced);
}, else{
callSiteOptimizer.optimize(fnScope,referenced);
}, {
callSiteOptimizer.optimize(fnScope,referenced);
}, return ;, Node argList=getFunctionArgList(function);]
Following are 0th generated patches:
Validating 21 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

INSERT:
16:else{
break;
}
TO:
21

DELETE:
Original line: 19break;

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
16:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 3 patches...
Current actions:
INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
1

DELETE:
Original line: 6return ;

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
16:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
1

DELETE:
Original line: 6return ;

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
16:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 4th generated patches:
Validating 4 patches...
Current actions:
INSERT:
2:private void removeUnreferencedFunctionArgs(Scope fnScope){
Node function=fnScope.getRootNode();
Preconditions.checkState(function.isFunction());
if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}
Node argList=getFunctionArgList(function);
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
1

DELETE:
Original line: 6return ;

DELETE:
Original line: 8Node argList=getFunctionArgList(function);

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
16:else{
break;
}
TO:
21

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Tested:16004 patches
Compile failed:13265 patches
Compilation rate:0.17114471382154461
NNNNPPNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/48.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/48.java
Current actions:
INSERT:
24:Node lastArg;
TO:
23

Following are 0th generated patches:
Validating 48 patches...
Current actions:
INSERT:
24:Node lastArg;
TO:
23

INSERT:
25:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
23

Following are 1th generated patches:
Validating 107 patches...
Current actions:
INSERT:
24:Node lastArg;
TO:
23

INSERT:
28:argList.removeChild(lastArg);
TO:
23

INSERT:
29:compiler.reportCodeChange();
TO:
23

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
27:if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
TO:
23

INSERT:
32:break;
TO:
23

Following are 3th generated patches:
Validating 200 patches...
Tested:16556 patches
Compile failed:13658 patches
Compilation rate:0.1750422807441411
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNNPPPPPPNPNPNPNPPPPPPPPNNNPPPNNNPPPPPPPPNPPNPPPPNPPPPPPNPPPPPPPPPNNPNPPPPPPPPPPPNPPPPPPNPNPNPPPPPPPPPNNNNNNNNPPPNPPPNNNNPPNNPNNNNNNNNPPPPNPNPNNPPNPPPNNPPPPPPNNNPPPPNNNNPPPPPNPPPPPPPNPPNPPNNNNNNPPPNNNNPNNNNNPPPNPNNPPPNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNPNPPPNNNPNPNNNNNNNNNNPNNPPNNPNNPNNNPNPNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/49.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/49.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 81 patches...
Current actions:
DELETE:
Original line: 11Node lastArg;

INSERT:
11:for(Node arg : argList.children()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
INSERT:
12:Var var=fnScope.getVar(arg.getString());
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
14:argList.removeChild(arg);
TO:
14

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:Var var=fnScope.getVar(arg.getString());
TO:
10

DELETE:
Original line: 15argList.removeChild(lastArg);

Following are 3th generated patches:
Validating 53 patches...
Current actions:
INSERT:
11:for(Node arg : argList.children()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
}
TO:
10

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
11:for(Node arg : argList.children()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argList.removeChild(arg);
compiler.reportCodeChange();
}
}
TO:
10

DELETE:
Original line: 18else{
break;
}

Tested:16889 patches
Compile failed:13974 patches
Compilation rate:0.1725975487003375
NNNNNNNNNNNNNNNNNNNNNNNPPPNNPPNNNNNNNNNNNNNNNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/50.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/50.java
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
11:Var var=fnScope.getVar(lastArg.getString());
TO:
8

INSERT:
12:if(!referenced.contains(var)){
Node replacement=IR.block().srcref(lastArg);
replacement.addChildToBack(lastArg);
lastArg=lastArg.getPrevious();
argList.replaceChild(lastArg,replacement);
compiler.reportCodeChange();
}
TO:
8

INSERT:
23:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 1th generated patches:
Validating 91 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

INSERT:
10:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
Node replacement=IR.block().srcref(lastArg);
replacement.addChildToBack(lastArg);
lastArg=lastArg.getPrevious();
argList.replaceChild(lastArg,replacement);
compiler.reportCodeChange();
}
else{
lastArg=null;
}
}
TO:
8

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 14if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}

INSERT:
23:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 2th generated patches:
Validating 28 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
10:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
Node replacement=IR.block().srcref(lastArg);
replacement.addChildToBack(lastArg);
lastArg=lastArg.getPrevious();
argList.replaceChild(lastArg,replacement);
compiler.reportCodeChange();
}
else{
lastArg=null;
}
}
TO:
8

INSERT:
23:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 3th generated patches:
Validating 29 patches...
Current actions:
INSERT:
9:Node lastArg=argList.getLastChild();
TO:
8

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
10:while(lastArg!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
Node replacement=IR.block().srcref(lastArg);
replacement.addChildToBack(lastArg);
lastArg=lastArg.getPrevious();
argList.replaceChild(lastArg,replacement);
compiler.reportCodeChange();
}
else{
lastArg=null;
}
}
TO:
8

INSERT:
23:callSiteOptimizer.optimize(fnScope,referenced);
TO:
25

DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

Following are 4th generated patches:
Validating 182 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
14:replacement.addChildToBack(lastArg);
TO:
8

Tested:17341 patches
Compile failed:14416 patches
Compilation rate:0.16867539357591835
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNPNPNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/51.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/51.java
Current actions:
DELETE:
Original line: 11Node lastArg;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node argToRemove=null;
TO:
10

INSERT:
12:for(Node arg=argList.getLastChild();arg!=null;arg=arg.getPrevious()){
Var var=fnScope.getVar(arg.getString());
if(!referenced.contains(var)){
argToRemove=arg;
continue;
}
if(argToRemove!=null){
argList.removeChild(argToRemove);
compiler.reportCodeChange();
argToRemove=null;
}
}
TO:
10

DELETE:
Original line: 13Var var=fnScope.getVar(lastArg.getString());

DELETE:
Original line: 18else{
break;
}

INSERT:
25:argList.removeChild(argToRemove);
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:Node argToRemove=null;
TO:
10

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
13:Var var=fnScope.getVar(arg.getString());
TO:
10

INSERT:
15:argToRemove=arg;
TO:
14

INSERT:
16:continue;
TO:
14

INSERT:
19:argList.removeChild(argToRemove);
TO:
17

INSERT:
20:compiler.reportCodeChange();
TO:
17

INSERT:
24:if(argToRemove!=null){
argList.removeChild(argToRemove);
compiler.reportCodeChange();
}
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:17909 patches
Compile failed:14960 patches
Compilation rate:0.16466581048634765
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNPNNNNNNNNNNNNNPPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPPPNPNPNPNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/52.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/52.java
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

Following are 0th generated patches:
Validating 121 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:Node lastArg;
TO:
8

INSERT:
7:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
17:if(modifyCallSites){
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
22

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:Node lastArg;
TO:
8

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 5if(NodeUtil.isGetOrSetKey(function.getParent())){
return ;
}

INSERT:
6:Node lastArg;
TO:
8

INSERT:
7:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

Following are 3th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:Node lastArg;
TO:
8

DELETE:
Original line: 6return ;

INSERT:
7:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
8

DELETE:
Original line: 11Node lastArg;

DELETE:
Original line: 12while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}

INSERT:
17:if(modifyCallSites){
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
22

Tested:18142 patches
Compile failed:15079 patches
Compilation rate:0.16883474809833535
NNNNNPPPPPPNPNNNPNNPNNNNNPPPPPPPPPPPPNNNNNNNNNNNPPPPNNNPPPPNNNPNPPPPPPPPPPNPNNPNNPPPPNNNPNNNPNPPNNNPPNPNPPPPPNPPPPPNNNPPPPNPNNNNNNPNNPPNPNPNNPNNPPPNNPPNNNNNNNPNNNPNNNPPNPNPNPNNNNNPNPPPNNNNNNNNPPNPNPNPPNNNPPPPNNPNNNNPPPPPNNNPPPPPPPNPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/53.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/53.java
Current actions:
INSERT:
24:Node lastArg;
TO:
23

Following are 0th generated patches:
Validating 25 patches...
Current actions:
INSERT:
27:if(!referenced.contains(var)){
callSiteOptimizer.optimize(fnScope,referenced);
break;
}
TO:
23

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 24callSiteOptimizer.optimize(fnScope,referenced);

INSERT:
25:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
callSiteOptimizer.optimize(fnScope,referenced);
break;
}
}
TO:
23

Following are 2th generated patches:
Validating 200 patches...
Tested:18556 patches
Compile failed:15490 patches
Compilation rate:0.16522957533951282
NNNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/54.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/54.java
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

INSERT:
9:if(referenced.isEmpty()){
if(argList.hasChildren()){
compiler.reportCodeChange();
function.replaceChild(argList,new Node(Token.EMPTY,argList));
}
return ;
}
TO:
8

DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

INSERT:
16:Node lastArg;
TO:
22

INSERT:
17:while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
TO:
22

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 1th generated patches:
Validating 125 patches...
Current actions:
DELETE:
Original line: 9boolean modifyCallers=modifyCallSites&&callSiteOptimizer.canModifyCallers(function);

INSERT:
9:if(referenced.isEmpty()){
if(argList.hasChildren()){
compiler.reportCodeChange();
function.replaceChild(argList,new Node(Token.EMPTY,argList));
}
return ;
}
TO:
8

Following are 2th generated patches:
Validating 2 patches...
Tested:18740 patches
Compile failed:15591 patches
Compilation rate:0.16803628601921025
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNPPPNPPNPPPPNNPPPPPPPPNNNNPPPPPNNNPPPNPPNNPNPNNNPPPPPNPNPPPPPNPPPNPPPPPPPPPNNNPNPPNNNNPPNPPPPNNNNNNPPPNNNNPPPNPNNNNNNPNNPNNNNPNPNNPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/55.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_1/55.java
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 0th generated patches:
Validating 41 patches...
Current actions:
DELETE:
Original line: 10if(!modifyCallers){
Node lastArg;
while((lastArg=argList.getLastChild())!=null){
Var var=fnScope.getVar(lastArg.getString());
if(!referenced.contains(var)){
argList.removeChild(lastArg);
compiler.reportCodeChange();
}
else{
break;
}
}
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
10:Node lastArg;
TO:
9

DELETE:
Original line: 11Node lastArg;

INSERT:
17:else{
break;
}
TO:
9

DELETE:
Original line: 18else{
break;
}

INSERT:
21:if(modifyCallers){
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
22

DELETE:
Original line: 23else{
callSiteOptimizer.optimize(fnScope,referenced);
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
21:if(modifyCallers){
callSiteOptimizer.optimize(fnScope,referenced);
}
TO:
22

Following are 4th generated patches:
Validating 200 patches...
Tested:19147 patches
Compile failed:15915 patches
Compilation rate:0.16879928970595917
NPPPPPPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNNNNNNNNPPPNNPPNPPNNPNNNNNPPNPNPNNNNNNNPPPNPNPNNNNPPNNNNNPNPNNNNPNPNNNNNNPNNPNPNPNPPPNPNNNNPNNNNPPNPPNPPNNNNNNNNNNNPNPPNNPNNNNPPNNPNNPNPNNNPPPPNNNNPNPNPPPNNNPNNNNNPNNPPNNNPPPPPPPP
Finish : closure-1 > patch : 0 | Start : Tue Apr 09 15:42:21 HKT 2024 | End : 2024.04.09 AD at 17:56:50 HKT
