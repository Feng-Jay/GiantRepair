Repair : closure_69
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/0.java
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 0th generated patches:
Validating 108 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 12boolean isExtern=false;

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 1th generated patches:
Validating 34 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 3th generated patches:
Validating 3 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 12boolean isExtern=false;

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 4th generated patches:
Validating 33 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Tested:168 patches
Compile failed:124 patches
Compilation rate:0.2619047619047619
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNPPNPNPNNNNNNPNNNNPNPPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPPPPPPPPPPNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/1.java
Current actions:
INSERT:
22:if(!functionType.isThisTypeExplicit()&&!functionType.isVarArgs()&&!functionType.isLoose()){
report(t,n,CALL_NON_FUNCTION_TYPE,childType.toString());
}
TO:
21

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
22:if(!functionType.isThisTypeExplicit()&&!functionType.isVarArgs()&&!functionType.isLoose()){
report(t,n,CALL_NON_FUNCTION_TYPE,childType.toString());
}
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
23:report(t,n,CALL_NON_FUNCTION_TYPE,childType.toString());
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:570 patches
Compile failed:351 patches
Compilation rate:0.38421052631578945
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPNPPPNPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNPPPPPNPNPNNNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/2.java
Tested:570 patches
Compile failed:351 patches
Compilation rate:0.38421052631578945

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/3.java
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 0th generated patches:
Validating 48 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&functionType.getReturnType().isUnknownType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Following are 1th generated patches:
Validating 11 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&functionType.getReturnType().isUnknownType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 2th generated patches:
Validating 12 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&functionType.getReturnType().isUnknownType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 3th generated patches:
Validating 11 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&functionType.getReturnType().isUnknownType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 4th generated patches:
Validating 10 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Tested:658 patches
Compile failed:397 patches
Compilation rate:0.3966565349544073
NNNNNNNNNNNNNNNNNNNNPPPNPNNNNNPNNPPNNNPNNNNNPPPPNNNNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/4.java
Current actions:
INSERT:
25:if(childType.isRegExp()){
JSDocInfo functionJSDocInfo=childType.getJSDocInfo();
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
if(functionSource!=null&&!functionSource.isExtern()){
report(t,n,REGEXP_CALL);
}
}
TO:
24

Following are 0th generated patches:
Validating 22 patches...
Current actions:
INSERT:
25:if(childType.isRegExp()){
JSDocInfo functionJSDocInfo=childType.getJSDocInfo();
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
if(functionSource!=null&&!functionSource.isExtern()){
report(t,n,REGEXP_CALL);
}
}
TO:
24

Following are 1th generated patches:
Validating 160 patches...
Current actions:
INSERT:
26:JSDocInfo functionJSDocInfo=childType.getJSDocInfo();
TO:
24

INSERT:
28:CompilerInput functionSource=compiler.getInput(sourceName);
TO:
24

INSERT:
29:if(functionSource!=null&&!functionSource.isExtern()){
report(t,n,REGEXP_CALL);
}
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:1038 patches
Compile failed:777 patches
Compilation rate:0.2514450867052023
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/5.java
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

Following are 2th generated patches:
Validating 13 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 3th generated patches:
Validating 14 patches...
Tested:1068 patches
Compile failed:794 patches
Compilation rate:0.2565543071161049
NNPNNNNNNNNNNNNNNNPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/6.java
Current actions:
INSERT:
25:if(childType.isUnknownType()&&childType.isClass()){
FunctionType constructorType=childType.getConstructor();
Node constructor=getConstructorOfClass(child);
if(constructor==null){
return ;
}
if(!constructorType.isConstructor()){
report(t,n,INVALID_INVOCATION,constructorType.toString());
ensureTyped(t,n);
}
visitParameterList(t,n,constructorType);
ensureTyped(t,n,constructorType.getReturnType());
}
TO:
24

Following are 0th generated patches:
Validating 107 patches...
Current actions:
INSERT:
32:report(t,n,INVALID_INVOCATION,constructorType.toString());
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
25:if(childType.isUnknownType()&&childType.isClass()){
FunctionType constructorType=childType.getConstructor();
Node constructor=getConstructorOfClass(child);
if(constructor==null){
return ;
}
if(!constructorType.isConstructor()){
report(t,n,INVALID_INVOCATION,constructorType.toString());
ensureTyped(t,n);
}
visitParameterList(t,n,constructorType);
ensureTyped(t,n,constructorType.getReturnType());
}
TO:
24

Following are 2th generated patches:
Validating 1 patches...
Tested:1376 patches
Compile failed:1102 patches
Compilation rate:0.19912790697674418
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/7.java
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 0th generated patches:
Validating 48 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 2th generated patches:
Validating 19 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

Tested:1444 patches
Compile failed:1140 patches
Compilation rate:0.21052631578947367
NNNNNNNNNNNNNNNNNNNNPPPPNNNNNNNPPPNNNNNPNNNNPPPPNPPPPPPPPPPPPPPPPPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/8.java
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 0th generated patches:
Validating 7 patches...
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

Following are 2th generated patches:
Validating 13 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 3th generated patches:
Validating 14 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

UPDATE
FROM:
5:if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}
TO:
5:if(!childType.isSubtypeOf(UNKNOWN_FUNCTION_TYPE)){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 4th generated patches:
Validating 196 patches...
Current actions:
UPDATE
FROM:
5:if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}
TO:
5:if(!childType.isSubtypeOf(UNKNOWN_FUNCTION_TYPE)){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Tested:1673 patches
Compile failed:1299 patches
Compilation rate:0.22355050806933652
NNNNNNPNNNNNNNNNNNNNNNPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNPPPPPPPPPNPPPPPPPPPPNNPPPPPPPPPNPPPPPPPPPNNNNPNNNPNPNPNPNNPPPPNNPNNNNNNNNNNNNNNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/9.java
Tested:1673 patches
Compile failed:1299 patches
Compilation rate:0.22355050806933652

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/10.java
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 0th generated patches:
Validating 8 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 7ensureTyped(t,n);

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 6report(t,n,NOT_CALLABLE,childType.toString());

DELETE:
Original line: 7ensureTyped(t,n);

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 6report(t,n,NOT_CALLABLE,childType.toString());

DELETE:
Original line: 8return ;

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 6report(t,n,NOT_CALLABLE,childType.toString());

DELETE:
Original line: 7ensureTyped(t,n);

DELETE:
Original line: 8return ;

Tested:1685 patches
Compile failed:1299 patches
Compilation rate:0.229080118694362
PPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/11.java
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

INSERT:
18:if(!childType.canBeCalled()){
ensureTyped(t,n);
return ;
}
TO:
25

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:JSType childType=getJSType(child);
TO:
3

DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 6report(t,n,NOT_CALLABLE,childType.toString());

INSERT:
11:if(functionType.isConstructor()&&!functionType.isNativeObjectType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
11

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

INSERT:
18:if(!childType.canBeCalled()){
ensureTyped(t,n);
return ;
}
TO:
25

INSERT:
22:visitParameterList(t,n,functionType);
TO:
25

Following are 2th generated patches:
Validating 200 patches...
Tested:2279 patches
Compile failed:1707 patches
Compilation rate:0.250987275120667
NNNNNNNNNNNNNPPPPNNNPPPNNNPPNNNNNPPNNNNPPNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNPPPPPPNNNNNNPPNNNNNNPNPPNNPNNNNNNNNNNNNNNNNNNNPPPPPPNNNNPPPPPPPPPPNNPPNPPPPPPPNNPPPPPPPPNNPPNNNPNPPPPPPNNPNPNPPPPPPPPPPPPPPPPPNPPPPPPNPPNPNNNNPPPNPPPPPNPPPPNPNNNNPPPPPPPPPPPPPPPPPPPNPNNNNPPPPPPPPPPPPPPPPPPPNNNNPPPPPNNPPPPPPPPPPPPPPNNPPPPPPPNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/12.java
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 0th generated patches:
Validating 194 patches...
Current actions:
DELETE:
Original line: 7ensureTyped(t,n);

DELETE:
Original line: 8return ;

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

INSERT:
14:if(child.isGetProp()||child.isGetElem()){
ensureTyped(t,n);
}
TO:
25

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 1th generated patches:
Validating 200 patches...
Tested:2577 patches
Compile failed:1976 patches
Compilation rate:0.23321691889794335
NNNNNNNNNNNNNNPPPPPPNNPNNNNNNNNNNNPNNNNNNNNPPNNNNPNNNNPNPPPPNNNNNPNNNNPNNNPNNNNNNPNNPNNPNPNNNNPNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/13.java
Tested:2577 patches
Compile failed:1976 patches
Compilation rate:0.23321691889794335

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/14.java
Current actions:
INSERT:
25:if(childType instanceof JSTypeNative){
ensureTyped(t,n);
}
TO:
24

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
25:if(childType instanceof JSTypeNative){
ensureTyped(t,n);
}
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
26:ensureTyped(t,n);
TO:
24

INSERT:
29:report(t,n,INVALID_CALL,childType.toString());
TO:
25

Following are 2th generated patches:
Validating 200 patches...
Tested:2981 patches
Compile failed:2380 patches
Compilation rate:0.20161019792016102
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/15.java
Current actions:
INSERT:
22:if(functionType.isThisTypeExplicit()){
Node enclosingNode=n.getEnclosingNode();
Node enclosingStatement=enclosingNode.getEnclosingStatement();
Node parent=enclosingStatement.getParent();
String parentType=parent.toString();
if(parentType.contains("GETPROP")||parentType.contains("GETELEM")){
ensureTyped(t,n,functionType.getReturnType());
}
}
TO:
21

Following are 0th generated patches:
Validating 37 patches...
Current actions:
INSERT:
26:String parentType=parent.toString();
TO:
21

INSERT:
27:if(parentType.contains("GETPROP")||parentType.contains("GETELEM")){
ensureTyped(t,n,functionType.getReturnType());
}
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:if(functionType.isThisTypeExplicit()){
Node enclosingNode=n.getEnclosingNode();
Node enclosingStatement=enclosingNode.getEnclosingStatement();
Node parent=enclosingStatement.getParent();
String parentType=parent.toString();
if(parentType.contains("GETPROP")||parentType.contains("GETELEM")){
ensureTyped(t,n,functionType.getReturnType());
}
}
TO:
21

Following are 2th generated patches:
Validating 160 patches...
Tested:3377 patches
Compile failed:2774 patches
Compilation rate:0.1785608528279538
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/16.java
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 0th generated patches:
Validating 74 patches...
Current actions:
DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

DELETE:
Original line: 19if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
INSERT:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
11

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 17isExtern=functionSource.isExtern();

DELETE:
Original line: 19if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
11

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 3th generated patches:
Validating 200 patches...
Tested:3849 patches
Compile failed:3130 patches
Compilation rate:0.18680176669264745
NNNNNNNNNNNNNNNNNNNPPNPPPNNNPNNNNNNPNNPNNNPNNNNNNNNNNNNPNNPNNPPNNNPPNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPNNPNNNNPPNNPPPPNPPPPNPNNNNNNNNNNNNNPNNPPPPPPNPPPNNNNPPPPNPPNPNPNNNPPNNPNPPPNPPPNNNNNPPPNNPPNPNNNPNPPPPPPNNPPPNPNNPPPNPPPNNPNPPNNNPPNPPNPNNNNPNPNPPNPNNPPNNNNNPPPPPNPNNNNNPNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/17.java
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 0th generated patches:
Validating 177 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
7:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 8return ;

Following are 1th generated patches:
Validating 17 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
7:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 2th generated patches:
Validating 20 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
7:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 3th generated patches:
Validating 19 patches...
Current actions:
DELETE:
Original line: 6report(t,n,NOT_CALLABLE,childType.toString());

DELETE:
Original line: 7ensureTyped(t,n);

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 8return ;

Tested:4078 patches
Compile failed:3250 patches
Compilation rate:0.2030407062285434
NNNNNNNNNNNNNPPPNPNNNPPPNNNPNNNNNNNNNNNPNPNNNPNPNNNNPNNPPNNNNPPPNNNPNNNNNNNNNNNNNNPNPNPNNPNPPPPPNNNPNNPPPNNNPNPPNNPNPNNNNNNNNPNPNNPNNNNNNNNPNNNNPNNNNPPNNPNPPNNPNNNPPNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/18.java
Current actions:
INSERT:
25:if(childType.getImplicitPrototype()!=null&&!childType.getImplicitPrototype().isUnknownType()){
report(t,n,NON_CONSTRUCTOR_WITH_IMPLICIT_PROTOTYPE,childType.toString());
ensureTyped(t,n);
}
TO:
24

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
27:ensureTyped(t,n);
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
25:if(childType.getImplicitPrototype()!=null&&!childType.getImplicitPrototype().isUnknownType()){
report(t,n,NON_CONSTRUCTOR_WITH_IMPLICIT_PROTOTYPE,childType.toString());
ensureTyped(t,n);
}
TO:
24

Following are 2th generated patches:
Validating 72 patches...
Tested:4354 patches
Compile failed:3526 patches
Compilation rate:0.19016995865870465
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/19.java
Current actions:
INSERT:
25:if(childType.isRegexp()){
report(t,n,REGEXP_CALL);
ensureTyped(t,n,getNativeType(STRING_TYPE));
}
TO:
24

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
26:report(t,n,REGEXP_CALL);
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
25:if(childType.isRegexp()){
report(t,n,REGEXP_CALL);
ensureTyped(t,n,getNativeType(STRING_TYPE));
}
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:4758 patches
Compile failed:3918 patches
Compilation rate:0.17654476670870115
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPPPPNPNNNNNNNNPNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/20.java
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 0th generated patches:
Validating 48 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||functionType.getJSDocInfo()==null||!functionType.getJSDocInfo().isExtern())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 1th generated patches:
Validating 102 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 2th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||functionType.getJSDocInfo()==null||!functionType.getJSDocInfo().isExtern())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 3th generated patches:
Validating 99 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||functionType.getJSDocInfo()==null||!functionType.getJSDocInfo().isExtern())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 4th generated patches:
Validating 101 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||functionType.getJSDocInfo()==null||!functionType.getJSDocInfo().isExtern())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Tested:5104 patches
Compile failed:4166 patches
Compilation rate:0.18377742946708464
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNPNPNPNPNNPNNPPPPNNNPPNNPNPPPPNNPNPNPPPNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNPPNNNPPNNNPPPNNNNPPNPNPPPPPNNNNPPPPNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPNPNPPNNNPPNNPPPNNNPPNNNPPPPPPNNNNPPPPPNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/21.java
Current actions:
DELETE:
Original line: 3Node child=n.getFirstChild();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 4JSType childType=getJSType(child).restrictByNotNullOrUndefined();

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 3Node child=n.getFirstChild();

DELETE:
Original line: 7ensureTyped(t,n);

DELETE:
Original line: 10if(childType instanceof FunctionType){
FunctionType functionType=(FunctionType)childType;
boolean isExtern=false;
JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();
if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}
if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
visitParameterList(t,n,functionType);
ensureTyped(t,n,functionType.getReturnType());
}

DELETE:
Original line: 26ensureTyped(t,n);

Following are 4th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

DELETE:
Original line: 10if(childType instanceof FunctionType){
FunctionType functionType=(FunctionType)childType;
boolean isExtern=false;
JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();
if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}
if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
visitParameterList(t,n,functionType);
ensureTyped(t,n,functionType.getReturnType());
}

DELETE:
Original line: 25else{
ensureTyped(t,n);
}

Tested:5308 patches
Compile failed:4290 patches
Compilation rate:0.19178598342125094
NNNNNNNNPPPPPPPNPPNPNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNPNPNPNNPNPPPPPNNNPNNNNNNPPPPPPPPPPPPPPPPPPPPNNNNNNNNNNNPNNNNPNNPNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNPNPPPPPPPPNPNNNNNPPPPPPPNPPNPNNPNNPPPPPPPPPNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/22.java
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

Following are 0th generated patches:
Validating 61 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

INSERT:
26:if(childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
}
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 5if(!childType.canBeCalled()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
return ;
}

INSERT:
23:if(childType.isUnionType()){
ensureTyped(t,n,childType.getLeastSupertype(compiler));
}
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:5727 patches
Compile failed:4554 patches
Compilation rate:0.20481927710843373
NNNNNNNNNNNNNNNPPPPPPNPPPPPPPPPNNPNNPPPPPPNNPPPPPPPPPPPPPPNNPPPPPPPPPPNNNNPPPPPPPPNNPNNPPPPPPPNPPNPPNPNPPNPNPPNPPNNPPPNNPPNNNPPPPPNPPPPPPPPNNPPPNPNPPNPPPPPPNPPPPPPPPPPPPPPNPPNPPPPPPPPPNNNPPPPNNNPPPPNPPPPPPPNPPPPPPNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/23.java
Current actions:
INSERT:
25:if(childType.isUnknownType()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
}
TO:
24

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
25:if(childType.isUnknownType()){
report(t,n,NOT_CALLABLE,childType.toString());
ensureTyped(t,n);
}
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
27:ensureTyped(t,n);
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:6131 patches
Compile failed:4802 patches
Compilation rate:0.21676724840972109
NNNPNNNNNNNNPPPPNPPPPPPNPPPPNPPNPPPPPPPPPPPNPNNPNNPNNNNNNNPPPPPNPPPPPNPPPPPPPPPPPNPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPNPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPNPNPNPPPPPNPNPPNPPPPNPPPNPPPNNPNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/24.java
Current actions:
Wrap:
IfStatement
On:
[visitParameterList(t,n,functionType);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 22visitParameterList(t,n,functionType);

INSERT:
22:if(!hasExplicitThisType(functionType)){
visitParameterList(t,n,functionType);
}
TO:
21

Following are 1th generated patches:
Validating 76 patches...
Tested:6208 patches
Compile failed:4854 patches
Compilation rate:0.21810567010309279
PNNNNNPPPPPPPPPPNPPPPPPPNNPNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/25.java
Current actions:
INSERT:
25:if(childType instanceof ObjectType){
ensureTyped(t,n);
}
TO:
24

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
25:if(childType instanceof ObjectType){
ensureTyped(t,n);
}
TO:
24

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
26:ensureTyped(t,n);
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:6610 patches
Compile failed:5104 patches
Compilation rate:0.22783661119515886
NPNNNPPPPPPPPPPNNNNNPPPPPNPPPNNPPPPPPPPPPPPPPPPPPNPPPNNPNPPPPPPNPPNPNNNPNPPPNPPNNPPNNPPPPPPPPPPPPPPPNPNPNPPNPPPPPPPPPPPPNNPPNPPPPPPPNPNPPPNPPPPPPPNPNPPPPPPPPPPNPPPPPPPPPPPPNPPPNPNPPPNPPNNPNNNPPPNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/26.java
Current actions:
INSERT:
25:if(childType.isFunctionPrototypeType()){
}
TO:
24

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
25:if(childType.isFunctionPrototypeType()){
}
TO:
24

INSERT:
49:}

TO:
28

Following are 1th generated patches:
Validating 200 patches...
Tested:6811 patches
Compile failed:5305 patches
Compilation rate:0.22111290559389224
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/27.java
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

Following are 0th generated patches:
Validating 48 patches...
Current actions:
UPDATE
FROM:
19:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!isExtern)){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}
TO:
12:if(functionType.isConstructor()&&!functionType.isNativeObjectType()&&(functionType.getReturnType().isUnknownType()||functionType.getReturnType().isVoidType()||!functionType.getJSDocInfo().isExtern())){
report(t,n,CONSTRUCTOR_NOT_CALLABLE,childType.toString());
}

DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 14if(functionJSDocInfo!=null){
String sourceName=functionJSDocInfo.getSourceName();
CompilerInput functionSource=compiler.getInput(sourceName);
isExtern=functionSource.isExtern();
}

Following are 1th generated patches:
Validating 56 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 12boolean isExtern=false;

DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 3th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 15String sourceName=functionJSDocInfo.getSourceName();

DELETE:
Original line: 17isExtern=functionSource.isExtern();

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 13JSDocInfo functionJSDocInfo=functionType.getJSDocInfo();

DELETE:
Original line: 16CompilerInput functionSource=compiler.getInput(sourceName);

Tested:6916 patches
Compile failed:5390 patches
Compilation rate:0.22064777327935223
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPPNNNPPPPNNNNPPPPPNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_69/28.java
Current actions:
INSERT:
22:Node parent=n.getParent();
TO:
21

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
22:Node parent=n.getParent();
TO:
21

DELETE:
Original line: 22visitParameterList(t,n,functionType);

INSERT:
23:if(functionType.isThisTypeDeclared()&&parent.isGetProp()||parent.isGetElem()){
visitParameterList(t,n,functionType);
}
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Tested:7117 patches
Compile failed:5589 patches
Compilation rate:0.2146972038780385
PPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : closure-69 > patch : 0 | Start : Wed Apr 10 18:32:11 HKT 2024 | End : 2024.04.10 AD at 18:55:49 HKT
