Repair : closure_58
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/0.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,kill);, addToSetIfLocal(lhs,gen);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
23:if(NodeUtil.isName(lhs)){
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

Following are 1th generated patches:
Validating 200 patches...
Tested:201 patches
Compile failed:62 patches
Compilation rate:0.6915422885572139
PNNPPPPPPPNPPNNNPNNPPPPPPPPNNPPPPPPPNPPPPNNNNNNNPNNPNNPPPPPPPPPPPPPPPPPPPPNPPNNNPPPPNNPPNNPPPPPPNNPNNPPPPNNPPPPPPPPPPNPNPPPPPPPPPPPNNNPNPPPPPNNPNNPPPPPPPPPPPPNNNPPNPNPNPNNPNPPPPPPPPPNPNPPNNPPPNNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/1.java
Current actions:
INSERT:
57:case Token.GETELEM :
TO:
55

DELETE:
Original line: 57if(NodeUtil.isAssignmentOp(n)&&NodeUtil.isName(n.getFirstChild())){
Node lhs=n.getFirstChild();
if(!conditional){
addToSetIfLocal(lhs,kill);
}
if(!NodeUtil.isAssign(n)){
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}

INSERT:
58:case Token.CALL :
TO:
55

INSERT:
59:case Token.NEW :
TO:
55

INSERT:
60:case Token.THIS :
TO:
55

INSERT:
61:case Token.STRING_KEY :
TO:
55

INSERT:
62:case Token.NUMBER :
TO:
55

INSERT:
63:case Token.NULL :
TO:
55

INSERT:
64:case Token.FALSE :
TO:
55

INSERT:
65:case Token.TRUE :
TO:
55

INSERT:
69:return ;
TO:
64

INSERT:
70:case Token.ASSIGN :
TO:
64

INSERT:
71:case Token.ASSIGN_BITOR :
TO:
64

INSERT:
72:case Token.ASSIGN_BITXOR :
TO:
64

INSERT:
74:case Token.ASSIGN_LSH :
TO:
64

INSERT:
75:case Token.ASSIGN_RSH :
TO:
64

INSERT:
76:case Token.ASSIGN_URSH :
TO:
64

INSERT:
78:case Token.BITOR :
TO:
64

INSERT:
80:case Token.BITAND :
TO:
64

INSERT:
81:case Token.LSH :
TO:
64

INSERT:
82:case Token.RSH :
TO:
64

INSERT:
83:case Token.URSH :
TO:
64

INSERT:
84:case Token.SUB :
TO:
64

INSERT:
86:case Token.DIV :
TO:
64

INSERT:
87:case Token.MOD :
TO:
64

INSERT:
88:case Token.NOT :
TO:
64

INSERT:
89:case Token.POS :
TO:
64

INSERT:
91:case Token.INC :
TO:
64

INSERT:
92:case Token.DEC :
TO:
64

INSERT:
93:case Token.DELPROP :
TO:
64

INSERT:
94:case Token.TYPEOF :
TO:
64

INSERT:
96:Node lhs=n.getFirstChild();
TO:
64

INSERT:
97:computeGenKill(lhs,gen,kill,conditional);
TO:
64

INSERT:
99:return ;
TO:
65

Following are 1th generated patches:
Validating 46 patches...
Current actions:
DELETE:
Original line: 56default :

DELETE:
Original line: 58Node lhs=n.getFirstChild();

INSERT:
64:case Token.FALSE :
TO:
55

DELETE:
Original line: 67else{
for(Node c=n.getFirstChild();c!=null;c=c.getNext()){
computeGenKill(c,gen,kill,conditional);
}
}

INSERT:
69:return ;
TO:
64

INSERT:
71:case Token.ASSIGN_BITOR :
TO:
64

INSERT:
72:case Token.ASSIGN_BITXOR :
TO:
64

INSERT:
75:case Token.ASSIGN_RSH :
TO:
64

INSERT:
83:case Token.URSH :
TO:
64

INSERT:
85:case Token.MUL :
TO:
64

INSERT:
89:case Token.POS :
TO:
64

INSERT:
96:Node lhs=n.getFirstChild();
TO:
64

INSERT:
99:return ;
TO:
65

INSERT:
100:default :
TO:
65

Following are 2th generated patches:
Validating 12 patches...
Current actions:
INSERT:
63:case Token.NULL :
TO:
55

DELETE:
Original line: 67else{
for(Node c=n.getFirstChild();c!=null;c=c.getNext()){
computeGenKill(c,gen,kill,conditional);
}
}

INSERT:
76:case Token.ASSIGN_URSH :
TO:
64

INSERT:
78:case Token.BITOR :
TO:
64

INSERT:
81:case Token.LSH :
TO:
64

INSERT:
88:case Token.NOT :
TO:
64

INSERT:
89:case Token.POS :
TO:
64

INSERT:
92:case Token.DEC :
TO:
64

INSERT:
94:case Token.TYPEOF :
TO:
64

INSERT:
99:return ;
TO:
65

Following are 3th generated patches:
Validating 10 patches...
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

DELETE:
Original line: 56default :

DELETE:
Original line: 57if(NodeUtil.isAssignmentOp(n)&&NodeUtil.isName(n.getFirstChild())){
Node lhs=n.getFirstChild();
if(!conditional){
addToSetIfLocal(lhs,kill);
}
if(!NodeUtil.isAssign(n)){
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}

INSERT:
59:case Token.NEW :
TO:
55

INSERT:
62:case Token.NUMBER :
TO:
55

INSERT:
64:case Token.FALSE :
TO:
55

INSERT:
66:for(Node c=n.getFirstChild();c!=null;c=c.getNext()){
computeGenKill(c,gen,kill,conditional);
}
TO:
55

INSERT:
69:return ;
TO:
64

INSERT:
70:case Token.ASSIGN :
TO:
64

INSERT:
72:case Token.ASSIGN_BITXOR :
TO:
64

INSERT:
73:case Token.ASSIGN_BITAND :
TO:
64

INSERT:
74:case Token.ASSIGN_LSH :
TO:
64

INSERT:
75:case Token.ASSIGN_RSH :
TO:
64

INSERT:
77:case Token.ADD :
TO:
64

INSERT:
78:case Token.BITOR :
TO:
64

INSERT:
79:case Token.BITXOR :
TO:
64

INSERT:
81:case Token.LSH :
TO:
64

INSERT:
83:case Token.URSH :
TO:
64

INSERT:
84:case Token.SUB :
TO:
64

INSERT:
86:case Token.DIV :
TO:
64

INSERT:
87:case Token.MOD :
TO:
64

INSERT:
88:case Token.NOT :
TO:
64

INSERT:
89:case Token.POS :
TO:
64

INSERT:
90:case Token.NEG :
TO:
64

INSERT:
91:case Token.INC :
TO:
64

INSERT:
94:case Token.TYPEOF :
TO:
64

INSERT:
95:case Token.VOID :
TO:
64

INSERT:
96:Node lhs=n.getFirstChild();
TO:
64

INSERT:
97:computeGenKill(lhs,gen,kill,conditional);
TO:
64

INSERT:
99:return ;
TO:
65

INSERT:
100:default :
TO:
65

Following are 4th generated patches:
Validating 44 patches...
Current actions:
DELETE:
Original line: 56default :

INSERT:
59:case Token.NEW :
TO:
55

DELETE:
Original line: 62if(!NodeUtil.isAssign(n)){
addToSetIfLocal(lhs,gen);
}

INSERT:
77:case Token.ADD :
TO:
64

INSERT:
91:case Token.INC :
TO:
64

INSERT:
100:default :
TO:
65

Tested:231 patches
Compile failed:92 patches
Compilation rate:0.6017316017316018
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/2.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,kill);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

INSERT:
23:if(!conditional){
addToSetIfLocal(lhs,kill);
}
TO:
22

Following are 1th generated patches:
Validating 4 patches...
Tested:236 patches
Compile failed:92 patches
Compilation rate:0.6101694915254238
PPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/3.java
Tested:236 patches
Compile failed:92 patches
Compilation rate:0.6101694915254238

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/4.java
Current actions:
INSERT:
56:case Token.ASSIGN :
TO:
55

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:case Token.ASSIGN :
TO:
55

DELETE:
Original line: 56default :

INSERT:
57:addToSetIfLocal(n.getFirstChild(),kill);
TO:
55

DELETE:
Original line: 57if(NodeUtil.isAssignmentOp(n)&&NodeUtil.isName(n.getFirstChild())){
Node lhs=n.getFirstChild();
if(!conditional){
addToSetIfLocal(lhs,kill);
}
if(!NodeUtil.isAssign(n)){
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}

INSERT:
58:if(NodeUtil.isName(n.getFirstChild())){
addToSetIfLocal(n.getFirstChild(),gen);
}
TO:
55

INSERT:
61:default :
TO:
66

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 56default :

DELETE:
Original line: 59if(!conditional){
addToSetIfLocal(lhs,kill);
}

INSERT:
59:addToSetIfLocal(n.getFirstChild(),gen);
TO:
55

INSERT:
61:default :
TO:
66

DELETE:
Original line: 63addToSetIfLocal(lhs,gen);

Following are 2th generated patches:
Validating 12 patches...
Current actions:
DELETE:
Original line: 67else{
for(Node c=n.getFirstChild();c!=null;c=c.getNext()){
computeGenKill(c,gen,kill,conditional);
}
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 58Node lhs=n.getFirstChild();

INSERT:
58:if(NodeUtil.isName(n.getFirstChild())){
addToSetIfLocal(n.getFirstChild(),gen);
}
TO:
55

Following are 4th generated patches:
Validating 200 patches...
Tested:803 patches
Compile failed:595 patches
Compilation rate:0.2590286425902864
NNNNNPPPPPPPPPPPPPPPPPNPPPNNPPPNPPPNNPNNNPPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNPNNNNPNNNNNNNNPNNNPNNPPNNNNNNPPPPPPPPNPNNNPPPPPPPPPPNPNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/5.java
Current actions:
INSERT:
56:case Token.OBJECTLIT :
TO:
55

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
56:case Token.OBJECTLIT :
TO:
55

INSERT:
57:if(!conditional){
kill.set(n.getLastChild().getIntProp(Node.LOCAL_PROP));
}
TO:
55

Following are 1th generated patches:
Validating 63 patches...
Current actions:
INSERT:
57:if(!conditional){
kill.set(n.getLastChild().getIntProp(Node.LOCAL_PROP));
}
TO:
55

Following are 2th generated patches:
Validating 62 patches...
Current actions:
INSERT:
56:case Token.OBJECTLIT :
TO:
55

INSERT:
58:kill.set(n.getLastChild().getIntProp(Node.LOCAL_PROP));
TO:
55

Following are 3th generated patches:
Validating 32 patches...
Current actions:
INSERT:
56:case Token.OBJECTLIT :
TO:
55

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
58:kill.set(n.getLastChild().getIntProp(Node.LOCAL_PROP));
TO:
55

Tested:964 patches
Compile failed:701 patches
Compilation rate:0.27282157676348545
NNPPPNNNNNNNPPPPPPNNNPPPNNPNPPPNPNPNNPPNPNPNNPNPNNPPNPPPNPPNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNPPNPNPNNNNNNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/6.java
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

INSERT:
57:computeGenKill(n.getFirstChild(),gen,kill,conditional);
TO:
55

INSERT:
58:computeGenKill(n.getLastChild(),gen,kill,conditional);
TO:
55

INSERT:
59:return ;
TO:
55

Following are 2th generated patches:
Validating 10 patches...
Current actions:
INSERT:
57:computeGenKill(n.getFirstChild(),gen,kill,conditional);
TO:
55

INSERT:
58:computeGenKill(n.getLastChild(),gen,kill,conditional);
TO:
55

INSERT:
59:return ;
TO:
55

Following are 3th generated patches:
Validating 9 patches...
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

INSERT:
57:computeGenKill(n.getFirstChild(),gen,kill,conditional);
TO:
55

INSERT:
58:computeGenKill(n.getLastChild(),gen,kill,conditional);
TO:
55

Following are 4th generated patches:
Validating 9 patches...
Current actions:
INSERT:
58:computeGenKill(n.getLastChild(),gen,kill,conditional);
TO:
55

INSERT:
59:return ;
TO:
55

Tested:1000 patches
Compile failed:715 patches
Compilation rate:0.285
NNNNNNNPPPPPPPPPPPPPPPNNNNNNNPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/7.java
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
57:case Token.GETELEM :
TO:
55

INSERT:
58:case Token.CALL :
TO:
55

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

INSERT:
58:case Token.CALL :
TO:
55

INSERT:
60:addToSetIfLocal(n,gen);
TO:
55

INSERT:
61:return ;
TO:
55

Following are 2th generated patches:
Validating 44 patches...
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

INSERT:
57:case Token.GETELEM :
TO:
55

INSERT:
58:case Token.CALL :
TO:
55

INSERT:
59:case Token.NEW :
TO:
55

INSERT:
60:addToSetIfLocal(n,gen);
TO:
55

INSERT:
61:return ;
TO:
55

Following are 3th generated patches:
Validating 46 patches...
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

INSERT:
57:case Token.GETELEM :
TO:
55

INSERT:
60:addToSetIfLocal(n,gen);
TO:
55

INSERT:
61:return ;
TO:
55

Following are 4th generated patches:
Validating 44 patches...
Current actions:
INSERT:
56:case Token.GETPROP :
TO:
55

INSERT:
57:case Token.GETELEM :
TO:
55

INSERT:
61:return ;
TO:
55

Tested:1165 patches
Compile failed:736 patches
Compilation rate:0.3682403433476395
PPPPPPPPPPNPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPNPPPPPPPNPNPNPPPPPPNPPPPPPPPPPPNPPPPNPPPPPPPPPPPPPNPPNNPPPPPPPPPPPPPPPNNPPPPPPPPPPNPPPPPPPPNNPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/8.java
Current actions:
INSERT:
56:case Token.ASSIGN_BITOR :
TO:
55

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
62:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
68:case Token.ASSIGN_SUB :
TO:
55

Following are 1th generated patches:
Validating 19 patches...
Current actions:
INSERT:
56:case Token.ASSIGN_BITOR :
TO:
55

INSERT:
57:case Token.ASSIGN_BITXOR :
TO:
55

INSERT:
58:case Token.ASSIGN_BITAND :
TO:
55

INSERT:
59:case Token.ASSIGN_LSH :
TO:
55

INSERT:
60:case Token.ASSIGN_RSH :
TO:
55

INSERT:
61:case Token.ASSIGN_URSH :
TO:
55

INSERT:
62:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
65:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
55

INSERT:
66:return ;
TO:
55

INSERT:
67:case Token.ASSIGN_ADD :
TO:
55

INSERT:
68:case Token.ASSIGN_SUB :
TO:
55

INSERT:
70:case Token.ASSIGN_DIV :
TO:
55

INSERT:
71:case Token.ASSIGN_MOD :
TO:
55

INSERT:
72:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
75:addToSetIfLocal(n.getFirstChild(),gen);
TO:
55

INSERT:
76:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
55

Following are 2th generated patches:
Validating 58 patches...
Current actions:
INSERT:
58:case Token.ASSIGN_BITAND :
TO:
55

INSERT:
62:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
66:return ;
TO:
55

INSERT:
67:case Token.ASSIGN_ADD :
TO:
55

INSERT:
68:case Token.ASSIGN_SUB :
TO:
55

INSERT:
70:case Token.ASSIGN_DIV :
TO:
55

INSERT:
72:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
75:addToSetIfLocal(n.getFirstChild(),gen);
TO:
55

INSERT:
76:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
55

Following are 3th generated patches:
Validating 51 patches...
Current actions:
INSERT:
56:case Token.ASSIGN_BITOR :
TO:
55

INSERT:
57:case Token.ASSIGN_BITXOR :
TO:
55

INSERT:
58:case Token.ASSIGN_BITAND :
TO:
55

INSERT:
59:case Token.ASSIGN_LSH :
TO:
55

INSERT:
60:case Token.ASSIGN_RSH :
TO:
55

INSERT:
61:case Token.ASSIGN_URSH :
TO:
55

INSERT:
62:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
65:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
55

INSERT:
66:return ;
TO:
55

INSERT:
67:case Token.ASSIGN_ADD :
TO:
55

INSERT:
68:case Token.ASSIGN_SUB :
TO:
55

INSERT:
69:case Token.ASSIGN_MUL :
TO:
55

INSERT:
70:case Token.ASSIGN_DIV :
TO:
55

INSERT:
71:case Token.ASSIGN_MOD :
TO:
55

INSERT:
72:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
75:addToSetIfLocal(n.getFirstChild(),gen);
TO:
55

INSERT:
76:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
55

INSERT:
77:return ;
TO:
55

Following are 4th generated patches:
Validating 60 patches...
Current actions:
INSERT:
56:case Token.ASSIGN_BITOR :
TO:
55

INSERT:
57:case Token.ASSIGN_BITXOR :
TO:
55

INSERT:
58:case Token.ASSIGN_BITAND :
TO:
55

INSERT:
59:case Token.ASSIGN_LSH :
TO:
55

INSERT:
60:case Token.ASSIGN_RSH :
TO:
55

INSERT:
62:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
67:case Token.ASSIGN_ADD :
TO:
55

INSERT:
68:case Token.ASSIGN_SUB :
TO:
55

INSERT:
69:case Token.ASSIGN_MUL :
TO:
55

INSERT:
70:case Token.ASSIGN_DIV :
TO:
55

INSERT:
72:if(!conditional){
addToSetIfLocal(n.getFirstChild(),kill);
}
TO:
55

INSERT:
75:addToSetIfLocal(n.getFirstChild(),gen);
TO:
55

INSERT:
77:return ;
TO:
55

Tested:1478 patches
Compile failed:844 patches
Compilation rate:0.428958051420839
PPPPPPPPPPNNNNNNNNNNNNNNNNNNPNPNNNPPPNNNPNNNNNNNNNNNNNNNPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNPPPPNPPNPNPPNNNNPNNPPPPPPPPPNPPPPPPPPPNNNNNNPPPNPNPPPPPNNNNNNPPPPPPPPPPNPPPPPPPPPNNNNNPPPPPNPNPPNNPNNPNNNPPPPPPPNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/9.java
Current actions:
INSERT:
56:case Token.ASSIGN :
TO:
55

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 56default :

INSERT:
57:if(!NodeUtil.isName(n.getFirstChild())){
return ;
}
TO:
55

DELETE:
Original line: 59if(!conditional){
addToSetIfLocal(lhs,kill);
}

INSERT:
61:addToSetIfLocal(n.getFirstChild(),gen);
TO:
66

INSERT:
62:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
66

INSERT:
63:return ;
TO:
66

INSERT:
64:default :
TO:
66

DELETE:
Original line: 67else{
for(Node c=n.getFirstChild();c!=null;c=c.getNext()){
computeGenKill(c,gen,kill,conditional);
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:case Token.ASSIGN :
TO:
55

DELETE:
Original line: 56default :

INSERT:
57:if(!NodeUtil.isName(n.getFirstChild())){
return ;
}
TO:
55

DELETE:
Original line: 57if(NodeUtil.isAssignmentOp(n)&&NodeUtil.isName(n.getFirstChild())){
Node lhs=n.getFirstChild();
if(!conditional){
addToSetIfLocal(lhs,kill);
}
if(!NodeUtil.isAssign(n)){
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}

INSERT:
60:addToSetIfLocal(n.getFirstChild(),kill);
TO:
66

INSERT:
61:addToSetIfLocal(n.getFirstChild(),gen);
TO:
66

INSERT:
62:computeGenKill(n.getFirstChild().getNext(),gen,kill,conditional);
TO:
66

INSERT:
63:return ;
TO:
66

INSERT:
64:default :
TO:
66

Following are 2th generated patches:
Validating 200 patches...
Tested:2048 patches
Compile failed:1361 patches
Compilation rate:0.33544921875
NNNNNNNNNNNNNNNNNNNPPNPPPNPNPPNNNNPNNNNNNPNNNNNPPNNPNPPNNPPNNNPNPPNNPPNNPPPNPNNNPNPNNNNNNNNNNPNPNPPPNNPNNPNNNNPNNPNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPPNNNNNNNNPPNNPPNNPNNPNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/10.java
Current actions:
INSERT:
23:if(NodeUtil.isAssign(lhs)){
Node assign=lhs;
lhs=assign.getFirstChild();
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

Following are 0th generated patches:
Validating 66 patches...
Current actions:
INSERT:
30:addToSetIfLocal(lhs,kill);
TO:
22

Following are 1th generated patches:
Validating 47 patches...
Current actions:
INSERT:
25:lhs=assign.getFirstChild();
TO:
22

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

INSERT:
24:Node assign=lhs;
TO:
22

DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

INSERT:
26:addToSetIfLocal(lhs,kill);
TO:
22

INSERT:
27:addToSetIfLocal(lhs,gen);
TO:
22

INSERT:
29:else{
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

Following are 3th generated patches:
Validating 8 patches...
Current actions:
INSERT:
23:if(NodeUtil.isAssign(lhs)){
Node assign=lhs;
lhs=assign.getFirstChild();
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

INSERT:
30:addToSetIfLocal(lhs,kill);
TO:
22

INSERT:
31:addToSetIfLocal(lhs,gen);
TO:
22

Following are 4th generated patches:
Validating 200 patches...
FILE : /data/PLM4APR/tmp/defects4j_buggy//closure/closure_58_buggy/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java
SUCCESS
//Following are generated patch:
  private void computeGenKill(  Node n,  BitSet gen,  BitSet kill,  boolean conditional){
switch (n.getType()) {
case Token.SCRIPT:
case Token.BLOCK:
case Token.FUNCTION:
      return;
case Token.WHILE:
case Token.DO:
case Token.IF:
    computeGenKill(NodeUtil.getConditionExpression(n),gen,kill,conditional);
  return;
case Token.FOR:
if (!NodeUtil.isForIn(n)) {
  computeGenKill(NodeUtil.getConditionExpression(n),gen,kill,conditional);
}
 else {
  Node lhs=n.getFirstChild();
  Node rhs=lhs.getNext();
  if (NodeUtil.isVar(lhs)) {
    lhs=lhs.getLastChild();
  }
if(!(NodeUtil.isReferenceName(lhs))){
Node assign=lhs;
lhs=assign.getFirstChild();
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
  addToSetIfLocal(lhs,kill);
  computeGenKill(rhs,gen,kill,conditional);
}
return;
case Token.VAR:
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
if (c.hasChildren()) {
computeGenKill(c.getFirstChild(),gen,kill,conditional);
if (!conditional) {
  addToSetIfLocal(c,kill);
}
}
}
return;
case Token.AND:
case Token.OR:
computeGenKill(n.getFirstChild(),gen,kill,conditional);
computeGenKill(n.getLastChild(),gen,kill,true);
return;
case Token.HOOK:
computeGenKill(n.getFirstChild(),gen,kill,conditional);
computeGenKill(n.getFirstChild().getNext(),gen,kill,true);
computeGenKill(n.getLastChild(),gen,kill,true);
return;
case Token.NAME:
if (isArgumentsName(n)) {
markAllParametersEscaped();
}
 else {
addToSetIfLocal(n,gen);
}
return;
default :
if (NodeUtil.isAssignmentOp(n) && NodeUtil.isName(n.getFirstChild())) {
Node lhs=n.getFirstChild();
if (!conditional) {
addToSetIfLocal(lhs,kill);
}
if (!NodeUtil.isAssign(n)) {
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}
 else {
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
computeGenKill(c,gen,kill,conditional);
}
}
return;
}
}

1 th patch/521
Trace:
IfStmt;NOT IfCondition;MethodInv;SCOPEMETHODINV
START : 
2024.04.10 AD at 14:40:01 HKT
---------TIME : 
2024.04.10 AD at 14:58:30 HKT
--------------- END -----------------
FILE : /data/PLM4APR/tmp/defects4j_buggy//closure/closure_58_buggy/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java
SUCCESS
//Following are generated patch:
  private void computeGenKill(  Node n,  BitSet gen,  BitSet kill,  boolean conditional){
switch (n.getType()) {
case Token.SCRIPT:
case Token.BLOCK:
case Token.FUNCTION:
      return;
case Token.WHILE:
case Token.DO:
case Token.IF:
    computeGenKill(NodeUtil.getConditionExpression(n),gen,kill,conditional);
  return;
case Token.FOR:
if (!NodeUtil.isForIn(n)) {
  computeGenKill(NodeUtil.getConditionExpression(n),gen,kill,conditional);
}
 else {
  Node lhs=n.getFirstChild();
  Node rhs=lhs.getNext();
  if (NodeUtil.isVar(lhs)) {
    lhs=lhs.getLastChild();
  }
if(NodeUtil.isSimpleOperator(lhs)){
Node assign=lhs;
lhs=assign.getFirstChild();
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
  addToSetIfLocal(lhs,kill);
  computeGenKill(rhs,gen,kill,conditional);
}
return;
case Token.VAR:
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
if (c.hasChildren()) {
computeGenKill(c.getFirstChild(),gen,kill,conditional);
if (!conditional) {
  addToSetIfLocal(c,kill);
}
}
}
return;
case Token.AND:
case Token.OR:
computeGenKill(n.getFirstChild(),gen,kill,conditional);
computeGenKill(n.getLastChild(),gen,kill,true);
return;
case Token.HOOK:
computeGenKill(n.getFirstChild(),gen,kill,conditional);
computeGenKill(n.getFirstChild().getNext(),gen,kill,true);
computeGenKill(n.getLastChild(),gen,kill,true);
return;
case Token.NAME:
if (isArgumentsName(n)) {
markAllParametersEscaped();
}
 else {
addToSetIfLocal(n,gen);
}
return;
default :
if (NodeUtil.isAssignmentOp(n) && NodeUtil.isName(n.getFirstChild())) {
Node lhs=n.getFirstChild();
if (!conditional) {
addToSetIfLocal(lhs,kill);
}
if (!NodeUtil.isAssign(n)) {
addToSetIfLocal(lhs,gen);
}
computeGenKill(lhs.getNext(),gen,kill,conditional);
}
 else {
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
computeGenKill(c,gen,kill,conditional);
}
}
return;
}
}

2 th patch/521
Trace:
MethodInv;SCOPEMETHODINV;IfStmt;MethodInv;SCOPEMETHODINV
START : 
2024.04.10 AD at 14:40:01 HKT
---------TIME : 
2024.04.10 AD at 14:58:30 HKT
--------------- END -----------------
Tested:2524 patches
Compile failed:1649 patches
Compilation rate:0.34667194928684625
NNNNNPPPNPPPPPPNPPPPPPPPNPPPPPPPPPPPPPPPPPNPNPPNPPPPPPPPPPPPPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNPPPNPPPNNPNPNNNPPNPPPNNPPPPNNPNPPPPNPPNPPNPPPPPNNPPPPNPNNPPNNPNPPPPPPPPPPPPPPPPPPPPPNPNPNPNPPPNPPNNPNNPPPNNPNPPPPNNNNPNPPPNNPPNNNPNPNPNPPNNNPPNNPNPPPPPPNNNPNPNPPNPNNPPNPPPNPPPPNPPPNNPPNPNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/11.java
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

Following are 0th generated patches:
Validating 36 patches...
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

INSERT:
57:case Token.GETPROP :
TO:
55

INSERT:
58:computeGenKill(n.getFirstChild(),gen,kill,conditional);
TO:
55

INSERT:
59:if(NodeUtil.mayHaveSideEffects(n.getFirstChild())){
markAllParametersEscaped();
}
TO:
55

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:case Token.GETELEM :
TO:
55

INSERT:
59:if(NodeUtil.mayHaveSideEffects(n.getFirstChild())){
markAllParametersEscaped();
}
TO:
55

Following are 2th generated patches:
Validating 200 patches...
Tested:2956 patches
Compile failed:1732 patches
Compilation rate:0.4140730717185386
NNNNNNPPPPPPPPPPNPPPPPNPNNNPPPPPPPPPNNPPPPPPPPPPNPPPPPPPPNPNPPPPNPPPNPPPPPPPPPPPPPPNPNNPPPPPPPPPPPPPPPNPPNPNNPPPPNPNPPPPPPNNPNPPPPPPPNNPNNPNNPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPNPPPPPPPPPNNPNPPPPPPPPPPPPPPPPNNNPPPPPPPPNPPPPNPPPPPPPPPPPPPPNPPPPPPPPPPNNPPPPPNPPPPPNNPPPPPPPPPPPPPPPPNPPPNNPPPPPPPPPPNPNPPPNNPPPPPPPNNPPPPPNPPNPPNPNNNPPPNPNNPNPPPNPPPPPPPPPPPPPPNPPPPPPPNPPPPPNPPPPNPPPPNPNNPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/12.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,gen);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

INSERT:
24:if(NodeUtil.isLValue(rhs)){
addToSetIfLocal(lhs,gen);
}
TO:
23

Following are 1th generated patches:
Validating 200 patches...
Tested:3157 patches
Compile failed:1788 patches
Compilation rate:0.4336395312005068
PPPPPPPPPPPNNNNNNNNNNPPPPPPNNPPNNPNNPPPNNPNPPPNPPNNPPNNNNPNPPNPPPPNNPPPPPPPPNPPPNNNPPPPPPPPPPPPPNNPPPPPNNPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPNNPPPPPPNNPPPNPPPPPPPPPPNPPNPPNNNPPPPNNPPNNPPNPNPPPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/13.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,kill);, addToSetIfLocal(lhs,gen);]
Following are 0th generated patches:
Validating 36 patches...
Current actions:
DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

INSERT:
23:if(NodeUtil.isAssign(rhs)){
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

INSERT:
70:}

TO:
63

Following are 1th generated patches:
Validating 200 patches...
Tested:3377 patches
Compile failed:1998 patches
Compilation rate:0.40835060704767545
NNNNNNNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/14.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,kill);, addToSetIfLocal(lhs,gen);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

INSERT:
23:if(NodeUtil.isName(lhs)&&!NodeUtil.isEnhancedFor(n)){
addToSetIfLocal(lhs,kill);
addToSetIfLocal(lhs,gen);
}
TO:
22

DELETE:
Original line: 24addToSetIfLocal(lhs,gen);

Following are 1th generated patches:
Validating 200 patches...
Tested:3578 patches
Compile failed:2182 patches
Compilation rate:0.39016210173281163
PNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_58/15.java
Current actions:
Wrap:
IfStatement
On:
[addToSetIfLocal(lhs,kill);]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 23addToSetIfLocal(lhs,kill);

INSERT:
23:if(!NodeUtil.isAssign(lhs)){
addToSetIfLocal(lhs,kill);
}
TO:
22

Following are 1th generated patches:
Validating 200 patches...
Tested:3779 patches
Compile failed:2226 patches
Compilation rate:0.41095527917438474
PNNNNNNPPPPPPPPNNNPNPPPPPPPPPPPPPPPNPPNNNPPNPNPNPNNNPPPPPPNNPNNPPPPNPNPPPPNNPPNPNPNPPNPPNPNNPPPNPNNPPPPPNNPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPP
Finish : closure-58 > patch : 2 | Start : Wed Apr 10 14:40:01 HKT 2024 | End : 2024.04.10 AD at 15:06:49 HKT
