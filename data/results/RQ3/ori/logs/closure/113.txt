Repair : closure_113
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/0.java
Current actions:
INSERT:
19:if(provided.hasRequireType()){
String typeName=provided.requireType.getSecondChild().getString();
ProvidedName typeProvided=providedNames.get(typeName);
if(typeProvided==null){
typeProvided=new ProvidedName(typeName,null);
providedNames.put(typeName,typeProvided);
}
typeProvided.explicitModule=module;
typeProvided.isGoogProvided=true;
if(typeProvided.isExplicitlyProvided()){
compiler.report(t.makeError(n,XTYPE_REQUIRE_ERROR,typeName,providedModule.getName(),module.getName()));
}
}
TO:
18

Following are 0th generated patches:
Validating 107 patches...
Current actions:
INSERT:
19:if(provided.hasRequireType()){
String typeName=provided.requireType.getSecondChild().getString();
ProvidedName typeProvided=providedNames.get(typeName);
if(typeProvided==null){
typeProvided=new ProvidedName(typeName,null);
providedNames.put(typeName,typeProvided);
}
typeProvided.explicitModule=module;
typeProvided.isGoogProvided=true;
if(typeProvided.isExplicitlyProvided()){
compiler.report(t.makeError(n,XTYPE_REQUIRE_ERROR,typeName,providedModule.getName(),module.getName()));
}
}
TO:
18

Following are 1th generated patches:
Validating 58 patches...
Current actions:
INSERT:
22:if(typeProvided==null){
typeProvided=new ProvidedName(typeName,null);
providedNames.put(typeName,typeProvided);
}
TO:
18

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
28:if(typeProvided.isExplicitlyProvided()){
compiler.report(t.makeError(n,XTYPE_REQUIRE_ERROR,typeName,providedModule.getName(),module.getName()));
}
TO:
18

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
23:typeProvided=new ProvidedName(typeName,null);
TO:
18

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
20:String typeName=provided.requireType.getSecondChild().getString();
TO:
18

INSERT:
29:compiler.report(t.makeError(n,XTYPE_REQUIRE_ERROR,typeName,providedModule.getName(),module.getName()));
TO:
18

Tested:765 patches
Compile failed:765 patches
Compilation rate:0.0
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/1.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.preserve){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.preserve){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 42 patches...
Tested:808 patches
Compile failed:807 patches
Compilation rate:0.0012376237623762376
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/2.java
Current actions:
INSERT:
9:if(preserveRequireNames){
parent.replaceChild(arg,NodeUtil.newStringNode(compiler,ns,arg));
compiler.reportCodeChange();
}
TO:
8

Following are 0th generated patches:
Validating 9 patches...
Current actions:
INSERT:
9:if(preserveRequireNames){
parent.replaceChild(arg,NodeUtil.newStringNode(compiler,ns,arg));
compiler.reportCodeChange();
}
TO:
8

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
9:if(preserveRequireNames){
parent.replaceChild(arg,NodeUtil.newStringNode(compiler,ns,arg));
compiler.reportCodeChange();
}
TO:
8

INSERT:
13:else{
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
10:parent.replaceChild(arg,NodeUtil.newStringNode(compiler,ns,arg));
TO:
8

INSERT:
13:else{
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

Following are 3th generated patches:
Validating 200 patches...
Tested:1412 patches
Compile failed:1409 patches
Compilation rate:0.002124645892351275
NNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/3.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!checkMissingRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!checkMissingRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:1419 patches
Compile failed:1415 patches
Compilation rate:0.0028188865398167725
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/4.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!skipBrokenProvides){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!skipBrokenProvides){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:1426 patches
Compile failed:1421 patches
Compilation rate:0.0035063113604488078
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/5.java
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 0th generated patches:
Validating 63 patches...
Current actions:
INSERT:
9:compiler.reportCodeChange();
TO:
8

INSERT:
13:parent.detachFromParent();
TO:
8

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
11:maybeAddToSymbolTable(left);
TO:
8

DELETE:
Original line: 19maybeAddToSymbolTable(left);

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
10:compiler.reportChangeToEnclosingScope(n);
TO:
8

INSERT:
13:parent.detachFromParent();
TO:
8

DELETE:
Original line: 22parent.detachFromParent();

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:compiler.reportCodeChange();
TO:
8

INSERT:
10:compiler.reportChangeToEnclosingScope(n);
TO:
8

INSERT:
12:maybeAddStringNodeToSymbolTable(arg);
TO:
8

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 4th generated patches:
Validating 200 patches...
Tested:1834 patches
Compile failed:1539 patches
Compilation rate:0.1608505997818975
PPPPPPPPPPNNNPPNPPPPNPPPPPPPPPPPPPPPPPPNPPNPNPNPNPPPPPNPNPPNNNPPPPPPPPPPPPNPNPNPPNNNNNPNPPNNPPPNPNNPPPPPNNNPNNPPPPPPPPPNNPPNPPNPPPPPNPPPPPNNNPPPPPPNPPPPPPPPPNNNNPPPPPPNNNPPNPNPPPPPPPPPNPPNPPPPPPNNNNNPPPPPPPPPPNNNPPPPPNPPPPNPPPPPPPPPPPPPPPPPNPNNNPPNPPPPPNPNPPNPPPNNPPPPPPPPPPNNPPPNNNPNPNPNNNPNPPPPPNNPNPPPNPNNPNPPNPPPPPPNPNNPPPPNPPNPPPPPPNNPPPNPPPPNPPPPPPPPPNNNNPPPPPPPNNNPNPPNPPPPPPPPPNNPPPPPPNPPNNNPNPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/6.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null||!enforceExistenceChecks){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null||!enforceExistenceChecks){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:1841 patches
Compile failed:1545 patches
Compilation rate:0.16078218359587182
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/7.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:1846 patches
Compile failed:1549 patches
Compilation rate:0.1608884073672806
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/8.java
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
9:if(!compiler.getOptions().checkRequires||!hasErrors()){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 62 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
9:if(!compiler.getOptions().checkRequires||!hasErrors()){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 64 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
9:if(!compiler.getOptions().checkRequires||!hasErrors()){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 3th generated patches:
Validating 63 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
9:if(!compiler.getOptions().checkRequires||!hasErrors()){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Tested:2037 patches
Compile failed:1687 patches
Compilation rate:0.1718213058419244
PPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNPPPNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPPPNPNNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPNPNNNNNNNPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/9.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&t.getCheckRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&t.getCheckRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 107 patches...
Tested:2145 patches
Compile failed:1757 patches
Compilation rate:0.1808857808857809
NNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNPNPNPNPPPPNNNNNNNPNNNPPNPNPPPPNNNNNNPNPNNNNPNNNPNNNNNNNNNNNNNNNPPNPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/10.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:2150 patches
Compile failed:1761 patches
Compilation rate:0.18093023255813953
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/11.java
Current actions:
INSERT:
24:else{
parent.replaceChild(n,n.getLastChild());
}
TO:
24

Following are 0th generated patches:
Validating 5 patches...
Current actions:
DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
24:else{
parent.replaceChild(n,n.getLastChild());
}
TO:
24

INSERT:
27:compiler.reportCodeChange();
TO:
24

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
25:parent.replaceChild(n,n.getLastChild());
TO:
24

INSERT:
27:compiler.reportCodeChange();
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
24:else{
parent.replaceChild(n,n.getLastChild());
}
TO:
24

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
27:compiler.reportCodeChange();
TO:
24

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
25:parent.replaceChild(n,n.getLastChild());
TO:
24

Tested:2355 patches
Compile failed:1819 patches
Compilation rate:0.22760084925690022
PPPPNNNNNNPPPPPPPPNPPNNPPPPPPPPPNNPNPPNPPNNNNPPPNNPNPPPPPPPPPNPPNPPPPPPPNPNNNPNNNNNNPNPNNPNPPPPPNNPPPPPPPPPPPPPPPPPNPPPPNPPPPNPNNPPNPPPNPPPPPPPPPNNPNNPPPNPNPNPNPPPPPPPPPPPNPPNPPPPPPNPNPPPPPPPPPNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/12.java
Current actions:
INSERT:
9:if(!preserveMissingRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
n.detachFromParent();
compiler.reportCodeChange();
return ;
}
TO:
8

Following are 0th generated patches:
Validating 79 patches...
Current actions:
INSERT:
9:if(!preserveMissingRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
n.detachFromParent();
compiler.reportCodeChange();
return ;
}
TO:
8

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
12:compiler.reportCodeChange();
TO:
8

INSERT:
13:return ;
TO:
8

DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
27:compiler.reportCodeChange();
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:n.detachFromParent();
TO:
8

INSERT:
13:return ;
TO:
8

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
27:compiler.reportCodeChange();
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!preserveMissingRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
n.detachFromParent();
compiler.reportCodeChange();
return ;
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
26:parent.detachFromParent();
TO:
20

INSERT:
27:compiler.reportCodeChange();
TO:
20

Following are 4th generated patches:
Validating 200 patches...
Tested:2968 patches
Compile failed:2424 patches
Compilation rate:0.18328840970350405
NNNNNNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/13.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.explicitModule==null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.explicitModule==null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 42 patches...
Tested:3011 patches
Compile failed:2462 patches
Compilation rate:0.1823314513450681
PNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/14.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!t.inGlobalScope()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!t.inGlobalScope()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 200 patches...
FILE : /data/PLM4APR/tmp/defects4j_buggy//closure/closure_113_buggy/src/com/google/javascript/jscomp/ProcessClosurePrimitives.java
SUCCESS
//Following are generated patch:
  private void processRequireCall(  NodeTraversal t,  Node n,  Node parent){
    Node left=n.getFirstChild();
    Node arg=left.getNext();
    if (verifyLastArgumentIsString(t,left,arg)) {
      String ns=arg.getString();
      ProvidedName provided=providedNames.get(ns);
      if (provided == null || !provided.isExplicitlyProvided()) {
        unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
      }
 else {
        JSModule providedModule=provided.explicitModule;
        Preconditions.checkNotNull(providedModule);
        JSModule module=t.getModule();
        if (moduleGraph != null && module != providedModule && !moduleGraph.dependsOn(module,providedModule)) {
          compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
        }
      }
      maybeAddToSymbolTable(left);
      maybeAddStringNodeToSymbolTable(arg);
if(provided!=null|| requiresLevel.isOn()){
parent.detachFromParent();
compiler.reportCodeChange();
}
    }
  }

1 th patch/201
Trace:
UPDATEIfStmt;UPDATEInfixExpr
START : 
2024.04.13 AD at 03:06:51 HKT
---------TIME : 
2024.04.13 AD at 03:47:29 HKT
--------------- END -----------------
Tested:3212 patches
Compile failed:2585 patches
Compilation rate:0.1952054794520548
PNNNNNNNNNPNPPPPPPNNNNNPNNNNNNNNNNNNNNNNPNNNPNNNNNNNPNNNNNNPNNNNPNPNPNNNNPPNNNPPNNNPNPNNPNPNPPNNNNNNNPPNPPPNNPNPPPPPNNNPNPPPPNNNPNNPPNPPPNPNNNNPPNNPNPPPNNNPNNNNNPPPNNPPNPNNNPNNNNPPNPPNPPNNNNNPNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/15.java
Current actions:
INSERT:
9:if(!checkRequires){
return ;
}
TO:
8

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
9:if(!checkRequires){
return ;
}
TO:
8

Following are 1th generated patches:
Validating 4 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
24:if(provided!=null||!checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 6 patches...
Current actions:
INSERT:
9:if(!checkRequires){
return ;
}
TO:
8

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
24:if(provided!=null||!checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 10 patches...
Current actions:
INSERT:
10:return ;
TO:
8

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
10:return ;
TO:
8

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
24:if(provided!=null||!checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Tested:3238 patches
Compile failed:2610 patches
Compilation rate:0.19394688079061148
NNNNNNNNNNNNNNPNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/16.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().brokenClosureRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().brokenClosureRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:3243 patches
Compile failed:2614 patches
Compilation rate:0.19395621338267036
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/17.java
Current actions:
INSERT:
18:else{
if(providedModule.getSlot(ns)==null){
compiler.reportCodeChange();
providedModule.add(compiler,NodeUtil.newQName(compiler,ns),IR.name(ns).srcref(arg));
}
}
TO:
17

Following are 0th generated patches:
Validating 107 patches...
Current actions:
INSERT:
19:if(providedModule.getSlot(ns)==null){
compiler.reportCodeChange();
providedModule.add(compiler,NodeUtil.newQName(compiler,ns),IR.name(ns).srcref(arg));
}
TO:
17

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
18:else{
if(providedModule.getSlot(ns)==null){
compiler.reportCodeChange();
providedModule.add(compiler,NodeUtil.newQName(compiler,ns),IR.name(ns).srcref(arg));
}
}
TO:
17

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
25:parent.detachFromParent();
TO:
18

Following are 3th generated patches:
Validating 6 patches...
Current actions:
INSERT:
19:if(providedModule.getSlot(ns)==null){
compiler.reportCodeChange();
providedModule.add(compiler,NodeUtil.newQName(compiler,ns),IR.name(ns).srcref(arg));
}
TO:
17

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Tested:3692 patches
Compile failed:3047 patches
Compilation rate:0.1747020585048754
NNNNNNNNNNNNNNNNNPPPPNPNNPNNPNPNPNNNNNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/18.java
Current actions:
UPDATE
FROM:
22:parent.detachFromParent();
TO:
22:parent.replaceChild(n,left);

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
22:parent.detachFromParent();
TO:
22:parent.replaceChild(n,left);

Following are 1th generated patches:
Validating 200 patches...
Tested:3893 patches
Compile failed:3129 patches
Compilation rate:0.19624967891086564
PNNNNPPPPPNPPPPNNNNNNNNPPNPPPPPPNPPPPPPPPPPPPNPNNNPPPPNPNPNPNNPPPPPPNPPPPPNPPNNNNNNNPPPPPPPPNPPNNNNNNPNNNPPPNPNNNNNPNNPPPPNPNNPNPPPNPNPNNPPPNNPNPPNNPPPNNNPPPPPPPPNNNPNNPNNPNPNNPPPPPPNNPPNPPNPNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/19.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!markBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!markBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:3900 patches
Compile failed:3135 patches
Compilation rate:0.19615384615384615
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/20.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().removeRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().removeRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:3905 patches
Compile failed:3139 patches
Compilation rate:0.19615877080665814
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/21.java
Current actions:
Wrap:
IfStatement
On:
[unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
9:if(compiler.getOptions().getLanguageIn().toFeatureSet().contains(Feature.MODULES)){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 1th generated patches:
Validating 56 patches...
Tested:3962 patches
Compile failed:3195 patches
Compilation rate:0.19358909641595154
PNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/22.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.isStaticRequire()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.isStaticRequire()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 106 patches...
FILE : /data/PLM4APR/tmp/defects4j_buggy//closure/closure_113_buggy/src/com/google/javascript/jscomp/ProcessClosurePrimitives.java
SUCCESS
//Following are generated patch:
  private void processRequireCall(  NodeTraversal t,  Node n,  Node parent){
    Node left=n.getFirstChild();
    Node arg=left.getNext();
    if (verifyLastArgumentIsString(t,left,arg)) {
      String ns=arg.getString();
      ProvidedName provided=providedNames.get(ns);
      if (provided == null || !provided.isExplicitlyProvided()) {
        unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
      }
 else {
        JSModule providedModule=provided.explicitModule;
        Preconditions.checkNotNull(providedModule);
        JSModule module=t.getModule();
        if (moduleGraph != null && module != providedModule && !moduleGraph.dependsOn(module,providedModule)) {
          compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
        }
      }
      maybeAddToSymbolTable(left);
      maybeAddStringNodeToSymbolTable(arg);
if(provided!=null||requiresLevel.isOn()){
parent.detachFromParent();
compiler.reportCodeChange();
}
    }
  }

2 th patch/107
Trace:
UPDATEIfStmt;UPDATEInfixExpr
START : 
2024.04.13 AD at 03:06:51 HKT
---------TIME : 
2024.04.13 AD at 03:52:57 HKT
--------------- END -----------------
Tested:4069 patches
Compile failed:3269 patches
Compilation rate:0.1966085033177685
NNNNNNNNNNNNNPPPPNPPPNPNNNNNNNNNPPPNPNNNNPPNPNNPNNNNNNNPNPNNPPNNNPNNNNNPNPNNPPNNNNNNNNNNNNNNNNNNNNPNPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/23.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:4074 patches
Compile failed:3273 patches
Compilation rate:0.19661266568483063
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/24.java
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
22:parent.replaceChild(left,n.removeFirstChild());
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
22:parent.replaceChild(left,n.removeFirstChild());
TO:
21

DELETE:
Original line: 22parent.detachFromParent();

Following are 3th generated patches:
Validating 200 patches...
Tested:4478 patches
Compile failed:3363 patches
Compilation rate:0.248995087092452
PPPNNPPPPPPPNPPNPPPPPPPPPNPNPPPPPPPNPPPPPPPPNPPPPPPNPPPPNPPPNPPPPPPPPNNPNNPNNPPPNPPPNNPPPPNNPPPPPPPNPNPPPPPPNPPPPPPPPNPNNPPPPPPPPPNNPPNPPNPNPNPPNPPPPPPPPPPPPNPPNPPPPPPPPPPPPPNNPNNNPPPPNPPPPNPPNPPPPPPPPPPPNNPPPPPPNPPPPNPPPPPPPPPPNNPPPPPNPPPPPPPNPPPPPPPPNPPNPPPPPNPPPPPPPNPPPNPNNPNPNNPNPPNPPNNPPPPPPPPPPPNPPPNPPPNPPPPPPPNPNNPPPPPPPPPNNPNPPNPNPPPNPPPNPPPPPPPPPPNPNPPPPPPPPPPPPPNPNPPNNPPNPNPPPPPPNPPPNPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/25.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 20 patches...
Tested:4499 patches
Compile failed:3369 patches
Compilation rate:0.2511669259835519
PNNNNNPNPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/26.java
Current actions:
Wrap:
IfStatement
On:
[unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
9:if(!preserveMissingRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

Following are 1th generated patches:
Validating 8 patches...
Tested:4508 patches
Compile failed:3377 patches
Compilation rate:0.25088731144631765
PNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/27.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:4515 patches
Compile failed:3383 patches
Compilation rate:0.25071982281284605
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/28.java
Current actions:
Wrap:
IfStatement
On:
[parent.detachFromParent();, compiler.reportCodeChange();, {
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 7 patches...
Current actions:
DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

INSERT:
8:if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
7

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

INSERT:
8:if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
7

DELETE:
Original line: 11else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}

INSERT:
13:else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
}
TO:
10

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

INSERT:
8:if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
7

DELETE:
Original line: 11else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}

INSERT:
13:else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
}
TO:
10

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 200 patches...
Tested:5117 patches
Compile failed:3869 patches
Compilation rate:0.24389290599960914
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPNPNNNNNPNNNNNNNNNNNNNNNNPPNPNPNPNNNNNPNNNNNPPNNNNNNNNNNPNPNPNNNNNNPNPPNPNNPNNNNNNNNNPNNPNNNPPNNPNPNPNNPPNNPPPNNNPPNPNNNNPNNNNNNNPNPNPPNPNPNPNPPNNNNNPNNNPPNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNPNPNPNNPNNNNNNNNNNNNNNNNNPNPPNNNPNPNNNNNNPNNNNNNNNPNNNNPNNPNPNNNNNPPNPNPNNNPNNPNPNNNNNNNNNNPNPPNNPNPNNPPNNPPNNPNPPNPNNNPNNNPNNNNNNPNPNPPNPNPNNNPNPNNPNNNPNPPNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/29.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&removeRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&removeRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:5122 patches
Compile failed:3873 patches
Compilation rate:0.24385005857087075
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/30.java
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
21:if(provided!=null||compiler.getOptions().getMissingProvideCheckMode()==MissingProvideCheckMode.OFF){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
21:if(provided!=null||compiler.getOptions().getMissingProvideCheckMode()==MissingProvideCheckMode.OFF){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 2 patches...
Tested:5128 patches
Compile failed:3877 patches
Compilation rate:0.2439547581903276
NNPNPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/31.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.isExplicitlyProvided()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&provided.isExplicitlyProvided()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 105 patches...
Tested:5234 patches
Compile failed:3946 patches
Compilation rate:0.246083301490256
PNNNNNNNPNPPPPPPPNPNNNNNNNNNNNPPPNNPNNNNPNNPNPNNPNNNNNNPPNNNPNNNNNNPNPNNPNNNNPPNNNNPNNNNNPNPNNNNPPNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/32.java
Current actions:
Wrap:
IfStatement
On:
[maybeAddToSymbolTable(left);, maybeAddStringNodeToSymbolTable(arg);, parent.detachFromParent();, compiler.reportCodeChange();, {
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
8:if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
7

DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
7

DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 1 patches...
Tested:5637 patches
Compile failed:4230 patches
Compilation rate:0.24960085151676423
PPNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNPPPNNNNNPNNNNNNNNNNNNNNNNPNPNPNNPPNNNNPNNNNNNNNNNNNNPNNPNNPPNNNNNPNNPPNPPNPNNNNNNNNNNNNNNNPPNPNPPNNPPNNPNNPPNNPNPPNPNPNNNNNPNNNNNNPNPNPPNPNPNNNPPNNNPNNNPNPNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPNNPNNNNPNNNNNNNNNNNNNNNNPPPPNNNPNNPNNPNNNNPNNNNNNNNNNNNPNNPNPPNNNNNNPPNPNNNPNNNNNNNNNPNNNNPPNPNPNPNPNNPPNNPPNPNNPPNPPNNNNNNNNNNNPNPNPNPPNPNPNNNPNPNPNNNPNNPNPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/33.java
Current actions:
Wrap:
IfStatement
On:
[parent.detachFromParent();, compiler.reportCodeChange();]
Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
10:if(!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
9

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 8 patches...
Current actions:
INSERT:
10:if(!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
9

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
26:compiler.reportCodeChange();
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
9

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
26:compiler.reportCodeChange();
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(!allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
9

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
25:parent.detachFromParent();
TO:
20

INSERT:
26:compiler.reportCodeChange();
TO:
20

Following are 4th generated patches:
Validating 200 patches...
Tested:6247 patches
Compile failed:4832 patches
Compilation rate:0.22650872418761006
PPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/34.java
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
22:parent.removeChild(n);
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

INSERT:
22:parent.removeChild(n);
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:6649 patches
Compile failed:4943 patches
Compilation rate:0.2565799368326064
PPPNNNNPPPPPPPPPNNPNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPNNPNPPPPPPPNPNPNNPPPPPPNNNPNPNPPPNPPPNPPPNPNPPNNNPPPPPPNNNPPNPPPNNNPNNPPNPPPPPPPNPNNPPPPNPNPPNPPPPPPPPPNNNPPNPPNPNNPPPNPPPNPNPPPPNPPPPPPPPPPNNNNPPPPPPPNPPNNPNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPNPPPPNPPPPNPPNNPPNPPPNNPPPNNPNPNPPNPNPPPPPNPPNPNPPPPPNPPNPNNNPNPPPPNNNNPNPPPPPPPPNPNNPPPPPNPPPPPPNNPPPNPPNNPPPPNPNPNPNPPPPNNNPPNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/35.java
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

INSERT:
22:parent.replaceChild(n,arg);
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:parent.replaceChild(n,arg);
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:7051 patches
Compile failed:5101 patches
Compilation rate:0.2765565168061268
PPPNNNNNPPPPPNPPPNPNNNPNNNNNNNNPNPPPPPNPPPPPPPPPPPPNNNPPPPPPPNNPPNPPPPPNPNPNPPPPPNNNPPNPPPPNNNPNNPNNNNNPPPPNPPPNNPPPPPPNNNNNNPPPPPPPPNPNPNNNPPNNNPPPNPPPNPNPPNNNPPPNPNPNNPNNNPPPPPPPNPNPPPPNPPNNPPNPPPPPPPNNNNPPPPPPPNPNPNNPNNNNNNNPPNPPPNNPNPPPNPPPPPPPPNPNPNPPPPPPPNNNPPPPPPPNPNPNPPPNNPNPNPPPPPPNNPNNNNNNNPPPPPNNPPPNNPPNPNNNPPPNPPPPNPPNPNPNPNPPPNNNPPPNPPPNPNPPNNPNPNPNPNNPNNPNPPPPPPPPPNNPPPNNPPPNPPPNNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/36.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checksOnly){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checksOnly){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:7056 patches
Compile failed:5105 patches
Compilation rate:0.27650226757369617
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/37.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!t.inGlobalHoistScope()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!t.inGlobalHoistScope()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 200 patches...
Tested:7257 patches
Compile failed:5234 patches
Compilation rate:0.2787653300261816
NNNNNNNPPPPPPNNNNNNNNNNNPPPNPNPNNNNNNNPNPNNNNNPNPPNNNNPNNNNPNNNNNNNNPNNNNPNPNPPNNPNNNNPNPNPPNNNNPNPPNPNNPNNNNPNNNNPNNNNNNNPPNNNPPPPNPNNNNNPNNPPNNNPPNPPPNNPPNNPNNNNNNNNPPPNNNPPPNNNPPPPNNPNNNNNNNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/38.java
Current actions:
INSERT:
10:compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,"an unprovided namespace","your current module"));
TO:
9

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
10:compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,"an unprovided namespace","your current module"));
TO:
9

Following are 1th generated patches:
Validating 200 patches...
Tested:7458 patches
Compile failed:5346 patches
Compilation rate:0.2831858407079646
PNNNNNNNNNNNNNPNPPPNNNPPNPNNNNPPNNNNNPPPPNPPPNNPNPNNPNNPNPPPNPPPNNNNPPNPPNPPNPPPPPNPPPPPPPPNPPNPPPPPPPNNPNNPNPPNNPPNNNNNNNNNPNNNNNNPNNNNNNNNPPPPPPNPNPNPNNNNPPNNNNPNPNNNNNNPNNNNNNNPNNNPPNPPNNNNNPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/39.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checkRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checkRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 58 patches...
Tested:7517 patches
Compile failed:5404 patches
Compilation rate:0.28109618198749503
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/40.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/40.java
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!allowBrokenRequires){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,moduleGraph==null?null:moduleGraph.getRootModule().getName(),t.getSourceName()));
}
TO:
8

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!allowBrokenRequires){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,moduleGraph==null?null:moduleGraph.getRootModule().getName(),t.getSourceName()));
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
12:else{
Node nameNode=IR.name(ns);
nameNode.setOriginalName(ns);
nameNode.setDeclaredType(t.getTypeIRegistry().getNativeType(STRING_TYPE));
globalRequireNames.add(nameNode.getString());
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!allowBrokenRequires){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,moduleGraph==null?null:moduleGraph.getRootModule().getName(),t.getSourceName()));
}
TO:
8

INSERT:
12:else{
Node nameNode=IR.name(ns);
nameNode.setOriginalName(ns);
nameNode.setDeclaredType(t.getTypeIRegistry().getNativeType(STRING_TYPE));
globalRequireNames.add(nameNode.getString());
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
8

Following are 3th generated patches:
Validating 200 patches...
Tested:8315 patches
Compile failed:6143 patches
Compilation rate:0.26121467227901385
NNNNNNNNNNNNNNNPNPPPNPNNPNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPPPPNNNNNNNNNPNPNNNNPNNNPPPPNNNNNNNNPPPPNNNNNNNNNNPNNNNPPPPPNNNPPPNNNNNNNNNNNNNNNNNPPPPPPPNNNNNPNNNNNNNNPNPPPNPNPNPPPPNNNPNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/41.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/41.java
Current actions:
INSERT:
22:Node parentOfAssign=left.getParent();
TO:
21

Following are 0th generated patches:
Validating 134 patches...
Current actions:
INSERT:
24:if(assign!=null){
parent.detachFromParent();
assign.detachFromParent();
assign.replaceWith(n);
n.getFirstChild().addChildToBack(assign);
}
TO:
21

Following are 1th generated patches:
Validating 82 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

INSERT:
22:Node parentOfAssign=left.getParent();
TO:
21

INSERT:
23:Node assign=parentOfAssign.isAssign()?parentOfAssign:null;
TO:
21

INSERT:
24:if(assign!=null){
parent.detachFromParent();
assign.detachFromParent();
assign.replaceWith(n);
n.getFirstChild().addChildToBack(assign);
}
TO:
21

INSERT:
31:parent.detachFromParent();
TO:
21

INSERT:
32:n.getFirstChild().addChildToFront(parentOfAssign);
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:8687 patches
Compile failed:6504 patches
Compilation rate:0.25129503856337054
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNPNNPNNNNNNPNNNNNNNNNNNNNNNNPNNNNPPNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/42.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/42.java
Current actions:
Wrap:
IfStatement
On:
[parent.detachFromParent();, compiler.reportCodeChange();, maybeAddToSymbolTable(left);, maybeAddStringNodeToSymbolTable(arg);, if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}, {
parent.detachFromParent();
compiler.reportCodeChange();
}]
Following are 0th generated patches:
Validating 25 patches...
Current actions:
INSERT:
5:if(verifyLastArgumentIsString(t,left,arg)){
String ns=arg.getString();
ProvidedName provided=providedNames.get(ns);
if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
if(provided!=null){
Node stringArg=arg.getNext();
if(stringArg!=null&&stringArg.isString()){
String stringArgString=stringArg.getString();
if(!ns.equals(stringArgString)){
compiler.report(t.makeError(stringArg,XMODULE_CONFLICTING_PROVIDES,ns,stringArgString));
}
}
}
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
1

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(verifyLastArgumentIsString(t,left,arg)){
String ns=arg.getString();
ProvidedName provided=providedNames.get(ns);
if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
if(provided!=null){
Node stringArg=arg.getNext();
if(stringArg!=null&&stringArg.isString()){
String stringArgString=stringArg.getString();
if(!ns.equals(stringArgString)){
compiler.report(t.makeError(stringArg,XMODULE_CONFLICTING_PROVIDES,ns,stringArgString));
}
}
}
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
1

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 200 patches...
Tested:8703 patches
Compile failed:6515 patches
Compilation rate:0.25140756061128344
NNNNNNNNNNNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/43.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/43.java
Current actions:
INSERT:
9:if(moduleGraph==null||moduleGraph.getRootModule()==null){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,t.getSourceName(),t.getSourceName()));
return ;
}
TO:
8

Following are 0th generated patches:
Validating 158 patches...
Current actions:
INSERT:
9:if(moduleGraph==null||moduleGraph.getRootModule()==null){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,t.getSourceName(),t.getSourceName()));
return ;
}
TO:
8

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

INSERT:
14:if(providedModule==null){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

Following are 2th generated patches:
Validating 80 patches...
Current actions:
DELETE:
Original line: 16compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));

INSERT:
19:if(module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
TO:
11

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(moduleGraph==null||moduleGraph.getRootModule()==null){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,t.getSourceName(),t.getSourceName()));
return ;
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

DELETE:
Original line: 12JSModule providedModule=provided.explicitModule;

DELETE:
Original line: 13Preconditions.checkNotNull(providedModule);

INSERT:
13:JSModule providedModule=moduleGraph.findModuleByName(ns);
TO:
8

INSERT:
14:if(providedModule==null){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

DELETE:
Original line: 14JSModule module=t.getModule();

DELETE:
Original line: 15if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}

INSERT:
18:JSModule module=t.getModule();
TO:
11

INSERT:
19:if(module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
TO:
11

Following are 4th generated patches:
Validating 200 patches...
Tested:9429 patches
Compile failed:7241 patches
Compilation rate:0.23205005833068193
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/44.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/44.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!suppressCheckRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!suppressCheckRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:9436 patches
Compile failed:7247 patches
Compilation rate:0.23198389147944043
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/45.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/45.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().checkRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().checkRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 30 patches...
Tested:9467 patches
Compile failed:7277 patches
Compilation rate:0.23132988275060737
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/46.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/46.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().removeRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().removeRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 58 patches...
Tested:9526 patches
Compile failed:7335 patches
Compilation rate:0.23000209951711106
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/47.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/47.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().checkRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 4 patches...
Tested:9531 patches
Compile failed:7339 patches
Compilation rate:0.22998636029797503
NNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/48.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/48.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!markUnresolvedRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!markUnresolvedRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:9538 patches
Compile failed:7345 patches
Compilation rate:0.22992241560075488
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/49.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/49.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!brokenRequires.contains(ns)){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!brokenRequires.contains(ns)){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 18 patches...
Tested:9557 patches
Compile failed:7359 patches
Compilation rate:0.22998849011195982
NNNNNNNNNNNNNNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/50.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/50.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null||compiler.getOptions().checksOnly){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null||compiler.getOptions().checksOnly){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 41 patches...
Tested:9599 patches
Compile failed:7400 patches
Compilation rate:0.22908636316282946
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/51.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/51.java
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
22:parent.replaceChild(n,NodeUtil.newUndefinedNode(n));
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:parent.replaceChild(n,NodeUtil.newUndefinedNode(n));
TO:
21

DELETE:
Original line: 22parent.detachFromParent();

Following are 3th generated patches:
Validating 200 patches...
Tested:10003 patches
Compile failed:7530 patches
Compilation rate:0.2472258322503249
PPPPNNNNNPPPPNPPPPPNNNPPPPPPPNPNPPNPNPPPPPPNPNPPNNPNNPPPPPNPPPPPPPPNNPNPPPNPPPNPNPNPPPNNPPNPPNPPPNPPPPPPPPPNNPPPNPPPPPNNPPPNPPPNPPNPPPPPPPPPPPNNPNNNPPNNPNNPPPPNPPPPPPNPPPPPNNPPPPNPPNNPNPNNNPNNNPPNNPPPPPPPNNNNNPPPPPPPNPNNNPPPPPPPPPNPNPPNNPPPPPPPNPNNNPPNNPPPPPNPPPPPPPPNPPPNNPPNPPNNPPNPPNPPPNPNPNPPPPNPPPPPPPNPNPPNPPPPNPPNPPNPPNPPPPNPPPPPPPPPPPNNPPNNNPNNPNNPPPNPPPPPPNPPPPPNPPNPPNPPNNPPNNPNNNPPPNNPNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/52.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/52.java
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
21:if(provided!=null&&compiler.getOptions().getBrokenClosureRequiresHandlingMode()==Options.BrokenClosureRequiresHandlingMode.OFF){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
21:if(provided!=null&&compiler.getOptions().getBrokenClosureRequiresHandlingMode()==Options.BrokenClosureRequiresHandlingMode.OFF){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 1 patches...
Tested:10009 patches
Compile failed:7534 patches
Compilation rate:0.24727745029473475
NNPNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/53.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/53.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!skipBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!skipBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:10016 patches
Compile failed:7540 patches
Compilation rate:0.24720447284345048
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/54.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/54.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().brokenClosureRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().brokenClosureRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 58 patches...
Tested:10075 patches
Compile failed:7598 patches
Compilation rate:0.2458560794044665
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/55.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/55.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null&&t.getModule().isFirstPass()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided==null&&t.getModule().isFirstPass()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 67 patches...
Tested:10143 patches
Compile failed:7665 patches
Compilation rate:0.2443064182194617
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/56.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/56.java
Current actions:
INSERT:
9:if(!hasOnlyBrokenCommonJsRequires&&(getMode()==JSModule.Mode.TYPECHECK||getMode()==JSModule.Mode.BROWSER)){
Node newRequire=t.getScope().createSyntheticNode();
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
parent.replaceChild(n,newRequire);
newRequire.setOriginalName("require("+ns+")");
newRequire.putBooleanProp(Node.ANALYZED_DURING_GATHER_EXPLORATION,true);
return ;
}
TO:
8

Following are 0th generated patches:
Validating 42 patches...
Current actions:
INSERT:
9:if(!hasOnlyBrokenCommonJsRequires&&(getMode()==JSModule.Mode.TYPECHECK||getMode()==JSModule.Mode.BROWSER)){
Node newRequire=t.getScope().createSyntheticNode();
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
parent.replaceChild(n,newRequire);
newRequire.setOriginalName("require("+ns+")");
newRequire.putBooleanProp(Node.ANALYZED_DURING_GATHER_EXPLORATION,true);
return ;
}
TO:
8

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
12:parent.replaceChild(n,newRequire);
TO:
8

INSERT:
14:newRequire.putBooleanProp(Node.ANALYZED_DURING_GATHER_EXPLORATION,true);
TO:
8

Following are 2th generated patches:
Validating 200 patches...
Tested:10385 patches
Compile failed:7907 patches
Compilation rate:0.23861338468945595
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/57.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/57.java
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

Following are 3th generated patches:
Validating 1 patches...
Tested:10391 patches
Compile failed:7907 patches
Compilation rate:0.23905302665768455
PPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/58.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/58.java
Current actions:
INSERT:
22:Node prev=left.getPrevious();
TO:
21

Following are 0th generated patches:
Validating 76 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

INSERT:
23:if(prev.isName()&&prev.getString().equals("goog")){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21

DELETE:
Original line: 23compiler.reportCodeChange();

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:Node prev=left.getPrevious();
TO:
21

DELETE:
Original line: 22parent.detachFromParent();

INSERT:
23:if(prev.isName()&&prev.getString().equals("goog")){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21

DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
27:else{
Node grandparent=parent.getParent();
if(grandparent.isCall()&&grandparent.getFirstChild().matchesQualifiedName("goog.module.get")){
parent.detachFromParent();
compiler.reportCodeChange();
}
else{
compiler.report(t.makeError(parent,MODULE_GET_ERROR,ns));
}
}
TO:
21

Following are 3th generated patches:
Validating 200 patches...
Tested:10839 patches
Compile failed:8347 patches
Compilation rate:0.22991050834947874
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNPNPPNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/59.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/59.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!preserveRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!preserveRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 6 patches...
Tested:10846 patches
Compile failed:8353 patches
Compilation rate:0.229854324174811
NNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/60.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/60.java
Current actions:
INSERT:
10:parent.detachFromParent();
TO:
9

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
17:if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
parent.detachFromParent();
compiler.reportCodeChange();
return ;
}
TO:
10

Following are 1th generated patches:
Validating 40 patches...
Current actions:
INSERT:
10:parent.detachFromParent();
TO:
9

DELETE:
Original line: 11else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}

INSERT:
11:compiler.reportCodeChange();
TO:
9

INSERT:
12:return ;
TO:
9

INSERT:
14:JSModule providedModule=provided.explicitModule;
TO:
10

INSERT:
15:Preconditions.checkNotNull(providedModule);
TO:
10

INSERT:
16:JSModule module=t.getModule();
TO:
10

INSERT:
17:if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
parent.detachFromParent();
compiler.reportCodeChange();
return ;
}
TO:
10

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
23:maybeAddToSymbolTable(left);
TO:
24

INSERT:
24:maybeAddStringNodeToSymbolTable(arg);
TO:
24

INSERT:
25:parent.detachFromParent();
TO:
24

INSERT:
26:compiler.reportCodeChange();
TO:
24

Following are 2th generated patches:
Validating 200 patches...
Tested:11158 patches
Compile failed:8493 patches
Compilation rate:0.23884208639541135
NNNPPPPPPNPPPPPNPPPPPPPPNPPPPNPPPPPPNPPPPPPPNPPPPPPPPNPPPPPNPPPPNNPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPPNNNNPNPPPPPNPNPPPNNNPPNNNPPNNNNPPPNPPPPPPPNPPPNNNPNPNNNPNNPPPPPNPPPNNPNPNPPPPNPNPPPPNNPPNPNNNNNNPPNNNNNNNNNNNNNPNPPPPNNNPPPPNPPNPPPPNPPNPPPNPNPNPPNPPPPPNNPPPNNNPPPPNNPNNPNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/61.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/61.java
Current actions:
Wrap:
IfStatement
On:
[JSModule providedModule=provided.explicitModule;, JSModule module=t.getModule();, if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}, maybeAddToSymbolTable(left);, maybeAddStringNodeToSymbolTable(arg);, ProvidedName provided=providedNames.get(ns);, {
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}, unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 11 patches...
Current actions:
INSERT:
5:if(verifyLastArgumentIsString(t,left,arg)){
String ns=arg.getString();
ProvidedName provided=providedNames.get(ns);
if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
return ;
}
JSModule providedModule=provided.explicitModule;
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
}
TO:
1

DELETE:
Original line: 7ProvidedName provided=providedNames.get(ns);

DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

DELETE:
Original line: 12JSModule providedModule=provided.explicitModule;

DELETE:
Original line: 14JSModule module=t.getModule();

DELETE:
Original line: 15if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:return ;
TO:
9

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
5:if(verifyLastArgumentIsString(t,left,arg)){
String ns=arg.getString();
ProvidedName provided=providedNames.get(ns);
if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
return ;
}
JSModule providedModule=provided.explicitModule;
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
maybeAddToSymbolTable(left);
maybeAddStringNodeToSymbolTable(arg);
if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
}
TO:
1

DELETE:
Original line: 7ProvidedName provided=providedNames.get(ns);

DELETE:
Original line: 8if(provided==null||!provided.isExplicitlyProvided()){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}

DELETE:
Original line: 11else{
JSModule providedModule=provided.explicitModule;
Preconditions.checkNotNull(providedModule);
JSModule module=t.getModule();
if(moduleGraph!=null&&module!=providedModule&&!moduleGraph.dependsOn(module,providedModule)){
compiler.report(t.makeError(n,XMODULE_REQUIRE_ERROR,ns,providedModule.getName(),module.getName()));
}
}

DELETE:
Original line: 19maybeAddToSymbolTable(left);

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 3th generated patches:
Validating 200 patches...
Tested:11167 patches
Compile failed:8495 patches
Compilation rate:0.23927643950926838
PPPPPPNPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/62.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/62.java
Current actions:
INSERT:
10:if(!hasChecksForBrokenRequires){
return ;
}
TO:
9

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
10:if(!hasChecksForBrokenRequires){
return ;
}
TO:
9

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
11:return ;
TO:
9

Following are 2th generated patches:
Validating 1 patches...
Tested:11174 patches
Compile failed:8500 patches
Compilation rate:0.23930553069625918
NPNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/63.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/63.java
Current actions:
Wrap:
IfStatement
On:
[unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
9:if(strictRequires||!isBrokenRequire(n)){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 1th generated patches:
Validating 142 patches...
Tested:11317 patches
Compile failed:8586 patches
Compilation rate:0.2413183705929133
PNNNNNNNNNNNNNNNNNNNPPPPPPPNPNNNNPPPPPPPNPPNNNNNNNNNPNNPNNNNNNPNNNNPPNNNNNNNNNNNNNNPPPPPPPPNPPPNNNNNPNNNNPNNNNPPNPNNPPPNPNPPPNPNNNNNNPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/64.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/64.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().skipRequiresCheck()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&compiler.getOptions().skipRequiresCheck()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 30 patches...
Tested:11348 patches
Compile failed:8616 patches
Compilation rate:0.24074726824109977
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/65.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/65.java
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
21:if(provided!=null&&!(compiler.getOptions().moduleResolutionMode!=ModuleResolutionMode.ERROR&&!provided.isExplicitlyProvided())){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

INSERT:
21:if(provided!=null&&!(compiler.getOptions().moduleResolutionMode!=ModuleResolutionMode.ERROR&&!provided.isExplicitlyProvided())){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 1 patches...
Tested:11354 patches
Compile failed:8620 patches
Compilation rate:0.24079619517350714
NNPNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/66.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/66.java
Current actions:
Wrap:
IfStatement
On:
[parent.detachFromParent();]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
22:if(!providedModule.isDefaultModule()){
parent.detachFromParent();
}
TO:
21

DELETE:
Original line: 22parent.detachFromParent();

Following are 1th generated patches:
Validating 32 patches...
Tested:11387 patches
Compile failed:8636 patches
Compilation rate:0.2415912883112321
PNNNNNPPPPPPPNNPNPNNPNNNNNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/67.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/67.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&isBrokenRequire(arg)){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&isBrokenRequire(arg)){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 19 patches...
Tested:11407 patches
Compile failed:8644 patches
Compilation rate:0.24221968966424126
NNNNNNNNPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/68.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/68.java
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
22:parent.replaceChild(n,NodeUtil.newQName(compiler,provided.alias));
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

INSERT:
22:parent.replaceChild(n,NodeUtil.newQName(compiler,provided.alias));
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Tested:11809 patches
Compile failed:8755 patches
Compilation rate:0.25861630959437715
NNPNNNNNNNPPPPPPPPPNNNNPPPPPPPPNPPPPPPPPPPNNPNPNNPPPPPPPPPPNPNPPPPPPNPPPPPPNPNPNNNPPPPPPPPPPPPPPPNPPPPPPPPNNNNPPPPPPPPPPPNNPNPNNNNNNNNPPPPPPNPPNPPPPPPPPNPPPPPPNNPPPNNPPPPPPNPPPNPPNNPPPNPPNPPPPPPPNPPPPPPPNNNNNNNPPPPPPPPPNNNNPPPPPPPPPNPPPPPPPPNPPNNPNNPNPPPPPPPNPPNPPPPPPNPPPPPNPPPNNNPNPPPPPPPPPPPPPPPNPPPPPNNPPNPPPPPPPPNPPPPPNNNPNNNNNNPPNPPPPNPPNPPPPPNPPPPPPPPPNPNNPPNPPPPPNPPPPNNPPNPPNPPPNPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/69.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/69.java
Current actions:
Wrap:
IfStatement
On:
[unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));]
Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
9:if(!allowBrokenRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

Following are 1th generated patches:
Validating 8 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
23:if(provided!=null&&allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 4 patches...
Current actions:
INSERT:
9:if(!allowBrokenRequires){
unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));
}
TO:
8

DELETE:
Original line: 9unrecognizedRequires.add(new UnrecognizedRequire(n,ns,t.getSourceName()));

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
23:if(provided!=null&&allowBrokenRequires){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 12 patches...
Tested:11835 patches
Compile failed:8779 patches
Compilation rate:0.25821715251373045
NPNNNNNNNNNNNPNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/70.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/70.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().getBrokenClosureRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().getBrokenClosureRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 58 patches...
Tested:11894 patches
Compile failed:8837 patches
Compilation rate:0.2570203463931394
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/71.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/71.java
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

Following are 0th generated patches:
Validating 14 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20:if(!isFirstRun){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

INSERT:
19:boolean isFirstRun=!reportedBrokenRequires.isEmpty();
TO:
18

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20:if(!isFirstRun){
parent.detachFromParent();
compiler.reportCodeChange();
}

DELETE:
Original line: 20maybeAddStringNodeToSymbolTable(arg);

Following are 2th generated patches:
Validating 19 patches...
Current actions:
DELETE:
Original line: 19maybeAddToSymbolTable(left);

INSERT:
19:boolean isFirstRun=!reportedBrokenRequires.isEmpty();
TO:
18

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20:if(!isFirstRun){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 18 patches...
Current actions:
INSERT:
19:boolean isFirstRun=!reportedBrokenRequires.isEmpty();
TO:
18

Following are 4th generated patches:
Validating 16 patches...
Current actions:
INSERT:
19:boolean isFirstRun=!reportedBrokenRequires.isEmpty();
TO:
18

UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20:if(!isFirstRun){
parent.detachFromParent();
compiler.reportCodeChange();
}

Tested:11959 patches
Compile failed:8875 patches
Compilation rate:0.2578810937369345
NNNNNNNNNNNPPPNNNNNNNNNNPPPPPPPPNNNNNNNNNPPPPPPPPNNNNNNNNPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/72.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/72.java
Current actions:
INSERT:
22:if(providedModule==t.getModule()){
Node moduleDef=moduleDefsByNode.get(providedModule);
if(moduleDef!=null){
moduleDef.addChildToBack(n.cloneTree());
}
}
TO:
21

Following are 0th generated patches:
Validating 13 patches...
Current actions:
INSERT:
22:if(providedModule==t.getModule()){
Node moduleDef=moduleDefsByNode.get(providedModule);
if(moduleDef!=null){
moduleDef.addChildToBack(n.cloneTree());
}
}
TO:
21

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
24:if(moduleDef!=null){
moduleDef.addChildToBack(n.cloneTree());
}
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:if(providedModule==t.getModule()){
Node moduleDef=moduleDefsByNode.get(providedModule);
if(moduleDef!=null){
moduleDef.addChildToBack(n.cloneTree());
}
}
TO:
21

DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
28:else{
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 22parent.detachFromParent();

DELETE:
Original line: 23compiler.reportCodeChange();

INSERT:
23:Node moduleDef=moduleDefsByNode.get(providedModule);
TO:
21

INSERT:
28:else{
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21

Following are 4th generated patches:
Validating 5 patches...
Current actions:
INSERT:
23:Node moduleDef=moduleDefsByNode.get(providedModule);
TO:
21

Tested:12172 patches
Compile failed:9087 patches
Compilation rate:0.2534505422280644
NNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/73.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/73.java
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
21:if(provided!=null&&(compiler.getOptions().getClosurePassMode()==CompilerOptions.ClosurePassMode.NORMAL||compiler.getOptions().shouldPreserveClosureRequires())){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
21:if(provided!=null&&(compiler.getOptions().getClosurePassMode()==CompilerOptions.ClosurePassMode.NORMAL||compiler.getOptions().shouldPreserveClosureRequires())){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
20

DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 21if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 3th generated patches:
Validating 1 patches...
Tested:12178 patches
Compile failed:9091 patches
Compilation rate:0.2534898998193464
NNPNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/74.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_113/74.java
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().isSkipBrokenRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
21:if(provided!=null){
parent.detachFromParent();
compiler.reportCodeChange();
}
TO:
21:if(provided!=null&&!compiler.getOptions().isSkipBrokenRequires()){
parent.detachFromParent();
compiler.reportCodeChange();
}

Following are 1th generated patches:
Validating 58 patches...
Tested:12237 patches
Compile failed:9149 patches
Compilation rate:0.25234943205033916
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Finish : closure-113 > patch : 2 | Start : Sat Apr 13 03:06:51 HKT 2024 | End : 2024.04.13 AD at 05:19:24 HKT
