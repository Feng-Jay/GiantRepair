Repair : lang_61
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/0.java
Tested:0 patches
Compile failed:0 patches
Compilation rate:NaN

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/1.java
Current actions:
UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
19:outer: for (int i=startIndex; i <= len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
19:outer: for (int i=startIndex; i <= len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 0th generated patches:
Validating 1 patches...
Tested:2 patches
Compile failed:0 patches
Compilation rate:1.0
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/2.java
Current actions:
UPDATE
FROM:
17:char[] thisBuf=buffer;
TO:
17:char[] thisBuf=value;

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
17:char[] thisBuf=buffer;
TO:
17:char[] thisBuf=value;

Following are 1th generated patches:
Validating 14 patches...
Tested:17 patches
Compile failed:14 patches
Compilation rate:0.17647058823529413
NNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/3.java
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

Following are 1th generated patches:
Validating 36 patches...
Current actions:
INSERT:
7:if(len==0){
return startIndex>=0?(startIndex<size?startIndex:size):0;
}
TO:
7

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
10:if(len>size){
return -1;
}

Following are 3th generated patches:
Validating 3 patches...
Current actions:
INSERT:
14:if(startIndex>=0){
if(startIndex>size-len){
return -1;
}
if(startIndex==size-len){
if(regionMatches(this,true,startIndex,str,0,len)){
return startIndex;
}
else{
return -1;
}
}
sublen=size-startIndex;
}
TO:
16

Following are 4th generated patches:
Validating 12 patches...
Current actions:
INSERT:
15:if(startIndex>size-len){
return -1;
}
TO:
16

Tested:268 patches
Compile failed:241 patches
Compilation rate:0.10074626865671642
NNNNNNNNNNNNNPNNNNPNNNNPNNNNPNNPNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNPNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNPPNPNNPNNPNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/4.java
Current actions:
DELETE:
Original line: 7int strLen=str.length();

Following are 0th generated patches:
Validating 57 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.length()==0){
return startIndex;
}

Following are 1th generated patches:
Validating 87 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
10:if(str.length()>size){
return -1;
}

Following are 2th generated patches:
Validating 27 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
10:if(str.length()>size){
return -1;
}

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
15:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < str.length(); j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 3th generated patches:
Validating 28 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.length()==0){
return startIndex;
}

DELETE:
Original line: 7int strLen=str.length();

DELETE:
Original line: 8if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}

UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
10:if(str.length()>size){
return -1;
}

UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
14:int len=thisBuf.length-str.length();

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
15:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < str.length(); j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 4th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.length()==0){
return startIndex;
}

DELETE:
Original line: 7int strLen=str.length();

DELETE:
Original line: 8if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}

Tested:664 patches
Compile failed:543 patches
Compilation rate:0.1822289156626506
NNNNPPPPPPPPPPNNNNNNPPPPPPPNNNNNNNNPPPPPPPPPPNPNPPPNPPPPPNNNNNNNNNNNNNPPPNNNNNNPNNNNNNPNPNNNPNNNNNNNNNNNNNPNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNPNNNPNPPPPPPNNNNNNNNNNNNNPPPNNNNNNPPPPPPNNNNNNNNPPPNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNPPNNNNNNNPPNNNNPPNNPNNNNNNNNNNPNNNNPNPNNPNPNNNPNNNNNNNNNNNNNNNNNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/5.java
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

Following are 0th generated patches:
Validating 14 patches...
Current actions:
DELETE:
Original line: 18int len=thisBuf.length-strLen;

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
18:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != buffer[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 1th generated patches:
Validating 2 patches...
Current actions:
UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
18:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != buffer[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

INSERT:
17:int len=size-strLen;
TO:
16

DELETE:
Original line: 18int len=thisBuf.length-strLen;

Following are 3th generated patches:
Validating 25 patches...
Current actions:
INSERT:
17:int len=size-strLen;
TO:
16

Following are 4th generated patches:
Validating 23 patches...
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

INSERT:
17:int len=size-strLen;
TO:
16

DELETE:
Original line: 18int len=thisBuf.length-strLen;

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
18:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != buffer[i + j]) {
      continue outer;
    }
  }
  return i;
}


Tested:726 patches
Compile failed:601 patches
Compilation rate:0.1721763085399449
NNNNNNNNNNNPPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/6.java
Current actions:
DELETE:
Original line: 3startIndex=(startIndex<0?0:startIndex);

Following are 0th generated patches:
Validating 200 patches...
FILE : /data/PLM4APR/tmp/defects4j_buggy//lang/lang_61_buggy/src/java/org/apache/commons/lang/text/StrBuilder.java
SUCCESS
//Following are generated patch:
  public int indexOf(  String str,  int startIndex){
    if (str == null || startIndex >= size) {
      return -1;
    }
    int strLen=str.length();
    if (strLen == 1) {
      return indexOf(str.charAt(0),startIndex);
    }
    if (strLen == 0) {
      return startIndex;
    }
int endIndex=size-strLen;
    if (strLen > size) {
      return -1;
    }
    char[] thisBuf=buffer;
    int len=thisBuf.length - strLen;
outer: for (int i=startIndex; i <= endIndex; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

    return -1;
  }

1 th patch/200
Trace:

START : 
2024.04.11 AD at 15:40:51 HKT
---------TIME : 
2024.04.11 AD at 15:43:35 HKT
--------------- END -----------------
FILE : /data/PLM4APR/tmp/defects4j_buggy//lang/lang_61_buggy/src/java/org/apache/commons/lang/text/StrBuilder.java
SUCCESS
//Following are generated patch:
  public int indexOf(  String str,  int startIndex){
if(str==null){
return -1;
}
    startIndex=(startIndex < 0 ? 0 : startIndex);
    if (str == null || startIndex >= size) {
      return -1;
    }
    int strLen=str.length();
    if (strLen == 1) {
      return indexOf(str.charAt(0),startIndex);
    }
    if (strLen == 0) {
      return startIndex;
    }
int endIndex=size-strLen;
    if (strLen > size) {
      return -1;
    }
    char[] thisBuf=buffer;
    int len=thisBuf.length - strLen;
outer: for (int i=startIndex; i <= endIndex; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

    return -1;
  }

2 th patch/200
Trace:

START : 
2024.04.11 AD at 15:40:51 HKT
---------TIME : 
2024.04.11 AD at 15:43:35 HKT
--------------- END -----------------
FILE : /data/PLM4APR/tmp/defects4j_buggy//lang/lang_61_buggy/src/java/org/apache/commons/lang/text/StrBuilder.java
SUCCESS
//Following are generated patch:
  public int indexOf(  String str,  int startIndex){
    startIndex=(startIndex < 0 ? 0 : startIndex);
    if (str == null || startIndex >= size) {
      return -1;
    }
    int strLen=str.length();
    if (strLen == 1) {
      return indexOf(str.charAt(0),startIndex);
    }
    if (strLen == 0) {
      return startIndex;
    }
int endIndex=size-strLen;
    if (strLen > size) {
      return -1;
    }
    char[] thisBuf=buffer;
    int len=thisBuf.length - strLen;
outer: for (int i=startIndex; i <= endIndex; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

    return -1;
  }

3 th patch/200
Trace:

START : 
2024.04.11 AD at 15:40:51 HKT
---------TIME : 
2024.04.11 AD at 15:43:35 HKT
--------------- END -----------------
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

Following are 1th generated patches:
Validating 26 patches...
Current actions:
INSERT:
13:if(startIndex<0){
startIndex=0;
}
TO:
13

Following are 2th generated patches:
Validating 48 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
17:if(startIndex>endIndex){
return -1;
}

Following are 3th generated patches:
Validating 3 patches...
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

DELETE:
Original line: 4if(str==null||startIndex>=size){
return -1;
}

INSERT:
11:return startIndex<size?startIndex:size;
TO:
11

DELETE:
Original line: 12return startIndex;

INSERT:
14:startIndex=0;
TO:
13

INSERT:
16:int endIndex=size-strLen;
TO:
13

Following are 4th generated patches:
Validating 87 patches...
Current actions:
DELETE:
Original line: 4if(str==null||startIndex>=size){
return -1;
}

INSERT:
14:startIndex=0;
TO:
13

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
21:outer: for (int i=startIndex; i <= endIndex; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Tested:1085 patches
Compile failed:830 patches
Compilation rate:0.2350230414746544
NNNNNNNNNPPNPNNPNPPNPPNNNNPNNNNPNNNPNPPNNNNPPNNNNNNNPPNNNPNNNPPPPNNNNPNPNNNPPNNNPNNPNPPNNNNNNNNNNNNNNPNNNNNNPNPPPNPNPPNNPNPNNNNNPPPPNPNNNPPNNNNNNPPNPNNPPNNNNPNPPPNNPPPNNPPPNNNNNPPNNPNPNNNPNNNNNNPPPPPPNNNNNNNNNNNPNNNPNNPPPPNPNPNNNNPPPPPPPNNPPPNNNNNPNPPPPNNNPNNNPPNNNPNNNPPPPPNNNNNNNNNNNNNNNNNPNNPNNNNNNNNPPNPPNNPNNNNNPPNPNNNNNPNNNNPNNNNPNNNNPPNPPPNPPPNNNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/7.java
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
17:char[] thisBuf=value.toCharArray();
TO:
16

Following are 1th generated patches:
Validating 5 patches...
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

INSERT:
17:char[] thisBuf=value.toCharArray();
TO:
16

Following are 2th generated patches:
Validating 6 patches...
Current actions:
DELETE:
Original line: 17char[] thisBuf=buffer;

Following are 3th generated patches:
Validating 1 patches...
Tested:1099 patches
Compile failed:842 patches
Compilation rate:0.2338489535941765
NNNNNNNNNNNPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/8.java
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

Following are 1th generated patches:
Validating 34 patches...
Current actions:
UPDATE
FROM:
8:if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}
TO:
7:if(len==1){
return indexOf(str.charAt(0),startIndex);
}

Following are 2th generated patches:
Validating 9 patches...
Current actions:
INSERT:
10:if(len==0){
return (startIndex<0?0:startIndex);
}
TO:
10

Following are 3th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
13:if(len>size){
return -1;
}

Following are 4th generated patches:
Validating 3 patches...
Current actions:
INSERT:
16:if(startIndex<0){
startIndex=0;
}
TO:
14

Tested:1345 patches
Compile failed:1060 patches
Compilation rate:0.21189591078066913
NNNNNNNNNNNNNPPNNNNNNNPNPNPPPPNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNPNNNNNNNNNNNNNNPNNPNPNNNNNNNNNNNPNPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNPPNPNPNNNNPNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/9.java
Current actions:
DELETE:
Original line: 7int strLen=str.length();

Following are 0th generated patches:
Validating 41 patches...
Current actions:
UPDATE
FROM:
8:if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}
TO:
7:if(str.length()==1){
return indexOf(str.charAt(0),startIndex);
}

Following are 1th generated patches:
Validating 87 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
10:if(str.length()==0){
return startIndex;
}

Following are 2th generated patches:
Validating 87 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
13:if(str.length()>size){
return -1;
}

Following are 3th generated patches:
Validating 27 patches...
Current actions:
UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
17:int len=thisBuf.length-str.length();

Following are 4th generated patches:
Validating 187 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
10:if(str.length()==0){
return startIndex;
}

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
18:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < str.length(); j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Tested:1774 patches
Compile failed:1412 patches
Compilation rate:0.2040586245772266
NNPPPPPPPPPNNNNNPNNNNNPPPPPPPPPPNNNNPPPPPNNNNNNNNNNNNNPPPNNNNNNNNPNNPPNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNPPPNNNNNPNNNPPNNNNNNNPNNNNNNNNNPNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNPNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNPNNPNNPNNNNNNNPNNNNNNNNNNNNPNNNNNPPNNNNNNPNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNPNNPPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/10.java
Current actions:
UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
18:int len=thisBuf.length-strLen+1;

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
18:int len=thisBuf.length-strLen+1;

Following are 1th generated patches:
Validating 26 patches...
Tested:1801 patches
Compile failed:1434 patches
Compilation rate:0.20377568017767908
PNNNNNNNNNNNNNNNPNPNNNNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/11.java
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

Following are 1th generated patches:
Validating 28 patches...
Current actions:
UPDATE
FROM:
8:if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}
TO:
8:if(len==1){
return indexOf(str.charAt(0),startIndex);
}

Following are 2th generated patches:
Validating 7 patches...
Current actions:
INSERT:
11:if(len==0){
return startIndex>=size?startIndex:(startIndex<0?0:startIndex);
}
TO:
10

Following are 3th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
14:if(len>size){
return -1;
}

Following are 4th generated patches:
Validating 3 patches...
Current actions:
INSERT:
3:if(str==null){
return -1;
}
TO:
2

INSERT:
6:int offset=0;
TO:
6

UPDATE
FROM:
7:int strLen=str.length();
TO:
7:int len=str.length();

DELETE:
Original line: 11if(strLen==0){
return startIndex;
}

INSERT:
12:return startIndex>=size?startIndex:(startIndex<0?0:startIndex);
TO:
10

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
19:outer: for (int i=startIndex; i < size - len + 1; i++) {
  for (int j=0; j < len; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Tested:2209 patches
Compile failed:1774 patches
Compilation rate:0.19692168401991852
NNNNNNNNNNPNPNPPPNNNNNNNNNNNNNNNPNNNNNNNPNNNPNNPNNNNPNNNNNNNNNNPPPNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNPNNNPPNNPNPNNPNPNNNNPNNPNNNNNPNNNNNNNPNPNNNNNNPNNNNNNNNNNNNNPNNNNNNNPPPPPPNNNNNNNNNNPPNNNNNNPPNPNPNNPPNNNNNPPNNNNNNNNNNNPNNPPPNPNNNNNNNNNNNPPPPPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNPNPNNNPPNPNNNNNNNNNNPNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/12.java
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
3:if(str==null){
return -1;
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
3:if(str==null){
return -1;
}

Following are 1th generated patches:
Validating 7 patches...
Current actions:
INSERT:
10:if(str.regionMatches(0,thisBuf,i,str.length())){
return i;
}
TO:
18

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4if(str==null||startIndex>=size){
return -1;
}

DELETE:
Original line: 7int strLen=str.length();

INSERT:
9:for(int i=startIndex;i<=len;i++){
if(str.regionMatches(0,thisBuf,i,str.length())){
return i;
}
}
TO:
18

DELETE:
Original line: 9return indexOf(str.charAt(0),startIndex);

DELETE:
Original line: 11if(strLen==0){
return startIndex;
}

DELETE:
Original line: 19outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3startIndex=(startIndex<0?0:startIndex);

UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
3:if(str==null){
return -1;
}

DELETE:
Original line: 4if(str==null||startIndex>=size){
return -1;
}

UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
7:int len=thisBuf.length-str.length();

DELETE:
Original line: 7int strLen=str.length();

DELETE:
Original line: 8if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}

INSERT:
8:startIndex=(startIndex<0?0:startIndex);
TO:
18

INSERT:
9:for(int i=startIndex;i<=len;i++){
if(str.regionMatches(0,thisBuf,i,str.length())){
return i;
}
}
TO:
18

DELETE:
Original line: 11if(strLen==0){
return startIndex;
}

DELETE:
Original line: 19outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 4th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
3:if(str==null){
return -1;
}

DELETE:
Original line: 7int strLen=str.length();

INSERT:
9:for(int i=startIndex;i<=len;i++){
if(str.regionMatches(0,thisBuf,i,str.length())){
return i;
}
}
TO:
18

DELETE:
Original line: 9return indexOf(str.charAt(0),startIndex);

DELETE:
Original line: 11if(strLen==0){
return startIndex;
}

DELETE:
Original line: 19outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Tested:2973 patches
Compile failed:2460 patches
Compilation rate:0.17255297679112008
NNNNPPPPPPPNNNPNNNPPPPPPNNNNNPNNNNNNPNPPNPPPNNPNPPNPPNNNPNNNNPNNPNNNNNNNNPNPNNNPNPNPPPPNNPNNPPPPPNPNNPNPNNPPPPPNNPNPNPPPNPPNNNNPNNNPNNNNPNPPPPNPNNPNNNPNNPPNNNPPNNNNNPPPPNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_61/13.java
Current actions:
DELETE:
Original line: 7int strLen=str.length();

Following are 0th generated patches:
Validating 85 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.isEmpty()){
return startIndex;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
14:if(strLen>size){
return -1;
}
TO:
10:if(str.length()>size){
return -1;
}

Following are 2th generated patches:
Validating 27 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.isEmpty()){
return startIndex;
}

DELETE:
Original line: 8if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
UPDATE
FROM:
11:if(strLen==0){
return startIndex;
}
TO:
7:if(str.isEmpty()){
return startIndex;
}

DELETE:
Original line: 7int strLen=str.length();

DELETE:
Original line: 8if(strLen==1){
return indexOf(str.charAt(0),startIndex);
}

INSERT:
14:char[] thatBuf=str.toCharArray();
TO:
17

UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
15:int len=thisBuf.length-thatBuf.length;

UPDATE
FROM:
19:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < strLen; j++) {
    if (str.charAt(j) != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}

TO:
16:outer: for (int i=startIndex; i < len; i++) {
  for (int j=0; j < thatBuf.length; j++) {
    if (thatBuf[j] != thisBuf[i + j]) {
      continue outer;
    }
  }
  return i;
}


Following are 4th generated patches:
Validating 50 patches...
Current actions:
DELETE:
Original line: 7int strLen=str.length();

DELETE:
Original line: 9return indexOf(str.charAt(0),startIndex);

UPDATE
FROM:
18:int len=thisBuf.length-strLen;
TO:
15:int len=thisBuf.length-thatBuf.length;

Tested:3134 patches
Compile failed:2578 patches
Compilation rate:0.17740906190172304
NNNNNNNNPPPPNNPPNNPPNNNNPPNNPPNNNNPNNPNNNNNNNNNNNPNNNNNPNNPNPPNPNPNNPPNNPNNPPNPNPPPPPPNNNNNNNNNNNNNNNPNNNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : lang-61 > patch : 3 | Start : Thu Apr 11 15:40:51 HKT 2024 | End : 2024.04.11 AD at 15:48:55 HKT
