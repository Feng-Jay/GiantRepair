Repair : lang_65
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/0.java
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 129 patches...
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
65:val.set(Calendar.MILLISECOND,millisecs);
TO:
58

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
8:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
10:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
66:val.set(Calendar.SECOND,seconds);
TO:
58

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:724 patches
Compile failed:623 patches
Compilation rate:0.13950276243093923
NNNNNNNNNNPPPPNPNNNNNNNPPNNNNNNNNNNPNNPPPPPPPPNNPNNNPPNNNNPPPPNNNNNPNPPPPPPPPNNPPPNNNNPPNNPNPPNNNPNPPNNNPPPNPPPNNPNNPNNPNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNPNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPPPPPNPNNNNPNNNPNPPPNNNPPNNNNNPPPNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNPNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/1.java
Tested:724 patches
Compile failed:623 patches
Compilation rate:0.13950276243093923

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/2.java
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 1th generated patches:
Validating 194 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:1322 patches
Compile failed:1175 patches
Compilation rate:0.11119515885022693
PPPPPPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPPNPPPPPNNNNNNNNNNNNNNPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNPNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/3.java
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
8:val.setTime(new Date(time));
TO:
5

Following are 1th generated patches:
Validating 101 patches...
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

INSERT:
8:val.setTime(new Date(time));
TO:
5

Following are 2th generated patches:
Validating 102 patches...
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

INSERT:
7:time=time/1000*1000;
TO:
5

Following are 3th generated patches:
Validating 27 patches...
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

INSERT:
7:time=time/1000*1000;
TO:
5

INSERT:
8:val.setTime(new Date(time));
TO:
5

Following are 4th generated patches:
Validating 128 patches...
Current actions:
INSERT:
7:time=time/1000*1000;
TO:
5

INSERT:
8:val.setTime(new Date(time));
TO:
5

Tested:1683 patches
Compile failed:1479 patches
Compilation rate:0.12121212121212122
NNNPPPPNNNNNNNNNNNNNNNNPPPPNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPPPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPNPNNPPNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPPPPNPNPNPPNPNNNNPNNNNNNNNPNNNNNNNNNPPNPPPPNPNNNNNPNNNPNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/4.java
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
10:val.set(Calendar.HOUR,0);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
9:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

INSERT:
11:val.set(Calendar.AM_PM,0);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:2120 patches
Compile failed:1837 patches
Compilation rate:0.13349056603773585
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNPNPNNNNPNPNPPNNPNNNPPNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/5.java
Current actions:
Wrap:
Block
On:
[if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}, break;, case Calendar.AM_PM :, if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}, break;, {
throw new ArithmeticException("Calendar value too large for accurate calculations");
}, if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}, throw new ArithmeticException("Calendar value too large for accurate calculations");, val.set(fields[i][0],val.get(fields[i][0])-offset);, switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}, case DateUtils.SEMI_MONTH :, if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}, {
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}, int min=val.getActualMinimum(fields[i][0]);]
Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

INSERT:
6:int offset=0;
TO:
5

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

UPDATE
FROM:
6:boolean roundUp=false;
TO:
7:boolean offsetSet=false;

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 1th generated patches:
Validating 6 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 2th generated patches:
Validating 3 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

INSERT:
6:int offset=0;
TO:
5

UPDATE
FROM:
6:boolean roundUp=false;
TO:
7:boolean offsetSet=false;

DELETE:
Original line: 9if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 6 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

INSERT:
6:int offset=0;
TO:
5

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

UPDATE
FROM:
6:boolean roundUp=false;
TO:
7:boolean offsetSet=false;

Following are 4th generated patches:
Validating 5 patches...
Current actions:
DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Tested:2213 patches
Compile failed:1890 patches
Compilation rate:0.14595571622232265
NNNPPPPPPPPNNPNNNNNNNPNPNPPPNPPPNNNNNPPNNPPNNNNNNNNNNNNNNNNNNPNNNNNNNPPPNNPPPPPPNNPPPPPPPNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/6.java
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 0th generated patches:
Validating 165 patches...
Current actions:
DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

INSERT:
13:if(round&&roundUp){
val.add(fields[i][0],1);
}
TO:
9

Following are 1th generated patches:
Validating 22 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

INSERT:
13:if(round&&roundUp){
val.add(fields[i][0],1);
}
TO:
9

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 17val.add(Calendar.MONTH,1);

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

DELETE:
Original line: 11if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}

DELETE:
Original line: 20else{
val.add(fields[i][0],1);
}

Following are 4th generated patches:
Validating 196 patches...
Current actions:
INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

DELETE:
Original line: 12if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}

DELETE:
Original line: 15else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}

Tested:2743 patches
Compile failed:2277 patches
Compilation rate:0.16988698505286182
NNNPPPPPPPPPPPPPPPPPPPNNNNNPNPPPPPPNPPNPPPPPPPPPPPNNNNNPPPPPPPPNPNNPNPPPPPPPPPPPNNNNPPPPPPPPPNNPPNPPPPPPPNNPPPPPPPPPPPNNNNNNNNPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNPPNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPPNPNPNNPPPNPPNPPNNNNNNNNNNPNNNPPNPNNNNNNNNPNNNNNNNNNNNNNNNPNNPPNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/7.java
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-seconds%60);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-minutes%60);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:val.set(Calendar.MILLISECOND,millis-millis%1000);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-seconds%60);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,millis-millis%1000);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-seconds%60);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-minutes%60);
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:3376 patches
Compile failed:2856 patches
Compilation rate:0.15402843601895735
NNNNNNNNNNNPPPNPNNPNPPNNNNNNPPNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNPNPNNNNNNNPPPPPPPPPNPNNNNNPNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNPPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/8.java
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 129 patches...
Current actions:
INSERT:
11:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
66:val.set(Calendar.SECOND,seconds);
TO:
58

INSERT:
67:val.set(Calendar.MINUTE,minutes);
TO:
58

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
65:val.set(Calendar.MILLISECOND,millis);
TO:
58

INSERT:
66:val.set(Calendar.SECOND,seconds);
TO:
58

INSERT:
67:val.set(Calendar.MINUTE,minutes);
TO:
58

Following are 2th generated patches:
Validating 200 patches...
Tested:3900 patches
Compile failed:3302 patches
Compilation rate:0.15333333333333332
NNNNNNNPNPPPPPNNNPPNNNNNNNNNNNNNNPPPNNNPPPPPNPNPNNPNPPNNPPNPNPNNNNPPNNPPPPPPPNNPPNPPNNNPPPNPNNNNPPNPPNNNNNPPNPNPPNPNNNNNNPNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNPNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPPNPNNNNPPPPPNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/9.java
Current actions:
INSERT:
6:if(round&&field==DateUtils.SEMI_MONTH&&val.get(Calendar.DATE)==1){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

DELETE:
Original line: 12if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}

DELETE:
Original line: 15else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}

INSERT:
18:}

TO:
48

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:}

TO:
48

DELETE:
Original line: 33if(offset>=15){
offset-=15;
}

DELETE:
Original line: 44offset-=12;

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
6:if(round&&field==DateUtils.SEMI_MONTH&&val.get(Calendar.DATE)==1){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
15:else{
val.add(field,round?1:0);
}
TO:
48

INSERT:
18:}

TO:
48

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 200 patches...
Tested:4301 patches
Compile failed:3703 patches
Compilation rate:0.13903743315508021
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/10.java
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
13:if(millisecs!=0){
int[] fieldMillis={Calendar.MILLISECOND};
millisToSet=truncate(val,millisecs,fieldMillis,true);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:if(seconds!=0){
int[] fieldSeconds={Calendar.SECOND};
secondsToSet=truncate(val,seconds,fieldSeconds,true);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
12:int millisToSet=0;
TO:
5

INSERT:
13:if(millisecs!=0){
int[] fieldMillis={Calendar.MILLISECOND};
millisToSet=truncate(val,millisecs,fieldMillis,true);
}
TO:
5

INSERT:
17:int secondsToSet=0;
TO:
5

INSERT:
18:if(seconds!=0){
int[] fieldSeconds={Calendar.SECOND};
secondsToSet=truncate(val,seconds,fieldSeconds,true);
}
TO:
5

INSERT:
22:int minutesToSet=0;
TO:
5

INSERT:
23:if(minutes!=0){
int[] fieldMinutes={Calendar.MINUTE};
minutesToSet=truncate(val,minutes,fieldMinutes,true);
}
TO:
5

INSERT:
91:}

TO:
60

INSERT:
95:}

TO:
60

INSERT:
96:}

TO:
60

INSERT:
100:}

TO:
60

INSERT:
101:}

TO:
60

INSERT:
102:}

TO:
60

INSERT:
103:}

TO:
60

INSERT:
105:}

TO:
60

Following are 4th generated patches:
Validating 200 patches...
Tested:5094 patches
Compile failed:4496 patches
Compilation rate:0.11739301138594425
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/11.java
Current actions:
INSERT:
6:long millis=val.getTimeInMillis();
TO:
5

Following are 0th generated patches:
Validating 63 patches...
Current actions:
INSERT:
7:millis-=millis%DateUtils.MILLIS_PER_SECOND;
TO:
5

INSERT:
9:millis-=millis%DateUtils.MILLIS_PER_MINUTE;
TO:
5

INSERT:
10:val.setTimeInMillis(millis);
TO:
5

Following are 1th generated patches:
Validating 191 patches...
Current actions:
INSERT:
6:long millis=val.getTimeInMillis();
TO:
5

INSERT:
7:millis-=millis%DateUtils.MILLIS_PER_SECOND;
TO:
5

INSERT:
8:val.setTimeInMillis(millis);
TO:
5

INSERT:
9:millis-=millis%DateUtils.MILLIS_PER_MINUTE;
TO:
5

INSERT:
10:val.setTimeInMillis(millis);
TO:
5

INSERT:
11:millis-=millis%DateUtils.MILLIS_PER_HOUR;
TO:
5

INSERT:
12:val.setTimeInMillis(millis);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:millis-=millis%DateUtils.MILLIS_PER_SECOND;
TO:
5

Following are 3th generated patches:
Validating 45 patches...
Current actions:
INSERT:
9:millis-=millis%DateUtils.MILLIS_PER_MINUTE;
TO:
5

Following are 4th generated patches:
Validating 45 patches...
Current actions:
INSERT:
6:long millis=val.getTimeInMillis();
TO:
5

INSERT:
7:millis-=millis%DateUtils.MILLIS_PER_SECOND;
TO:
5

INSERT:
8:val.setTimeInMillis(millis);
TO:
5

INSERT:
10:val.setTimeInMillis(millis);
TO:
5

INSERT:
11:millis-=millis%DateUtils.MILLIS_PER_HOUR;
TO:
5

INSERT:
12:val.setTimeInMillis(millis);
TO:
5

Tested:5608 patches
Compile failed:4885 patches
Compilation rate:0.12892296718972895
NNNNNNNNNNNNPPPNPPPPNNPPPNNNNNPNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNNNNPPPPPPPPNNNNNPNPPPPPPPPPPPPPPPNNNPPPNPNNNPPPNPPPPNNPPPPNNNPNNNNNNNNNNNNNNNPPPPNNNNNNNNPNNPPPNNPNNNNNPNPPNNNPPNPNNNPNNPNNNPPNNNPPPPPPPPPNNNPPPPPNPPPPPPPPPPPPPPPPPPPNPPNNNPNPNPNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/12.java
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,0);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,0);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:6042 patches
Compile failed:5234 patches
Compilation rate:0.13373055279708707
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNPNPPNNNNNPNPPPPNNNNNNNNNNNNNNPPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPNPPPNPNNPNPPNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/13.java
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
11:val.set(Calendar.MINUTE,minutes-(minutes%ROUND_FRACTION));
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-(seconds%ROUND_FRACTION));
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-(seconds%ROUND_FRACTION));
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-(minutes%ROUND_FRACTION));
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
8:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-(minutes%ROUND_FRACTION));
TO:
5

Following are 4th generated patches:
Validating 200 patches...
Tested:6876 patches
Compile failed:6043 patches
Compilation rate:0.12114601512507271
NNNNNNNNNNNNNNNNNNNNNPPNNNNPNNNNNNPNNNPPPNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNPPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNPPNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/14.java
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 0th generated patches:
Validating 25 patches...
Current actions:
INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
10:val.set(Calendar.HOUR,0);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
9:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

INSERT:
10:val.set(Calendar.HOUR,0);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:7297 patches
Compile failed:6401 patches
Compilation rate:0.12279018774838975
PPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNPNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNPPPNNNPPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPPPPPNPPNNNNNNNNNNNNNPNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/15.java
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

INSERT:
7:int offset=0;
TO:
5

INSERT:
16:break;
TO:
48

INSERT:
17:case Calendar.AM_PM :
TO:
48

INSERT:
18:offset=val.get(Calendar.HOUR_OF_DAY);
TO:
48

INSERT:
19:if(offset>=12){
offset-=12;
}
TO:
48

INSERT:
25:}

TO:
48

INSERT:
26:time-=val.getTime().getTime()-time;
TO:
48

DELETE:
Original line: 27int offset=0;

INSERT:
28:boolean roundUp=false;
TO:
48

INSERT:
29:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
int offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
48

DELETE:
Original line: 36roundUp=offset>7;

DELETE:
Original line: 39break;

DELETE:
Original line: 40case Calendar.AM_PM :

DELETE:
Original line: 42offset=val.get(Calendar.HOUR_OF_DAY);

DELETE:
Original line: 43if(offset>=12){
offset-=12;
}

DELETE:
Original line: 46roundUp=offset>6;

Following are 1th generated patches:
Validating 35 patches...
Current actions:
INSERT:
7:int offset=0;
TO:
5

INSERT:
15:time-=offset*DateUtils.MILLIS_PER_DAY;
TO:
48

INSERT:
17:case Calendar.AM_PM :
TO:
48

INSERT:
24:break;
TO:
48

INSERT:
25:}

TO:
48

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 31if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}

DELETE:
Original line: 40case Calendar.AM_PM :

DELETE:
Original line: 49break;

Following are 2th generated patches:
Validating 50 patches...
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
7:int offset=0;
TO:
5

INSERT:
10:offset=val.get(Calendar.DATE)-1;
TO:
30

INSERT:
11:if(offset>=15){
offset-=15;
}
TO:
30

INSERT:
14:round=offset>7;
TO:
48

INSERT:
15:time-=offset*DateUtils.MILLIS_PER_DAY;
TO:
48

INSERT:
16:break;
TO:
48

INSERT:
17:case Calendar.AM_PM :
TO:
48

INSERT:
18:offset=val.get(Calendar.HOUR_OF_DAY);
TO:
48

INSERT:
19:if(offset>=12){
offset-=12;
}
TO:
48

INSERT:
22:round=offset>6;
TO:
48

INSERT:
23:time-=offset*DateUtils.MILLIS_PER_HOUR;
TO:
48

INSERT:
24:break;
TO:
48

INSERT:
25:}

TO:
48

INSERT:
26:time-=val.getTime().getTime()-time;
TO:
48

INSERT:
27:val.setTime(new Date(time));
TO:
48

INSERT:
28:boolean roundUp=false;
TO:
48

INSERT:
29:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
int offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
48

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:offset=val.get(Calendar.DATE)-1;
TO:
30

INSERT:
11:if(offset>=15){
offset-=15;
}
TO:
30

INSERT:
18:offset=val.get(Calendar.HOUR_OF_DAY);
TO:
48

INSERT:
23:time-=offset*DateUtils.MILLIS_PER_HOUR;
TO:
48

INSERT:
25:}

TO:
48

DELETE:
Original line: 32offset=val.get(Calendar.DATE)-1;

DELETE:
Original line: 33if(offset>=15){
offset-=15;
}

DELETE:
Original line: 41if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}

Following are 4th generated patches:
Validating 49 patches...
Current actions:
INSERT:
6:long time=val.getTime().getTime();
TO:
5

INSERT:
18:offset=val.get(Calendar.HOUR_OF_DAY);
TO:
48

INSERT:
25:}

TO:
48

INSERT:
26:time-=val.getTime().getTime()-time;
TO:
48

INSERT:
27:val.setTime(new Date(time));
TO:
48

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 31if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}

DELETE:
Original line: 42offset=val.get(Calendar.HOUR_OF_DAY);

DELETE:
Original line: 46roundUp=offset>6;

DELETE:
Original line: 47offsetSet=true;

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

Tested:7594 patches
Compile failed:6698 patches
Compilation rate:0.11798788517250461
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/16.java
Current actions:
INSERT:
6:int milli=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
6:int milli=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
8:int sec=val.get(Calendar.SECOND);
TO:
5

Following are 1th generated patches:
Validating 22 patches...
Current actions:
INSERT:
10:int min=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,min-min%60);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int milli=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
8:int sec=val.get(Calendar.SECOND);
TO:
5

INSERT:
10:int min=val.get(Calendar.MINUTE);
TO:
5

Following are 3th generated patches:
Validating 33 patches...
Current actions:
INSERT:
6:int milli=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,sec-sec%60);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,min-min%60);
TO:
5

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int milli=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,milli-milli%1000);
TO:
5

INSERT:
8:int sec=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,sec-sec%60);
TO:
5

INSERT:
10:int min=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,min-min%60);
TO:
5

Tested:8084 patches
Compile failed:7174 patches
Compilation rate:0.11256803562592776
NNNNNNNNNNNNNNNNNPNNPNNNNPNNPNNNPNNNNNNPPNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/17.java
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
8:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
9:val.set(Calendar.MILLISECOND,millisecs-millisecs%DateUtils.MILLIS_PER_SECOND);
TO:
5

INSERT:
10:val.set(Calendar.SECOND,seconds-seconds%DateUtils.MILLIS_PER_MINUTE);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-minutes%DateUtils.MILLIS_PER_HOUR);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millisecs=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:int seconds=val.get(Calendar.SECOND);
TO:
5

INSERT:
8:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
10:val.set(Calendar.SECOND,seconds-seconds%DateUtils.MILLIS_PER_MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-minutes%DateUtils.MILLIS_PER_HOUR);
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:8716 patches
Compile failed:7793 patches
Compilation rate:0.10589720055071133
NNNNNNNNNNNNNNPNNNPPNNNNNNPPNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/18.java
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

Following are 0th generated patches:
Validating 1 patches...
Tested:8718 patches
Compile failed:7795 patches
Compilation rate:0.105872906629961
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/19.java
Current actions:
INSERT:
6:switch (field){
case Calendar.MILLISECOND :
val.set(Calendar.MILLISECOND,0);
case Calendar.SECOND :
val.set(Calendar.SECOND,0);
case Calendar.MINUTE :
val.set(Calendar.MINUTE,0);
default :
break;
}
TO:
5

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
7:case Calendar.MILLISECOND :
TO:
5

INSERT:
9:case Calendar.SECOND :
TO:
5

INSERT:
10:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
11:case Calendar.MINUTE :
TO:
5

INSERT:
12:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
16:boolean roundUp=false;
TO:
5

INSERT:
17:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:switch (field){
case Calendar.MILLISECOND :
val.set(Calendar.MILLISECOND,0);
case Calendar.SECOND :
val.set(Calendar.SECOND,0);
case Calendar.MINUTE :
val.set(Calendar.MINUTE,0);
default :
break;
}
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
16:boolean roundUp=false;
TO:
5

INSERT:
17:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:switch (field){
case Calendar.MILLISECOND :
val.set(Calendar.MILLISECOND,0);
case Calendar.SECOND :
val.set(Calendar.SECOND,0);
case Calendar.MINUTE :
val.set(Calendar.MINUTE,0);
default :
break;
}
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
16:boolean roundUp=false;
TO:
5

INSERT:
17:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:9376 patches
Compile failed:8438 patches
Compilation rate:0.10004266211604096
NNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNPNNNNNNNNPNNNNNNPNPPNNPNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/20.java
Current actions:
DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

INSERT:
57:val.add(fields[i][0],-offset);
TO:
56

Following are 2th generated patches:
Validating 195 patches...
Current actions:
INSERT:
57:val.add(fields[i][0],-offset);
TO:
56

Following are 3th generated patches:
Validating 194 patches...
Tested:9768 patches
Compile failed:8806 patches
Compilation rate:0.09848484848484848
PPPPNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPNNNNNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNPPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/21.java
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

Following are 0th generated patches:
Validating 25 patches...
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

INSERT:
7:time=(time/1000)*1000;
TO:
5

INSERT:
8:time=(time/1000)*1000;
TO:
5

INSERT:
10:val.setTimeInMillis(time);
TO:
5

Following are 1th generated patches:
Validating 164 patches...
Current actions:
INSERT:
7:time=(time/1000)*1000;
TO:
5

INSERT:
8:time=(time/1000)*1000;
TO:
5

INSERT:
9:time=(time/60000)*60000;
TO:
5

INSERT:
10:val.setTimeInMillis(time);
TO:
5

Following are 2th generated patches:
Validating 179 patches...
Current actions:
INSERT:
8:time=(time/1000)*1000;
TO:
5

INSERT:
10:val.setTimeInMillis(time);
TO:
5

Following are 3th generated patches:
Validating 127 patches...
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

INSERT:
8:time=(time/1000)*1000;
TO:
5

INSERT:
10:val.setTimeInMillis(time);
TO:
5

Following are 4th generated patches:
Validating 138 patches...
Current actions:
INSERT:
7:time=(time/1000)*1000;
TO:
5

Tested:10385 patches
Compile failed:9347 patches
Compilation rate:0.09995185363505055
NNNNNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNPPPPNPPPPNPPPPNPPPNPPPPPPPPNPNNNPNNPNPPPPNNNNNNNNNNNNNNPNNNPPPNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPPPPPNNPPPPPPNNPPNNNPNNPNNPNNPNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/22.java
Current actions:
INSERT:
6:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(field,1);
}
}
TO:
5

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(field,1);
}
}
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
20:return ;
TO:
48

INSERT:
21:}

TO:
48

Following are 2th generated patches:
Validating 6 patches...
Current actions:
INSERT:
7:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

INSERT:
17:val.add(field,1);
TO:
26

INSERT:
21:}

TO:
48

DELETE:
Original line: 36roundUp=offset>7;

DELETE:
Original line: 37offsetSet=true;

DELETE:
Original line: 39break;

DELETE:
Original line: 46roundUp=offset>6;

DELETE:
Original line: 49break;

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

INSERT:
7:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

DELETE:
Original line: 11if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}

INSERT:
17:val.add(field,1);
TO:
26

DELETE:
Original line: 20else{
val.add(fields[i][0],1);
}

INSERT:
21:}

TO:
48

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 31if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}

DELETE:
Original line: 39break;

DELETE:
Original line: 41if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}

DELETE:
Original line: 49break;

DELETE:
Original line: 52int min=val.getActualMinimum(fields[i][0]);

DELETE:
Original line: 54offset=val.get(fields[i][0])-min;

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(field,1);
}
}
TO:
5

DELETE:
Original line: 9if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}

INSERT:
21:}

TO:
48

DELETE:
Original line: 30case DateUtils.SEMI_MONTH :

DELETE:
Original line: 32offset=val.get(Calendar.DATE)-1;

DELETE:
Original line: 36roundUp=offset>7;

DELETE:
Original line: 37offsetSet=true;

DELETE:
Original line: 40case Calendar.AM_PM :

DELETE:
Original line: 43if(offset>=12){
offset-=12;
}

DELETE:
Original line: 49break;

DELETE:
Original line: 53int max=val.getActualMaximum(fields[i][0]);

DELETE:
Original line: 55roundUp=offset>((max-min)/2);

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Tested:10766 patches
Compile failed:9727 patches
Compilation rate:0.09650752368567714
PNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/23.java
Current actions:
INSERT:
6:int ms=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
6:int ms=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,ms-(ms%1000));
TO:
5

INSERT:
8:int sec=val.get(Calendar.SECOND);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,sec-(sec%60));
TO:
5

INSERT:
10:int min=val.get(Calendar.MINUTE);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int ms=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,min-(min%60));
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:val.set(Calendar.MILLISECOND,ms-(ms%1000));
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,min-(min%60));
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Tested:11401 patches
Compile failed:10349 patches
Compilation rate:0.09227260766599421
NNNNNNNNNNNNNNPNNNNNPNNPNNPNNNPNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/24.java
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
7:time=truncate(field,time);
TO:
5

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

INSERT:
7:time=truncate(field,time);
TO:
5

INSERT:
8:val.setTimeInMillis(time);
TO:
5

Following are 2th generated patches:
Validating 113 patches...
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

INSERT:
7:time=truncate(field,time);
TO:
5

Following are 3th generated patches:
Validating 12 patches...
Current actions:
INSERT:
6:long time=val.getTimeInMillis();
TO:
5

INSERT:
8:val.setTimeInMillis(time);
TO:
5

Following are 4th generated patches:
Validating 112 patches...
Current actions:
INSERT:
7:time=truncate(field,time);
TO:
5

INSERT:
8:val.setTimeInMillis(time);
TO:
5

Tested:11642 patches
Compile failed:10578 patches
Compilation rate:0.09139323140353892
NNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPPPNNNPNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/25.java
Current actions:
INSERT:
6:int min=val.getActualMinimum(field);
TO:
5

Following are 0th generated patches:
Validating 134 patches...
Current actions:
INSERT:
8:if(field==Calendar.MILLISECOND){
val.set(Calendar.MILLISECOND,min);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(field==Calendar.SECOND){
val.set(Calendar.SECOND,min);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int min=val.getActualMinimum(field);
TO:
5

INSERT:
7:int max=val.getActualMaximum(field);
TO:
5

INSERT:
8:if(field==Calendar.MILLISECOND){
val.set(Calendar.MILLISECOND,min);
}
TO:
5

INSERT:
11:if(field==Calendar.SECOND){
val.set(Calendar.SECOND,min);
}
TO:
5

DELETE:
Original line: 52int min=val.getActualMinimum(fields[i][0]);

DELETE:
Original line: 53int max=val.getActualMaximum(fields[i][0]);

Following are 3th generated patches:
Validating 200 patches...
Tested:12373 patches
Compile failed:11272 patches
Compilation rate:0.08898407823486625
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNPNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNPPNNPNNNNPNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/26.java
Current actions:
INSERT:
6:int ms=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 129 patches...
Current actions:
INSERT:
6:int ms=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
9:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
66:val.set(Calendar.MILLISECOND,ms);
TO:
59

INSERT:
67:val.set(Calendar.SECOND,ss);
TO:
59

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:int ss=val.get(Calendar.SECOND);
TO:
5

INSERT:
10:int min=val.get(Calendar.MINUTE);
TO:
5

INSERT:
66:val.set(Calendar.MILLISECOND,ms);
TO:
59

INSERT:
67:val.set(Calendar.SECOND,ss);
TO:
59

INSERT:
68:val.set(Calendar.MINUTE,min);
TO:
59

Following are 2th generated patches:
Validating 200 patches...
Tested:12898 patches
Compile failed:11772 patches
Compilation rate:0.087300356644441
NNNNNNNNNNNNNNNPNNNNPPNNNNNPNNNNNNNNNNNNNNNNPNPPPPNNPNNNPNNNNNNNNNNPPNNNNNNNNPNNPPNPPNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNPPNNNNNNNPNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/27.java
Current actions:
INSERT:
6:switch (field){
case Calendar.MILLISECOND :
case Calendar.SECOND :
case Calendar.MINUTE :
val.set(Calendar.MILLISECOND,0);
val.set(Calendar.SECOND,0);
val.set(Calendar.MINUTE,0);
break;
case Calendar.DATE :
val.set(Calendar.HOUR_OF_DAY,0);
val.set(Calendar.MINUTE,0);
val.set(Calendar.SECOND,0);
val.set(Calendar.MILLISECOND,0);
break;
case Calendar.HOUR :
case Calendar.HOUR_OF_DAY :
val.set(Calendar.MINUTE,0);
val.set(Calendar.SECOND,0);
val.set(Calendar.MILLISECOND,0);
break;
case Calendar.AM_PM :
val.set(Calendar.HOUR,0);
val.set(Calendar.MINUTE,0);
val.set(Calendar.SECOND,0);
val.set(Calendar.MILLISECOND,0);
break;
default :
break;
}
TO:
5

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
36:for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
5

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
13:break;
TO:
5

INSERT:
23:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
28:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
30:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:13096 patches
Compile failed:11970 patches
Compilation rate:0.08598045204642639
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/28.java
Current actions:
INSERT:
6: final int milli=Calendar.MILLISECOND;
TO:
5

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(field==milli){
val.set(Calendar.MILLISECOND,0);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(field==second){
val.set(Calendar.SECOND,0);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6: final int milli=Calendar.MILLISECOND;
TO:
5

INSERT:
7: final int second=Calendar.SECOND;
TO:
5

INSERT:
8: final int minute=Calendar.MINUTE;
TO:
5

INSERT:
9:if(field==milli){
val.set(Calendar.MILLISECOND,0);
}
TO:
5

INSERT:
12:if(field==second){
val.set(Calendar.SECOND,0);
}
TO:
5

Following are 4th generated patches:
Validating 200 patches...
Tested:13892 patches
Compile failed:12591 patches
Compilation rate:0.09365102217103369
NNNPPPPPPPPPNNNPPPPPPPPPNPPPPPPNPPPPNNPNNPNNNNNNPPPNPPNPPNPPPPPPPPNPPNPNPPPNNNPNNNNNNPPPPPPPPPNPNNNNPPNPPPPPNNNPNNNPPPNPPPPNPPNNNPPPPPPPPNNNNPNNNPNNNNNPPNNPPPPNPPPNPPPPPPPPPPNPNPPNPPPPPNPPPPNPNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNPPNNNNPNPNPNNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNPNPNNNNNNNNNNNNNNNNNNNNPPNNNNNPPNNNPNNNPNNNNNNPNNNNNNNNNNNNNPNNNPPNNNNNNNNNNNNPPNNNNNNNNPNNNNNNNPPNNPNNNPNNPNNPNNPNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/29.java
Current actions:
Wrap:
IfStatement
On:
[val.add(fields[i][0],1);, if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}, {
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}]
Following are 0th generated patches:
Validating 50 patches...
Current actions:
INSERT:
10:if(round&&roundUp){
val.add(fields[i][0],1);
}
TO:
9

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

Following are 1th generated patches:
Validating 22 patches...
Current actions:
INSERT:
10:if(round&&roundUp){
val.add(fields[i][0],1);
}
TO:
9

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

Following are 2th generated patches:
Validating 24 patches...
Current actions:
DELETE:
Original line: 13val.add(Calendar.DATE,15);

DELETE:
Original line: 20else{
val.add(fields[i][0],1);
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 11if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 15else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}

DELETE:
Original line: 20else{
val.add(fields[i][0],1);
}

Tested:13968 patches
Compile failed:12616 patches
Compilation rate:0.09679266895761741
NNNNNPPPPPPNPPPPNNPPPPPPPPPPPPNNNNNNNNPPPPPPPPPPPPPPNNNNNNNPNPPPPPPPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/30.java
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
7:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
9:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

Following are 2th generated patches:
Validating 194 patches...
Current actions:
INSERT:
6:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
8:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
9:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

Following are 3th generated patches:
Validating 194 patches...
Tested:14567 patches
Compile failed:13162 patches
Compilation rate:0.09645088213084368
PPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNPPPPPPPNPPPNNNNNPNNNPNPPNNPNPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNPNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/31.java
Current actions:
UPDATE
FROM:
10:if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
TO:
9:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
}
throw new IllegalArgumentException("The field "+field+" is not supported");
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

UPDATE
FROM:
10:if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
TO:
9:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 2th generated patches:
Validating 9 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
}
throw new IllegalArgumentException("The field "+field+" is not supported");
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 12 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
}
throw new IllegalArgumentException("The field "+field+" is not supported");
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

UPDATE
FROM:
10:if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
TO:
9:if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 4th generated patches:
Validating 10 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
}
throw new IllegalArgumentException("The field "+field+" is not supported");
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Tested:14573 patches
Compile failed:13167 patches
Compilation rate:0.09647979139504563
NNNPNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/32.java
Current actions:
INSERT:
9:if(offset>0){
val.add(Calendar.MILLISECOND,-offset);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
13:if(offset>0){
val.add(Calendar.SECOND,-offset);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}

INSERT:
10:val.add(Calendar.MILLISECOND,-offset);
TO:
5

INSERT:
12:offset=val.get(Calendar.SECOND)-roundUp[1];
TO:
5

INSERT:
13:if(offset>0){
val.add(Calendar.SECOND,-offset);
}
TO:
5

INSERT:
16:offset=val.get(Calendar.MINUTE)-roundUp[2];
TO:
5

INSERT:
17:if(offset>0){
val.add(Calendar.MINUTE,-offset);
}
TO:
5

INSERT:
20:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

INSERT:
24:for(int i=0;i<date.length;i++){
if(date[i]==field){
if(round&&roundUp[i]!=0){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(date[i],1);
}
}
return ;
}
}
TO:
5

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

INSERT:
44:}

TO:
48

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Tested:14973 patches
Compile failed:13567 patches
Compilation rate:0.09390235757697188
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/33.java
Current actions:
INSERT:
6:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
return ;
}
TO:
5

Following are 1th generated patches:
Validating 78 patches...
Current actions:
INSERT:
19:if(round){
val.add(fields[i][0],1);
}
TO:
9

DELETE:
Original line: 21val.add(fields[i][0],1);

INSERT:
27:}

TO:
48

Following are 2th generated patches:
Validating 6 patches...
Current actions:
INSERT:
27:}

TO:
48

DELETE:
Original line: 34offset-=15;

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

INSERT:
7:if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
TO:
5

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

INSERT:
14:return ;
TO:
5

INSERT:
26:throw new IllegalArgumentException("The field "+field+" is not supported");
TO:
48

INSERT:
27:}

TO:
48

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 4th generated patches:
Validating 8 patches...
Current actions:
INSERT:
6:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
return ;
}
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 10if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}

INSERT:
19:if(round){
val.add(fields[i][0],1);
}
TO:
9

INSERT:
26:throw new IllegalArgumentException("The field "+field+" is not supported");
TO:
48

INSERT:
27:}

TO:
48

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Tested:15059 patches
Compile failed:13653 patches
Compilation rate:0.09336609336609336
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/34.java
Current actions:
Wrap:
Block
On:
[if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}, break;, case Calendar.AM_PM :, if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}, break;, int min=val.getActualMinimum(fields[i][0]);, throw new ArithmeticException("Calendar value too large for accurate calculations");, val.set(fields[i][0],val.get(fields[i][0])-offset);, boolean roundUp=false;, switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}, case DateUtils.SEMI_MONTH :, if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}, {
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}]
Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 4throw new ArithmeticException("Calendar value too large for accurate calculations");

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 4throw new ArithmeticException("Calendar value too large for accurate calculations");

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 2th generated patches:
Validating 3 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 4throw new ArithmeticException("Calendar value too large for accurate calculations");

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 9if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 4 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 4throw new ArithmeticException("Calendar value too large for accurate calculations");

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

Following are 4th generated patches:
Validating 2 patches...
Current actions:
INSERT:
2:{
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
boolean roundUp=false;
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}
TO:
1

DELETE:
Original line: 4throw new ArithmeticException("Calendar value too large for accurate calculations");

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 8for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Tested:15137 patches
Compile failed:13692 patches
Compilation rate:0.0954614520710841
NNNNNNPPPPPPPNNNNNNNNPPPNNNNNNNNNPPPPNNPPPNNNPNNNPPPPPPPPNPNPNPNPNPPPPPPPPNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/35.java
Current actions:
INSERT:
6:int millisecond=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:int second=val.get(Calendar.SECOND);
TO:
5

INSERT:
10:val.set(Calendar.MILLISECOND,0);
TO:
5

INSERT:
11:val.set(Calendar.SECOND,0);
TO:
5

INSERT:
12:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
68:val.set(Calendar.MINUTE,minute);
TO:
58

INSERT:
69:val.set(Calendar.HOUR_OF_DAY,hour);
TO:
58

Following are 1th generated patches:
Validating 200 patches...
Tested:15532 patches
Compile failed:13996 patches
Compilation rate:0.09889260880762298
NNNNNNNNNNNPNPPNPPPPPNPPNPPNPNPPNPPPNNNPNNNNPNNNPNPNNNPPNNPPPPNPPPNNPNNNNNPNPNNNPPNNNNNPPNNNNNPPNNNNPPNNNNPNNNNPNNPNPPPPPPPNNNPPPPNPPPNNPPNNPNNNNNNNPPPNNNPNNNNNNPNNPNPPPPPPPNNPNPPNPPPPNNPPNPNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/36.java
Current actions:
INSERT:
16:if(firstJanX==4||firstJanX==1){
return ;
}
TO:
5

DELETE:
Original line: 24return ;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
34:if(!round){
switch (field){
case DateUtils.SECOND :
val.set(Calendar.MILLISECOND,0);
case DateUtils.MINUTE :
val.set(Calendar.SECOND,0);
case DateUtils.HOUR :
val.set(Calendar.MINUTE,0);
case DateUtils.HOUR_OF_DAY :
val.set(Calendar.SECOND,0);
case DateUtils.MINUTE_OF_HOUR :
val.set(Calendar.MINUTE,0);
case DateUtils.SECOND_OF_MINUTE :
val.set(Calendar.SECOND,0);
}
}
TO:
50

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
14:val.set(Calendar.HOUR,0);
TO:
5

INSERT:
23:break;
TO:
48

DELETE:
Original line: 27int offset=0;

DELETE:
Original line: 30case DateUtils.SEMI_MONTH :

DELETE:
Original line: 39break;

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:val.set(Calendar.SECOND,seconds-(seconds%60));
TO:
5

INSERT:
14:val.set(Calendar.HOUR,0);
TO:
5

DELETE:
Original line: 20else{
val.add(fields[i][0],1);
}

DELETE:
Original line: 28boolean offsetSet=false;

INSERT:
28:val.set(Calendar.WEEK_OF_YEAR,weekNumber);
TO:
48

INSERT:
29:break;
TO:
48

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
7:val.set(Calendar.MILLISECOND,millis-(millis%1000));
TO:
5

INSERT:
9:val.set(Calendar.SECOND,seconds-(seconds%60));
TO:
5

INSERT:
10:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
11:val.set(Calendar.MINUTE,minutes-(minutes%60));
TO:
5

INSERT:
12:val.set(Calendar.HOUR_OF_DAY,0);
TO:
5

INSERT:
13:val.set(Calendar.AM_PM,0);
TO:
5

INSERT:
14:val.set(Calendar.HOUR,0);
TO:
5

INSERT:
15:int firstJanX=val.get(firstJanXField[field]);
TO:
5

INSERT:
19:int weekNumber=firstJanX==2?52:53;
TO:
48

INSERT:
21:case DateUtils.WEEK_OF_YEAR :
TO:
48

INSERT:
22:val.add(Calendar.DATE,7*(weekNumber-1));
TO:
48

INSERT:
23:break;
TO:
48

INSERT:
24:case DateUtils.WEEK_OF_MONTH :
TO:
48

INSERT:
26:break;
TO:
48

INSERT:
27:case Calendar.WEEK_OF_YEAR :
TO:
48

INSERT:
28:val.set(Calendar.WEEK_OF_YEAR,weekNumber);
TO:
48

INSERT:
29:break;
TO:
48

INSERT:
30:case Calendar.WEEK_OF_MONTH :
TO:
48

INSERT:
32:break;
TO:
48

INSERT:
36:case DateUtils.SECOND :
TO:
50

INSERT:
37:val.set(Calendar.MILLISECOND,0);
TO:
50

INSERT:
38:case DateUtils.MINUTE :
TO:
50

INSERT:
39:val.set(Calendar.SECOND,0);
TO:
50

INSERT:
41:val.set(Calendar.MINUTE,0);
TO:
50

INSERT:
42:case DateUtils.HOUR_OF_DAY :
TO:
50

INSERT:
44:case DateUtils.MINUTE_OF_HOUR :
TO:
50

INSERT:
45:val.set(Calendar.MINUTE,0);
TO:
50

INSERT:
46:case DateUtils.SECOND_OF_MINUTE :
TO:
50

INSERT:
47:val.set(Calendar.SECOND,0);
TO:
50

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Tested:16124 patches
Compile failed:14587 patches
Compilation rate:0.09532374100719425
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/37.java
Current actions:
INSERT:
6:if(round){
switch (field){
case DateUtils.SEMI_MONTH :
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
break;
case Calendar.AM_PM :
if(val.get(Calendar.AM_PM)==0){
val.set(Calendar.HOUR,0);
}
break;
default :
val.add(field,1);
}
}
TO:
5

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
18:if(val.get(Calendar.AM_PM)==0){
val.set(Calendar.HOUR,0);
}
TO:
40

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
12:else{
val.set(Calendar.DATE,val.getActualMaximum(Calendar.DATE));
val.add(Calendar.MONTH,-1);
}
TO:
30

INSERT:
21:else{
val.set(Calendar.AM_PM,Calendar.PM);
val.set(Calendar.HOUR,11);
}
TO:
40

INSERT:
26:default :
TO:
49

INSERT:
27:val.add(field,1);
TO:
49

INSERT:
30:else{
val.add(field,1);
}
TO:
56

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
21:else{
val.set(Calendar.AM_PM,Calendar.PM);
val.set(Calendar.HOUR,11);
}
TO:
40

INSERT:
27:val.add(field,1);
TO:
49

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 4th generated patches:
Validating 197 patches...
Current actions:
INSERT:
6:if(round){
switch (field){
case DateUtils.SEMI_MONTH :
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
break;
case Calendar.AM_PM :
if(val.get(Calendar.AM_PM)==0){
val.set(Calendar.HOUR,0);
}
break;
default :
val.add(field,1);
}
}
TO:
5

DELETE:
Original line: 17val.add(Calendar.MONTH,1);

INSERT:
31:val.add(field,1);
TO:
56

DELETE:
Original line: 33if(offset>=15){
offset-=15;
}

DELETE:
Original line: 36roundUp=offset>7;

DELETE:
Original line: 41if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}

DELETE:
Original line: 53int max=val.getActualMaximum(fields[i][0]);

DELETE:
Original line: 55roundUp=offset>((max-min)/2);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Tested:16712 patches
Compile failed:15112 patches
Compilation rate:0.09573958831977022
PNNNNNNNNNNPNPPPPNNNNNNPNPNNNPNNNNNNNNNNNNPPNNNNPPPNNNNNPNNNNNPPNNPPNNNNNNNNNNPNNNNPPNNNNNNNNNNNNNPPNNPNNNNNNNNNNNNNNNPNPNPPNNNNPPNPNNNPPPNNNPNPPNPPNNNPPNPPNPNNNNNPNPPNNNNNNNPPPPNNNPNNNPPPNNPPPNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/38.java
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

INSERT:
7:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

DELETE:
Original line: 8for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}

DELETE:
Original line: 28boolean offsetSet=false;

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 51if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 1th generated patches:
Validating 9 patches...
Current actions:
INSERT:
2:private static void modify(Calendar val,int field,boolean round){
if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
TO:
1

DELETE:
Original line: 3if(val.get(Calendar.YEAR)>280000000){
throw new ArithmeticException("Calendar value too large for accurate calculations");
}

DELETE:
Original line: 6boolean roundUp=false;

DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
7:if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
TO:
5

INSERT:
16:else{
val.add(fields[i][0],1);
}
TO:
26

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 2th generated patches:
Validating 7 patches...
Current actions:
DELETE:
Original line: 7for(int i=0;i<fields.length;i++){
for(int j=0;j<fields[i].length;j++){
if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}
}
int offset=0;
boolean offsetSet=false;
switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}
if(!offsetSet){
int min=val.getActualMinimum(fields[i][0]);
int max=val.getActualMaximum(fields[i][0]);
offset=val.get(fields[i][0])-min;
roundUp=offset>((max-min)/2);
}
val.set(fields[i][0],val.get(fields[i][0])-offset);
}

INSERT:
11:else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
TO:
5

INSERT:
16:else{
val.add(fields[i][0],1);
}
TO:
26

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 3th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 15else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}

DELETE:
Original line: 59throw new IllegalArgumentException("The field "+field+" is not supported");

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 9if(fields[i][j]==field){
if(round&&roundUp){
if(field==DateUtils.SEMI_MONTH){
if(val.get(Calendar.DATE)==1){
val.add(Calendar.DATE,15);
}
else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
}
else{
val.add(fields[i][0],1);
}
}
return ;
}

INSERT:
11:else{
val.add(Calendar.DATE,-15);
val.add(Calendar.MONTH,1);
}
TO:
5

DELETE:
Original line: 29switch (field){
case DateUtils.SEMI_MONTH :
if(fields[i][0]==Calendar.DATE){
offset=val.get(Calendar.DATE)-1;
if(offset>=15){
offset-=15;
}
roundUp=offset>7;
offsetSet=true;
}
break;
case Calendar.AM_PM :
if(fields[i][0]==Calendar.HOUR_OF_DAY){
offset=val.get(Calendar.HOUR_OF_DAY);
if(offset>=12){
offset-=12;
}
roundUp=offset>6;
offsetSet=true;
}
break;
}

DELETE:
Original line: 57val.set(fields[i][0],val.get(fields[i][0])-offset);

Tested:16716 patches
Compile failed:15114 patches
Compilation rate:0.09583632447954056
PNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/lang_65/39.java
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(millis<500){
val.set(Calendar.MILLISECOND,0);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
14:if(seconds<30){
val.set(Calendar.SECOND,0);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
10:else{
if(millis>500){
val.set(Calendar.MILLISECOND,1000);
}
}
TO:
5

INSERT:
14:if(seconds<30){
val.set(Calendar.SECOND,0);
}
TO:
5

INSERT:
22:val.set(Calendar.MINUTE,0);
TO:
5

INSERT:
24:else{
if(minutes>30){
val.set(Calendar.MINUTE,60);
}
}
TO:
5

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:int millis=val.get(Calendar.MILLISECOND);
TO:
5

INSERT:
11:val.set(Calendar.MILLISECOND,1000);
TO:
5

INSERT:
14:if(seconds<30){
val.set(Calendar.SECOND,0);
}
TO:
5

INSERT:
20:int minutes=val.get(Calendar.MINUTE);
TO:
5

INSERT:
24:else{
if(minutes>30){
val.set(Calendar.MINUTE,60);
}
}
TO:
5

Tested:17512 patches
Compile failed:15818 patches
Compilation rate:0.09673366834170855
NNNNNNNNNPPPPPPPPNNNPNPPPPPNPPNNNPNNNNPPNPNPPNPNNNNNPPNNNNPPPPPPNPPNNPPPNNNNNNNNPNPPNNPNNNNNNNPPPPPNNPNNPPPPNNNPNNPNPNNPPNNPPNNNNNPPNNNNNNNNNPPPPNPPNNPNNPNNNPNNNNNNNPPPPPPPNPNPNNNPNNNNNNPNPNPNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : lang-65 > patch : 0 | Start : Thu Apr 11 15:48:56 HKT 2024 | End : 2024.04.11 AD at 16:16:38 HKT
