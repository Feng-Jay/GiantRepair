Repair : closure_78
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/0.java
Current actions:
DELETE:
Original line: 6double result;

INSERT:
18:return Node.newNumber(ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval));
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

DELETE:
Original line: 20break;

INSERT:
20:return Node.newNumber(ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval));
TO:
21

INSERT:
22:return Node.newNumber(ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval));
TO:
24

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 23break;

INSERT:
24:return Node.newNumber(lval+rval);
TO:
27

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

INSERT:
26:return Node.newNumber(lval-rval);
TO:
30

DELETE:
Original line: 26break;

INSERT:
28:return Node.newNumber(lval*rval);
TO:
33

DELETE:
Original line: 28result=lval+rval;

DELETE:
Original line: 29break;

DELETE:
Original line: 32break;

INSERT:
34:return Node.newNumber(lval%rval);
TO:
40

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 35break;

INSERT:
40:return Node.newNumber(lval/rval);
TO:
47

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 42break;

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 49break;

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 1th generated patches:
Validating 200 patches...
Tested:196 patches
Compile failed:196 patches
Compilation rate:0.0
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/1.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
else{
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
}
}
TO:
52

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
54:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

INSERT:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
else{
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
}
}
TO:
52

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

INSERT:
54:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 4th generated patches:
Validating 200 patches...
Tested:602 patches
Compile failed:574 patches
Compilation rate:0.046511627906976744
NPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNPNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/2.java
Current actions:
UPDATE
FROM:
15:double lval=lValObj;
TO:
6:double lval=0;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(lvalNode!=null){
lval=NodeUtil.getDoubleValue(lvalNode);
}
TO:
11

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
13:if(rvalNode!=null){
rval=NodeUtil.getDoubleValue(rvalNode);
}
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(lvalNode!=null){
lval=NodeUtil.getDoubleValue(lvalNode);
}
TO:
11

INSERT:
13:if(rvalNode!=null){
rval=NodeUtil.getDoubleValue(rvalNode);
}
TO:
10

INSERT:
16:if((opType==Token.ADD||opType==Token.SUB)&&(NodeUtil.mayBeString(lvalNode,false)||NodeUtil.mayBeString(rvalNode,false))){
JSType type=NodeUtil.getBestJSDestructuringType(lvalNode,rvalNode,true);
if(type!=null&&(type.isString()||type.isUnknown())){
return Node.newString(opType==Token.ADD?Token.ADD:Token.SUB,NodeUtil.getStringValue(lvalNode)+NodeUtil.getStringValue(rvalNode));
}
}
TO:
14

Tested:1182 patches
Compile failed:1126 patches
Compilation rate:0.047377326565143825
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPPNNNNNPNNNNPNNNPNNNNNNNPNNNNNNNNNPNNNNNPNNNPNPPNNNPPNNNNNNNNPNPNNNNPNNPNPNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/3.java
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 1 patches...
Tested:1184 patches
Compile failed:1126 patches
Compilation rate:0.048986486486486486
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/4.java
Current actions:
UPDATE
FROM:
15:double lval=lValObj;
TO:
7:double lval=0;

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
11:lval=NodeUtil.getDoubleValue(left);
TO:
18

INSERT:
12:rval=NodeUtil.getDoubleValue(right);
TO:
18

DELETE:
Original line: 13return null;

UPDATE
FROM:
22:result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
TO:
13:result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
16:lval=NodeUtil.getDoubleValue(left);
TO:
21

INSERT:
17:rval=NodeUtil.getDoubleValue(right);
TO:
21

INSERT:
21:lval=NodeUtil.getDoubleValue(left);
TO:
24

INSERT:
22:rval=NodeUtil.getDoubleValue(right);
TO:
24

INSERT:
26:lval=NodeUtil.getDoubleValue(left);
TO:
27

INSERT:
27:rval=NodeUtil.getDoubleValue(right);
TO:
27

INSERT:
31:lval=NodeUtil.getDoubleValue(left);
TO:
30

INSERT:
32:rval=NodeUtil.getDoubleValue(right);
TO:
30

INSERT:
36:lval=NodeUtil.getDoubleValue(left);
TO:
33

INSERT:
51:rval=NodeUtil.getDoubleValue(right);
TO:
43

Following are 1th generated patches:
Validating 200 patches...
Tested:1381 patches
Compile failed:1323 patches
Compilation rate:0.041998551774076756
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/5.java
Current actions:
INSERT:
55:if(NodeUtil.mayBeString(newNumber,false)){
return null;
}
TO:
54

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
55:if(NodeUtil.mayBeString(newNumber,false)){
return null;
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:return null;
TO:
54

Following are 2th generated patches:
Validating 1 patches...
Tested:1584 patches
Compile failed:1522 patches
Compilation rate:0.039141414141414144
NPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/6.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return null;

INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 49break;

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

DELETE:
Original line: 6double result;

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

DELETE:
Original line: 20break;

INSERT:
20:return Node.newNumber(ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval));
TO:
18

INSERT:
22:return Node.newNumber(ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval));
TO:
21

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 26break;

DELETE:
Original line: 28result=lval+rval;

INSERT:
28:return Node.newNumber(lval-rval);
TO:
30

INSERT:
30:return Node.newNumber(lval*rval);
TO:
33

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 35break;

INSERT:
36:return Node.newNumber(lval%rval);
TO:
40

DELETE:
Original line: 42break;

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 4th generated patches:
Validating 200 patches...
Tested:2184 patches
Compile failed:2116 patches
Compilation rate:0.031135531135531136
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/7.java
Current actions:
INSERT:
8:if(NodeUtil.isUnknown(lVal)||NodeUtil.isUnknown(rVal)){
return null;
}
TO:
11

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(opType==Token.ADD&&NodeUtil.isNumber(lVal)){
Node rValue=rVal.isNumber()?rVal:NodeUtil.getStringValue(rVal);
return Node.newString(Token.NAME,NodeUtil.getStringValue(lVal)+rValue);
}
TO:
10

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
16:Node lValue=lVal.isNumber()?lVal:NodeUtil.getStringValue(lVal);
TO:
14

DELETE:
Original line: 17switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}

INSERT:
20:{
double lval=Double.parseDouble(NodeUtil.getStringValue(lVal));
double rval=Double.parseDouble(NodeUtil.getStringValue(rVal));
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
}
TO:
14

INSERT:
22:double rval=Double.parseDouble(NodeUtil.getStringValue(rVal));
TO:
14

INSERT:
63:if(Math.abs(result)<=MAX_FOLD_NUMBER){
return Node.newNumber(result);
}
TO:
52

Tested:2385 patches
Compile failed:2317 patches
Compilation rate:0.02851153039832285
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/8.java
Tested:2385 patches
Compile failed:2317 patches
Compilation rate:0.02851153039832285

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/9.java
Current actions:
DELETE:
Original line: 6double result;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52:if(String.valueOf(lval).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(lval)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(lval);
return newNumber;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
56:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
60:if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
59:if(lval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 6double result;

INSERT:
18:lval=lval&rval;
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
21:lval=lval|rval;
TO:
21

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

UPDATE
FROM:
28:result=lval+rval;
TO:
27:lval=lval+rval;

UPDATE
FROM:
41:result=lval%rval;
TO:
40:lval=lval%rval;

UPDATE
FROM:
48:result=lval/rval;
TO:
47:lval=lval/rval;

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52:if(String.valueOf(lval).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(lval)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(lval);
return newNumber;
}

UPDATE
FROM:
54:Node newNumber=Node.newNumber(result);
TO:
53:Node newNumber=Node.newNumber(lval);

UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
56:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}

UPDATE
FROM:
60:if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
59:if(lval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

UPDATE
FROM:
63:else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
62:else{
if(lval==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:lval=lval&rval;
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
24:lval=lval^rval;
TO:
24

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

UPDATE
FROM:
31:result=lval-rval;
TO:
30:lval=lval-rval;

UPDATE
FROM:
41:result=lval%rval;
TO:
40:lval=lval%rval;

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52:if(String.valueOf(lval).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(lval)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(lval);
return newNumber;
}

UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
56:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}

Tested:2958 patches
Compile failed:2875 patches
Compilation rate:0.02805949966193374
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNPPPNPPPNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/10.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 1 patches...
Tested:3361 patches
Compile failed:3248 patches
Compilation rate:0.033620946146980066
NPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPNPNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPPPNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/11.java
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 0th generated patches:
Validating 112 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

INSERT:
59:return newNumber;
TO:
56

Following are 2th generated patches:
Validating 25 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

INSERT:
57:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 4th generated patches:
Validating 200 patches...
Tested:4058 patches
Compile failed:3904 patches
Compilation rate:0.03794972893050764
NNNNNNNNNNNNPPPPPNNNPPNPNPPNNNNNNNNNNNNNNPPPPPNPNNNNNNNPNPNPPNNPPNNNPNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/12.java
Current actions:
INSERT:
48:if(Double.isInfinite(rval)){
error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
return null;
}
TO:
47

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
48:if(Double.isInfinite(rval)){
error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
return null;
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
TO:
47

INSERT:
50:return null;
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
TO:
47

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
50:return null;
TO:
47

Following are 4th generated patches:
Validating 1 patches...
Tested:4662 patches
Compile failed:4500 patches
Compilation rate:0.03474903474903475
NNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/13.java
Current actions:
DELETE:
Original line: 6double result;

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
10:Number rValObj=NodeUtil.getNumberValue(right);

INSERT:
14:double lval=lValObj.doubleValue();
TO:
14

DELETE:
Original line: 16double rval=rValObj;

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

DELETE:
Original line: 20break;

INSERT:
20:return Node.newNumber(ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval));
TO:
21

INSERT:
22:return Node.newNumber(ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval));
TO:
24

DELETE:
Original line: 23break;

INSERT:
24:return Node.newNumber(lval+rval);
TO:
27

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

INSERT:
28:return Node.newNumber(lval*rval);
TO:
33

DELETE:
Original line: 28result=lval+rval;

DELETE:
Original line: 29break;

DELETE:
Original line: 32break;

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 35break;

DELETE:
Original line: 42break;

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 49break;

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 61return Node.newString(Token.NAME,"Infinity");

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

Following are 1th generated patches:
Validating 200 patches...
Tested:4856 patches
Compile failed:4694 patches
Compilation rate:0.033360790774299834
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/14.java
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!NodeUtil.isNumber(left)||!NodeUtil.isNumber(right)){
return null;
}
TO:
6

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(NodeUtil.isLiteralValue(left,false)&&NodeUtil.isLiteralValue(right,false)){
lval=NodeUtil.getDoubleValue(left);
rval=NodeUtil.getDoubleValue(right);
}
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:double lval;
TO:
6

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
14:rval=NodeUtil.getDoubleValue(right);
TO:
10

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

INSERT:
7:double lval;
TO:
6

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
8:double rval;
TO:
6

INSERT:
9:if(!NodeUtil.isNumber(left)||!NodeUtil.isNumber(right)){
return null;
}
TO:
6

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
12:if(NodeUtil.isLiteralValue(left,false)&&NodeUtil.isLiteralValue(right,false)){
lval=NodeUtil.getDoubleValue(left);
rval=NodeUtil.getDoubleValue(right);
}
TO:
10

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 4th generated patches:
Validating 200 patches...
Tested:5848 patches
Compile failed:5683 patches
Compilation rate:0.028214774281805747
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/15.java
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
53:if(result!=null&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

INSERT:
53:if(result!=null&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

INSERT:
53:if(result!=null&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 3th generated patches:
Validating 200 patches...
Tested:6452 patches
Compile failed:6281 patches
Compilation rate:0.026503409795412276
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/16.java
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result=null;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(result!=null&&String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
57:if(result==null||Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result=null;

INSERT:
19:result=(lval!=lval)||(rval!=rval)?null:(lval>=0&&rval>=0)?Math.floor(lval)&Math.floor(rval):Math.ceil(lval)&Math.ceil(rval);
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
22:result=(lval!=lval)||(rval!=rval)?null:(lval>=0&&rval>=0)?Math.floor(lval)|Math.floor(rval):Math.ceil(lval)|Math.ceil(rval);
TO:
21

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 28result=lval+rval;

INSERT:
28:result=(lval!=lval)||(rval!=rval)?null:lval+rval;
TO:
27

DELETE:
Original line: 31result=lval-rval;

INSERT:
31:result=(lval!=lval)||(rval!=rval)?null:lval-rval;
TO:
30

INSERT:
34:result=(lval!=lval)||(rval!=rval)?null:lval*rval;
TO:
33

DELETE:
Original line: 41result=lval%rval;

INSERT:
41:result=(lval!=lval)||(rval!=rval)?null:lval%rval;
TO:
40

INSERT:
48:result=(lval!=lval)||(rval!=rval)?null:lval/rval;
TO:
47

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(result!=null&&String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
57:if(result==null||Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Tested:6851 patches
Compile failed:6660 patches
Compilation rate:0.027879141731134142
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNPNNNNNNPNNPPPPNNNNNNPNNNNNNNNPNPNPNPNPNNNNNNNNNNNNNPNNPNNPNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/17.java
Current actions:
INSERT:
28:if(lval==Double.POSITIVE_INFINITY||rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
31:if(lval==Double.NEGATIVE_INFINITY||rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-Infinity");
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
28:if(lval==Double.POSITIVE_INFINITY||rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
27

INSERT:
41:return Node.newString(Token.NAME,"NaN");
TO:
30

INSERT:
44:return Node.newString(Token.NAME,"NaN");
TO:
30

INSERT:
46:if(lval==Double.POSITIVE_INFINITY||rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
30

INSERT:
58:if(lval==Double.POSITIVE_INFINITY&&rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
33

Tested:7251 patches
Compile failed:7047 patches
Compilation rate:0.02813405047579644
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/18.java
Current actions:
INSERT:
28:if(rval!=Double.NaN&&lval!=Double.NaN){
result=lval+rval;
}
TO:
27

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
28:if(rval!=Double.NaN&&lval!=Double.NaN){
result=lval+rval;
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Tested:7452 patches
Compile failed:7228 patches
Compilation rate:0.030059044551798177
PNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNPNNNNNPNNNNNPNNPNNNNNPNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNPNNNNNNNNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/19.java
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
54:return null;
TO:
52

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
54:return null;
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Tested:7858 patches
Compile failed:7520 patches
Compilation rate:0.04301348943751591
NNPPPNNNNNNNNNNNNPPPPNPNPNNNNNPNNNPPPNNNNNPNNNNNPNNPNNNNNNPPNPNNNNNNNPNNNNNPNNPNPNNPNNPPNPNNNNPNNNNPNNNNNNNNNNNNNNPNNPNPPNNNNNNPNNNNNNNNNPNNNNPPNNPNNNNPPPNNNPPNNNPNNNNNPPPNPNNNNPNNNNNNNPNPNNNNNNNNNNPPPPPPPPNNNNNNNNNNNPPPPPNPNNNPNNPNNNNNPPNNNPNNNNPNNNNPPNPNNNPNNNNPNNNNNNNNNNPPNNNNPNPPPNNNNPNNNNPNPNNNNNNNNNNNNNNNNNPPNPPNNPNNNNNNNNNPNNNNNNNNPNNPNNNNNPPNPPPNNNPPPNNNNNNPPNNPNNNNNNNPNNPNNNPPNNNNNNNNNNNPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/20.java
Current actions:
INSERT:
66:else{
if(opType==Token.DIV){
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
if(lval%rval!=0){
int res=(int)result;
result=res;
}
}
}
TO:
64

Following are 0th generated patches:
Validating 24 patches...
Current actions:
INSERT:
67:if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
TO:
64

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
71:if(lval%rval!=0){
int res=(int)result;
result=res;
}
TO:
64

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
66:else{
if(opType==Token.DIV){
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
if(lval%rval!=0){
int res=(int)result;
result=res;
}
}
}
TO:
64

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
69:return null;
TO:
64

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
67:if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
TO:
64

INSERT:
71:if(lval%rval!=0){
int res=(int)result;
result=res;
}
TO:
64

Tested:8284 patches
Compile failed:7946 patches
Compilation rate:0.04080154514727185
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/21.java
Current actions:
INSERT:
55:if(lval==0&&opType==Token.DIV){
newNumber.setType(Token.GETELEM);
newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
}
TO:
54

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
55:if(lval==0&&opType==Token.DIV){
newNumber.setType(Token.GETELEM);
newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:newNumber.setType(Token.GETELEM);
TO:
54

INSERT:
57:newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Tested:8687 patches
Compile failed:8339 patches
Compilation rate:0.04005985956026246
NNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNPNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/22.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,lval);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,lval);

INSERT:
8:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
12:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 16double rval=rValObj;

Following are 3th generated patches:
Validating 200 patches...
Tested:9486 patches
Compile failed:9130 patches
Compilation rate:0.03752899009065992
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/23.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
return Node.newNumber(result);
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
return Node.newNumber(result);
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 55return newNumber;

Tested:9901 patches
Compile failed:9507 patches
Compilation rate:0.03979396020603979
NNNNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNPNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNPNNNPNNPPNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNPPNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/24.java
Current actions:
INSERT:
66:else{
if(opType==Token.DIV&&lval==0&&rval==-1){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
64

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
66:else{
if(opType==Token.DIV&&lval==0&&rval==-1){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
64

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
67:return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
64

Following are 2th generated patches:
Validating 12 patches...
Tested:9916 patches
Compile failed:9522 patches
Compilation rate:0.03973376361436063
NNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/25.java
Current actions:
INSERT:
28:if(lval==0&&rval!=0&&Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
31:if(rval==0&&lval!=0&&Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
28:if(lval==0&&rval!=0&&Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

INSERT:
46:return Node.newNumber(0);
TO:
30

INSERT:
51:if(rval==0&&lval!=0&&Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
30

INSERT:
62:if(lval==0){
return Node.newNumber(0);
}
TO:
33

Tested:10316 patches
Compile failed:9877 patches
Compilation rate:0.04255525397440869
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNPPNNNNNNNNNNPNNPNNNNNPNNNNNNNNNNNNNNNNNPNNNNPNPNNNNNNNNNNNPNNPPNPPNNNNNNNNNNNNNNNNNNPPPNNPNNNNNNNNNNNNNNNNPPNNPNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNPPNNPNNNNNNNNNNNNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNPPNNNPPNPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/26.java
Current actions:
INSERT:
55:newNumber.useSourceInfoIfMissingFromForTree(left);
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:newNumber.useSourceInfoIfMissingFromForTree(left);
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
55:newNumber.useSourceInfoIfMissingFromForTree(left);
TO:
54

INSERT:
56:newNumber.useSourceInfoIfMissingFromForTree(right);
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Tested:10719 patches
Compile failed:10220 patches
Compilation rate:0.04655285007929844
NNNNNNNNNNNNNNNNPNPPPNNPNPNNPNNNNNNPPNNNNNNNNNNNPNNPNNNNNNPPPPNPNNPPNNNNNNPNNNNNNNNNNNPNPNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPPPPPPPNPNNNNNNNNNNNNNNNNNNPPNNPPPPPPPPNNNPPNNPPPNPNPPNPNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/27.java
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

Following are 0th generated patches:
Validating 67 patches...
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
54:return null;
TO:
52

DELETE:
Original line: 63else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Tested:11187 patches
Compile failed:10686 patches
Compilation rate:0.04478412443014213
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/28.java
Current actions:
INSERT:
55:if(NodeUtil.isNumber(newNumber)&&newNumber.getDouble()==0&&opType==Token.DIV){
if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
}
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:if(NodeUtil.isNumber(newNumber)&&newNumber.getDouble()==0&&opType==Token.DIV){
if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
}
TO:
54

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
56:if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
57:return Node.newString(Token.NAME,"-0");
TO:
54

Following are 3th generated patches:
Validating 200 patches...
Tested:11591 patches
Compile failed:11071 patches
Compilation rate:0.04486239323613148
NNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNNPNNNNNNNNNNNPPNNNNNNNNNNNNPNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/29.java
Current actions:
Wrap:
MethodDeclaration
On:
[if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}, default :, throw new Error("Unexpected arithmetic operator");, return Node.newString(Token.NAME,"NaN");, return Node.newString(Token.NAME,"NaN");, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}]
Following are 0th generated patches:
Validating 9 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 4th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Tested:11600 patches
Compile failed:11077 patches
Compilation rate:0.045086206896551725
NNPPPNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/30.java
Current actions:
INSERT:
55:newNumber.srcref(left);
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:newNumber.srcref(left);
TO:
54

INSERT:
56:newNumber.srcref(right);
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Tested:11802 patches
Compile failed:11279 patches
Compilation rate:0.04431452296220979
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/31.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 40 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
return Node.newNumber(result);
}
TO:
52

Following are 1th generated patches:
Validating 8 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

INSERT:
54:return Node.newNumber(result);
TO:
52

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
return Node.newNumber(result);
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 8 patches...
Tested:12057 patches
Compile failed:11514 patches
Compilation rate:0.04503607862652401
NNNNNNNNNNNNPPPPPNNNPPNNPPNNNPNNPPPPPPPPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/32.java
Current actions:
INSERT:
7:double lval;
TO:
6

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(NodeUtil.mayBeString(left,false)){
lValNode=Node.newString(Token.STRING,left.getString());
}
TO:
6

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
14:if(NodeUtil.mayBeString(right,false)){
rValNode=Node.newString(Token.STRING,right.getString());
}
TO:
6

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:double lval;
TO:
6

INSERT:
8:double rval;
TO:
6

INSERT:
9:Node lValNode=left;
TO:
6

INSERT:
11:if(NodeUtil.mayBeString(left,false)){
lValNode=Node.newString(Token.STRING,left.getString());
}
TO:
6

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
17:Double lValObj=NodeUtil.getNumberValue(lValNode);

Following are 3th generated patches:
Validating 200 patches...
Tested:12851 patches
Compile failed:12298 patches
Compilation rate:0.04303167068710606
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNPNPNPNNNNPNNNNNNPNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/33.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
return foldArithmeticOp(Token.ADD,left,right,false);
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:return foldArithmeticOp(opType,left,right,true);
TO:
5

INSERT:
9:}

TO:
10

DELETE:
Original line: 18case Token.BITAND :

DELETE:
Original line: 20break;

DELETE:
Original line: 23break;

DELETE:
Original line: 26break;

DELETE:
Original line: 30case Token.SUB :

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 32break;

DELETE:
Original line: 33case Token.MUL :

DELETE:
Original line: 36case Token.MOD :

DELETE:
Original line: 38error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 46return null;

DELETE:
Original line: 50default :

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 2th generated patches:
Validating 190 patches...
Current actions:
DELETE:
Original line: 4return null;

INSERT:
4:return foldArithmeticOp(Token.ADD,left,right,false);
TO:
2

DELETE:
Original line: 6double result;

INSERT:
7:return foldArithmeticOp(opType,left,right,true);
TO:
5

DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
9:}

TO:
10

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

DELETE:
Original line: 18case Token.BITAND :

DELETE:
Original line: 20break;

DELETE:
Original line: 24case Token.BITXOR :

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 27case Token.ADD :

DELETE:
Original line: 28result=lval+rval;

DELETE:
Original line: 29break;

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 37if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 42break;

DELETE:
Original line: 44if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 49break;

DELETE:
Original line: 50default :

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

INSERT:
9:}

TO:
10

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 13return null;

DELETE:
Original line: 18case Token.BITAND :

DELETE:
Original line: 20break;

DELETE:
Original line: 24case Token.BITXOR :

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 38error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);

DELETE:
Original line: 44if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 50default :

DELETE:
Original line: 60if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

Following are 4th generated patches:
Validating 12 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
return foldArithmeticOp(Token.ADD,left,right,false);
}
TO:
2

DELETE:
Original line: 6double result;

INSERT:
6:else{
return foldArithmeticOp(opType,left,right,true);
}
TO:
5

DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

INSERT:
9:}

TO:
10

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

DELETE:
Original line: 17switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 60if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

Tested:13401 patches
Compile failed:12848 patches
Compilation rate:0.041265577195731665
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/34.java
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
54:return Node.newNumber(result);
TO:
53

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
54:return Node.newNumber(result);
TO:
53

Following are 3th generated patches:
Validating 200 patches...
Tested:13807 patches
Compile failed:13247 patches
Compilation rate:0.04055913666980517
NNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/35.java
Current actions:
INSERT:
66:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
}
TO:
65

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
66:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
}
TO:
65

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
67:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
TO:
65

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
68:return Node.newString(Token.STRING,String.valueOf(result));
TO:
65

Following are 3th generated patches:
Validating 200 patches...
Tested:14211 patches
Compile failed:13644 patches
Compilation rate:0.039898670044331855
NPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/36.java
Current actions:
INSERT:
79:case Token.MOD :
TO:
65

INSERT:
83:op=" / ";
TO:
65

Following are 1th generated patches:
Validating 29 patches...
Current actions:
DELETE:
Original line: 66return null;

INSERT:
66:String leftValue=NodeUtil.printableValue(left,true,true);
TO:
65

INSERT:
67:String rightValue=NodeUtil.printableValue(right,true,true);
TO:
65

INSERT:
69:switch (opType){
case Token.ADD :
op=" + ";
break;
case Token.SUB :
op=" - ";
break;
case Token.MUL :
op=" * ";
break;
case Token.MOD :
op=" % ";
break;
case Token.DIV :
op=" / ";
break;
case Token.BITAND :
op=" & ";
break;
case Token.BITOR :
op=" | ";
break;
case Token.BITXOR :
op=" ^ ";
break;
default :
throw new Error("Unexpected arithmetic operator");
}
TO:
65

INSERT:
97:Node newString=Node.newString(Token.ADD,leftValue,op,rightValue);
TO:
65

INSERT:
98:return newString;
TO:
65

Following are 2th generated patches:
Validating 200 patches...
Tested:14437 patches
Compile failed:13870 patches
Compilation rate:0.039274087414282746
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/37.java
Current actions:
UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
8:if(lValObj==null||rValObj==null){
return null;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
15:return Node.newNumber(ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval));
TO:
18

INSERT:
19:return Node.newNumber(ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval));
TO:
24

INSERT:
21:return Node.newNumber(lval+rval);
TO:
27

DELETE:
Original line: 29break;

INSERT:
37:return Node.newNumber(lval/rval);
TO:
47

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 60if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

DELETE:
Original line: 66return null;

Following are 2th generated patches:
Validating 200 patches...
Tested:14637 patches
Compile failed:14070 patches
Compilation rate:0.03873744619799139
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/38.java
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

Following are 0th generated patches:
Validating 23 patches...
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

INSERT:
59:else{
if(String.valueOf(result).length()==16){
newNumber.putBooleanProp(Node.STRING_PROP,true);
newNumber.setString(String.valueOf(result));
}
}
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

INSERT:
60:newNumber.putBooleanProp(Node.STRING_PROP,true);
TO:
54

Following are 3th generated patches:
Validating 200 patches...
Tested:15259 patches
Compile failed:14691 patches
Compilation rate:0.03722393341634445
NNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/39.java
Current actions:
INSERT:
48:if(Double.isNaN(lval)||Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
48:if(Double.isNaN(lval)||Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
51:if(lval==Double.POSITIVE_INFINITY||lval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,lval==Double.POSITIVE_INFINITY?"Infinity":"-Infinity");
}
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newString(Token.NAME,"NaN");
TO:
47

INSERT:
52:return Node.newString(Token.NAME,lval==Double.POSITIVE_INFINITY?"Infinity":"-Infinity");
TO:
47

INSERT:
54:else{
if(rval==Double.POSITIVE_INFINITY||rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"NaN");
}
}
TO:
47

Following are 3th generated patches:
Validating 200 patches...
Tested:15871 patches
Compile failed:15293 patches
Compilation rate:0.036418625165396006
NNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/40.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/40.java
Tested:15871 patches
Compile failed:15293 patches
Compilation rate:0.036418625165396006

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/41.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/41.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
6:double lval=NodeUtil.getDoubleValue(left);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6double result;

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
8:return Node.newString(Token.NAME,"NaN");
TO:
7

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
10:double rval=NodeUtil.getDoubleValue(right);

INSERT:
11:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

DELETE:
Original line: 13return null;

INSERT:
14:double result;
TO:
14

DELETE:
Original line: 16double rval=rValObj;

Following are 3th generated patches:
Validating 200 patches...
Tested:16636 patches
Compile failed:16049 patches
Compilation rate:0.035284924260639575
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPPPNNNNNNNNNNNNNNPNNPNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/42.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/42.java
Current actions:
INSERT:
48:if(Double.isNaN(rval)||Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
48:if(Double.isNaN(rval)||Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newString(Token.NAME,"NaN");
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Tested:17038 patches
Compile failed:16444 patches
Compilation rate:0.03486324685996009
NPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/43.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/43.java
Current actions:
INSERT:
6:if(left.isStatic()){
double value=left.getDoubleValue();
if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
else{
if(value==Double.POSITIVE_INFINITY){
if(opType==Token.SUB){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.ADD){
return right.cloneTree();
}
}
}
}
}
TO:
5

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
8:if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
TO:
5

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
8:if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
TO:
5

INSERT:
18:return new Node(Token.NEG,right.cloneTree());
TO:
5

INSERT:
24:else{
if(value==Double.NaN){
if(opType==Token.BITAND){
return right.cloneTree();
}
else{
if(opType==Token.BITOR){
return right.cloneTree();
}
}
}
}
TO:
5

INSERT:
39:if(opType==Token.ADD){
return new Node(Token.NEG,left.cloneTree());
}
TO:
5

INSERT:
48:return new Node(Token.NEG,left.cloneTree());
TO:
5

INSERT:
59:return left.cloneTree();
TO:
5

Tested:17040 patches
Compile failed:16446 patches
Compilation rate:0.03485915492957747
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/44.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/44.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
return add(left,right);
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(opType==Token.SUB){
return sub(left,right);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
return add(left,right);
}
TO:
2

DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

INSERT:
6:if(opType==Token.SUB){
return sub(left,right);
}
TO:
5

DELETE:
Original line: 6double result;

DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
9:if(opType==Token.MUL){
return mul(left,right);
}
TO:
10

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 12if(rValObj==null){
return null;
}

INSERT:
12:if(opType==Token.MOD){
return mod(left,right);
}
TO:
14

INSERT:
15:if(opType==Token.DIV){
return div(left,right);
}
TO:
14

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

DELETE:
Original line: 17switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}

INSERT:
21:if(opType==Token.BITOR){
return bitOr(left,right);
}
TO:
14

INSERT:
24:if(opType==Token.BITXOR){
return bitXor(left,right);
}
TO:
14

INSERT:
27:throw new Error("Unexpected arithmetic operator");
TO:
14

INSERT:
28:}

TO:
14

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 60if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

Tested:17440 patches
Compile failed:16846 patches
Compilation rate:0.034059633027522934
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/45.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/45.java
Current actions:
INSERT:
48:if(rval==-1&&lval==-0.0){
return Node.newNumber(-0.0);
}
TO:
47

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
48:if(rval==-1&&lval==-0.0){
return Node.newNumber(-0.0);
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newNumber(-0.0);
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Tested:17842 patches
Compile failed:17223 patches
Compilation rate:0.03469342002017711
NPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNPNNNNNNPNNNNNPNNPNNNNNNNNNNNNNPNNNNNNNNNNNNPNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNPNNNNNPNPNNNPNPNNNNNNNNNNNNNNNNNNPNNPNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/46.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/46.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 11 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 4th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Tested:18253 patches
Compile failed:17605 patches
Compilation rate:0.03550101353202213
NNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNPNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/47.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/47.java
Current actions:
UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
7:if(value!=null){
return value;
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
11:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

INSERT:
26:}

TO:
14

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
15:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:Node value=foldArithmeticHelper(opType,left,right);
TO:
5

INSERT:
16:return Node.newString(Token.NAME,"NaN");
TO:
11

UPDATE
FROM:
54:Node newNumber=Node.newNumber(result);
TO:
19:Node newNumber=Node.newNumber(lval+rval);

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

DELETE:
Original line: 20break;

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

INSERT:
26:}

TO:
14

Tested:18654 patches
Compile failed:18006 patches
Compilation rate:0.03473785783210035
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/48.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/48.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,left.getType());

Following are 0th generated patches:
Validating 113 patches...
Current actions:
DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
8:double rval=NodeUtil.getDoubleValue(right,right.getType());
TO:
7

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 16double rval=rValObj;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,left.getType());

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
8:double rval=NodeUtil.getDoubleValue(right,right.getType());
TO:
7

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 2th generated patches:
Validating 200 patches...
Tested:19164 patches
Compile failed:18507 patches
Compilation rate:0.03428303068252974
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPPNNNNNNNNNNPNNPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/49.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/49.java
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

INSERT:
58:Node newNode=Node.newString(Token.NAME,"NaN");
TO:
57

INSERT:
59:new Node(Token.SHEQ,left,newNode);
TO:
57

INSERT:
60:return newNode;
TO:
57

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

INSERT:
68:Node newNode=new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
63

INSERT:
70:return newNode;
TO:
63

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
58:Node newNode=Node.newString(Token.NAME,"NaN");
TO:
57

INSERT:
60:return newNode;
TO:
57

INSERT:
68:Node newNode=new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
63

Following are 2th generated patches:
Validating 200 patches...
Tested:19758 patches
Compile failed:19046 patches
Compilation rate:0.036036036036036036
NNNNNNNNNNNNNNNPPPPNPNNNNNNPNPPNNNNNNNPNNPNNNNNNNPNNNPPPNNPNNNNNNNPPPPPNNPNNNPNNPNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNPNPNNPPPNNNPNNNNNNNNNNPNNNPPNPPNNNPNNPNNPPNNNNNNNNPNNNNPNPNNPNPPNPNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/50.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/50.java
Current actions:
INSERT:
66:Node leftNumber=NodeUtil.makeNumber(compiler,left);
TO:
65

Following are 0th generated patches:
Validating 36 patches...
Current actions:
INSERT:
67:if(leftNumber==null){
return null;
}
TO:
65

Following are 1th generated patches:
Validating 50 patches...
Current actions:
INSERT:
71:if(rightNumber==null){
return null;
}
TO:
67

Following are 2th generated patches:
Validating 50 patches...
Current actions:
INSERT:
66:Node leftNumber=NodeUtil.makeNumber(compiler,left);
TO:
65

INSERT:
67:if(leftNumber==null){
return null;
}
TO:
65

INSERT:
70:Node rightNumber=NodeUtil.makeNumber(compiler,right);
TO:
67

INSERT:
71:if(rightNumber==null){
return null;
}
TO:
67

INSERT:
74:return performArithmeticOp(opType,leftNumber,rightNumber);
TO:
67

INSERT:
75:}

TO:
67

Following are 3th generated patches:
Validating 200 patches...
Tested:20092 patches
Compile failed:19380 patches
Compilation rate:0.03543698984670516
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/51.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/51.java
Current actions:
Wrap:
MethodDeclaration
On:
[if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}, if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}, default :, return null;, throw new Error("Unexpected arithmetic operator");, return Node.newString(Token.NAME,"NaN");, return Node.newString(Token.NAME,"NaN");, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));, return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 1th generated patches:
Validating 1 patches...
Tested:20094 patches
Compile failed:19382 patches
Compilation rate:0.0354334627251916
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/52.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/52.java
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return null;

INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

Following are 3th generated patches:
Validating 200 patches...
Tested:20697 patches
Compile failed:19968 patches
Compilation rate:0.03522249601391506
PPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/53.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/53.java
Current actions:
INSERT:
55:newNumber.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
54

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
66:return newString;
TO:
60

Following are 1th generated patches:
Validating 24 patches...
Current actions:
INSERT:
55:newNumber.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
54

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

INSERT:
60:newString.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
57

INSERT:
61:return newString;
TO:
57

INSERT:
64:Node newString=Node.newString(Token.NAME,"Infinity");
TO:
60

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

INSERT:
65:newString.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
60

INSERT:
69:Node newString=new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
63

INSERT:
71:return newString;
TO:
63

Following are 2th generated patches:
Validating 200 patches...
Tested:21119 patches
Compile failed:20358 patches
Compilation rate:0.0360339031204129
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPNNNNNNNNNNNNNNPNPNNNNNPNNPNNNPNPNPNNPNPPNPNNPNNNNNNPPPNNNNPNNNNNNPNNNNNNNNNNNPNPNNPPNNNNNNNNPNPNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/54.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/54.java
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

Following are 0th generated patches:
Validating 60 patches...
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
70:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
65

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
67:Node newNumber=Node.newNumber(result);
TO:
65

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

INSERT:
70:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
65

Tested:21580 patches
Compile failed:20804 patches
Compilation rate:0.03595922150139018
NNNNNNNNNNNNNNNNNNNNPPPPPNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/55.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/55.java
Current actions:
INSERT:
28:if(NodeUtil.mayBeString(left,false)){
if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
else{
result=stringAdd(lval,rValObj);
}
}
TO:
27

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
28:if(NodeUtil.mayBeString(left,false)){
if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
else{
result=stringAdd(lval,rValObj);
}
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
29:if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
30:result=stringAdd(lval,rval);
TO:
27

INSERT:
33:result=stringAdd(lval,rValObj);
TO:
27

INSERT:
36:if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lValObj,rval);
}
TO:
27

Following are 4th generated patches:
Validating 200 patches...
Tested:22219 patches
Compile failed:21441 patches
Compilation rate:0.035015077186192
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : closure-78 > patch : 0 | Start : Thu Apr 11 09:09:01 HKT 2024 | End : 2024.04.11 AD at 09:58:52 HKT
