Repair : closure_118
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/0.java
Current actions:
Wrap:
IfStatement
On:
[String name=child.getString();, T type=typeSystem.getType(getScope(),n,name);, Property prop=getProperty(name);, if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:if(child.isName()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 4String name=child.getString();

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Tested:6 patches
Compile failed:0 patches
Compilation rate:1.0
PPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/1.java
Tested:6 patches
Compile failed:0 patches
Compilation rate:1.0

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/2.java
Current actions:
DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

Following are 0th generated patches:
Validating 14 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,value,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(value==null?"null":value.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:Node value=child.getFirstChild();
TO:
4

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,value,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(value==null?"null":value.toString()),n.toString(),""));
}
}

UPDATE
FROM:
9:compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
TO:
9:compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(value==null?"null":value.toString()),n.toString(),""));

Following are 2th generated patches:
Validating 200 patches...
Tested:30 patches
Compile failed:23 patches
Compilation rate:0.23333333333333334
NNNNNPNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/3.java
Current actions:
INSERT:
4:if(child.isString()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
if(!type.isAllType()&&type.isSubtypeOf(getNativeType(STRING_TYPE))){
continue;
}
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

Following are 0th generated patches:
Validating 47 patches...
Current actions:
INSERT:
4:if(child.isString()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
if(!type.isAllType()&&type.isSubtypeOf(getNativeType(STRING_TYPE))){
continue;
}
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
7:if(!type.isAllType()&&type.isSubtypeOf(getNativeType(STRING_TYPE))){
continue;
}
TO:
3

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4String name=child.getString();

INSERT:
4:if(child.isString()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
if(!type.isAllType()&&type.isSubtypeOf(getNativeType(STRING_TYPE))){
continue;
}
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

Following are 3th generated patches:
Validating 4 patches...
Current actions:
INSERT:
4:if(child.isString()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
if(!type.isAllType()&&type.isSubtypeOf(getNativeType(STRING_TYPE))){
continue;
}
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 6Property prop=getProperty(name);

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 4th generated patches:
Validating 1 patches...
Tested:38 patches
Compile failed:30 patches
Compilation rate:0.21052631578947367
NPNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/4.java
Current actions:
INSERT:
11:else{
if(type!=null&&!type.isAllType()){
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,type.toString(),n.toString(),""));
}
}
TO:
10

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
12:compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,type.toString(),n.toString(),""));
TO:
10

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:else{
if(type!=null&&!type.isAllType()){
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,type.toString(),n.toString(),""));
}
}
TO:
10

Following are 2th generated patches:
Validating 1 patches...
Tested:45 patches
Compile failed:36 patches
Compilation rate:0.2
PNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/5.java
Current actions:
INSERT:
6:JSType jsType=JSType.typeof(type);
TO:
5

Following are 0th generated patches:
Validating 7 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,jsType,type))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(jsType==null?"null":jsType.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:JSType jsType=JSType.typeof(type);
TO:
5

UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,jsType,type))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(jsType==null?"null":jsType.toString()),n.toString(),""));
}
}

Following are 2th generated patches:
Validating 200 patches...
Tested:61 patches
Compile failed:52 patches
Compilation rate:0.14754098360655737
NNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/6.java
Current actions:
DELETE:
Original line: 6Property prop=getProperty(name);

Following are 0th generated patches:
Validating 15 patches...
Current actions:
DELETE:
Original line: 6Property prop=getProperty(name);

INSERT:
6:handleObjectLitEntry(t,n,child,name,type);
TO:
5

DELETE:
Original line: 8if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:handleObjectLitEntry(t,n,child,name,type);
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:79 patches
Compile failed:68 patches
Compilation rate:0.13924050632911392
NNNNPPNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/7.java
Current actions:
INSERT:
6:if(name!=null&&name.matches("[0-9]+")){
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALID_CONST_PROPERTY_NAME,name));
}
TO:
5

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
6:if(name!=null&&name.matches("[0-9]+")){
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALID_CONST_PROPERTY_NAME,name));
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALID_CONST_PROPERTY_NAME,name));
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:92 patches
Compile failed:81 patches
Compilation rate:0.11956521739130435
NNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/8.java
Current actions:
INSERT:
6:Node value=child.getLastChild();
TO:
5

Following are 0th generated patches:
Validating 3 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:Node value=child.getLastChild();
TO:
5

UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 2th generated patches:
Validating 200 patches...
Tested:105 patches
Compile failed:93 patches
Compilation rate:0.11428571428571428
NNNNNNPNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/9.java
Current actions:
Wrap:
IfStatement
On:
[String name=child.getString();, T type=typeSystem.getType(getScope(),n,name);, Property prop=getProperty(name);, if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 4String name=child.getString();

INSERT:
4:if(child.isString()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Tested:111 patches
Compile failed:93 patches
Compilation rate:0.16216216216216217
PPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/10.java
Current actions:
Wrap:
IfStatement
On:
[Property prop=getProperty(name);, if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 6Property prop=getProperty(name);

INSERT:
6:if(type!=null){
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
5

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 32 patches...
Tested:117 patches
Compile failed:97 patches
Compilation rate:0.17094017094017094
NNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/11.java
Current actions:
INSERT:
11:else{
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
TO:
10

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
11:else{
compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
TO:
10

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
12:compiler.report(JSError.make(t.getSourceName(),child,Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Tested:124 patches
Compile failed:103 patches
Compilation rate:0.1693548387096774
PNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/12.java
Current actions:
DELETE:
Original line: 3for(Node child=n.getFirstChild();child!=null;child=child.getNext()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}

Following are 0th generated patches:
Validating 44 patches...
Current actions:
INSERT:
7:if(!prop.scheduleRenaming(nameNode,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),nameNode,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
6

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:Node nameNode=NodeUtil.newStringNode(compiler,name,n);
TO:
2

DELETE:
Original line: 9compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4String name=child.getString();

INSERT:
4:Node nameNode=NodeUtil.newStringNode(compiler,name,n);
TO:
2

INSERT:
7:if(!prop.scheduleRenaming(nameNode,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),nameNode,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
6

Following are 3th generated patches:
Validating 200 patches...
Tested:142 patches
Compile failed:121 patches
Compilation rate:0.14788732394366197
NNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/13.java
Current actions:
Wrap:
IfStatement
On:
[String name=child.getString();, T type=typeSystem.getType(getScope(),n,name);, Property prop=getProperty(name);, if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:if(child.isString()||child.isGetProp()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 4String name=child.getString();

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Tested:148 patches
Compile failed:121 patches
Compilation rate:0.18243243243243243
PPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/14.java
Current actions:
INSERT:
3:Node parent=t.getScopeRoot();
TO:
2

Following are 0th generated patches:
Validating 25 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
10:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,objLitType))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:T objLitType=typeSystem.getType(getScope(),objLitScope,parent);
TO:
2

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
5:T type=typeSystem.getType(getScope(),n,name);
TO:
8:T type=typeSystem.getType(getScope(),objLitScope,child);

Following are 3th generated patches:
Validating 200 patches...
Tested:172 patches
Compile failed:144 patches
Compilation rate:0.16279069767441862
NNNNNPNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/15.java
Current actions:
INSERT:
6:Node value=child.getFirstChild();
TO:
5

Following are 0th generated patches:
Validating 3 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:Node value=child.getFirstChild();
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:Node value=child.getFirstChild();
TO:
5

UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 3th generated patches:
Validating 200 patches...
Tested:191 patches
Compile failed:161 patches
Compilation rate:0.15706806282722513
NNNNNNPNNNNNPNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/16.java
Current actions:
DELETE:
Original line: 4String name=child.getString();

INSERT:
4:Node valueNode=null;
TO:
2

INSERT:
6:switch (child.getType()){
case Token.GET :
nameNode=child.getFirstChild();
valueNode=nameNode.getNext();
break;
case Token.SET :
nameNode=child.getFirstChild();
valueNode=nameNode.getNext().getNext();
break;
case Token.STRING :
nameNode=child;
valueNode=child.getNext();
break;
default :
Node keyNode=child;
Node valNode=child.getNext();
String name=keyNode.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
break;
}
TO:
3

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

INSERT:
32:}

TO:
3

INSERT:
33:}

TO:
3

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
3:Node nameNode=null;
TO:
2

DELETE:
Original line: 4String name=child.getString();

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

INSERT:
6:switch (child.getType()){
case Token.GET :
nameNode=child.getFirstChild();
valueNode=nameNode.getNext();
break;
case Token.SET :
nameNode=child.getFirstChild();
valueNode=nameNode.getNext().getNext();
break;
case Token.STRING :
nameNode=child;
valueNode=child.getNext();
break;
default :
Node keyNode=child;
Node valNode=child.getNext();
String name=keyNode.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
break;
}
TO:
3

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

INSERT:
32:}

TO:
3

INSERT:
33:}

TO:
3

Following are 2th generated patches:
Validating 3 patches...
Tested:191 patches
Compile failed:161 patches
Compilation rate:0.15706806282722513

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/17.java
Current actions:
INSERT:
11:else{
prop.setType(type);
}
TO:
10

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
12:prop.setType(type);
TO:
10

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:else{
prop.setType(type);
}
TO:
10

Following are 2th generated patches:
Validating 1 patches...
Tested:198 patches
Compile failed:168 patches
Compilation rate:0.15151515151515152
NNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/18.java
Current actions:
UPDATE
FROM:
5:T type=typeSystem.getType(getScope(),n,name);
TO:
5:JSType type=getTypeOfProperty(getScope(),n,name);

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
5:T type=typeSystem.getType(getScope(),n,name);
TO:
5:JSType type=getTypeOfProperty(getScope(),n,name);

Following are 1th generated patches:
Validating 200 patches...
Tested:204 patches
Compile failed:174 patches
Compilation rate:0.14705882352941177
NNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/19.java
Current actions:
DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

INSERT:
5:T type=getPropertyType(n,name);
TO:
4

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:T type=getPropertyType(n,name);
TO:
4

Following are 3th generated patches:
Validating 200 patches...
Tested:217 patches
Compile failed:187 patches
Compilation rate:0.1382488479262673
NNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/20.java
Current actions:
INSERT:
5:Node value=child.getFirstChild();
TO:
4

Following are 0th generated patches:
Validating 3 patches...
Current actions:
UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
5:Node value=child.getFirstChild();
TO:
4

UPDATE
FROM:
7:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
TO:
8:if(prop.scheduleRenaming(child,processProperty(t,prop,type,value))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:Node value=child.getFirstChild();
TO:
4

Following are 3th generated patches:
Validating 200 patches...
Tested:230 patches
Compile failed:199 patches
Compilation rate:0.13478260869565217
NNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/21.java
Current actions:
Wrap:
IfStatement
On:
[String name=child.getString();, T type=typeSystem.getType(getScope(),n,name);, Property prop=getProperty(name);, if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:if(child.isStringKey()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
3

DELETE:
Original line: 4String name=child.getString();

DELETE:
Original line: 5T type=typeSystem.getType(getScope(),n,name);

DELETE:
Original line: 6Property prop=getProperty(name);

DELETE:
Original line: 7if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}

Following are 1th generated patches:
Validating 200 patches...
Tested:236 patches
Compile failed:203 patches
Compilation rate:0.13983050847457626
NNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/22.java
Current actions:
INSERT:
5:double nameNumber=Double.NaN;
TO:
4

Following are 0th generated patches:
Validating 36 patches...
Current actions:
INSERT:
12:if(type==null&&!Double.isNaN(nameNumber)){
type=getNativeType(NUMBER_TYPE);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:double nameNumber=Double.NaN;
TO:
4

INSERT:
6:{
nameNumber=Double.parseDouble(name);
}
TO:
4

INSERT:
7:nameNumber=Double.parseDouble(name);
TO:
4

INSERT:
9:catch(NumberFormatException e){
}
TO:
4

INSERT:
12:if(type==null&&!Double.isNaN(nameNumber)){
type=getNativeType(NUMBER_TYPE);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Tested:260 patches
Compile failed:227 patches
Compilation rate:0.12692307692307692
NNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/23.java
Current actions:
DELETE:
Original line: 3for(Node child=n.getFirstChild();child!=null;child=child.getNext()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(parent.isObjectLit()){
Node parentParent=parent.getParent();
if(parentParent.isVar()){
String name=parentParent.getString();
T type=typeSystem.getType(getScope(),parent,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(n,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),n,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
}
TO:
2

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:if(parentParent.isVar()){
String name=parentParent.getString();
T type=typeSystem.getType(getScope(),parent,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(n,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),n,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
2

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
3:Node parent=n.getParent();
TO:
2

DELETE:
Original line: 3for(Node child=n.getFirstChild();child!=null;child=child.getNext()){
String name=child.getString();
T type=typeSystem.getType(getScope(),n,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),child,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}

INSERT:
6:if(parentParent.isVar()){
String name=parentParent.getString();
T type=typeSystem.getType(getScope(),parent,name);
Property prop=getProperty(name);
if(!prop.scheduleRenaming(n,processProperty(t,prop,type,null))){
if(propertiesToErrorFor.containsKey(name)){
compiler.report(JSError.make(t.getSourceName(),n,propertiesToErrorFor.get(name),Warnings.INVALIDATION,name,(type==null?"null":type.toString()),n.toString(),""));
}
}
}
TO:
2

Tested:266 patches
Compile failed:231 patches
Compilation rate:0.13157894736842105
NNNNPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/24.java
Current actions:
INSERT:
11:else{
prop.setPendingRemoval(true);
}
TO:
10

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
12:prop.setPendingRemoval(true);
TO:
10

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:else{
prop.setPendingRemoval(true);
}
TO:
10

Following are 2th generated patches:
Validating 1 patches...
Tested:273 patches
Compile failed:238 patches
Compilation rate:0.1282051282051282
NNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/25.java
Current actions:
INSERT:
6:if(child.isGetterDef()){
Node nameNode=child.getFirstChild();
if(!nameNode.isString()&&nameNode.isQualifiedName()){
nameNode.setString(name);
if(type instanceof FunctionType){
nameNode.setString("$jscomp$synthetic$"+name);
}
}
}
TO:
5

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
6:if(child.isGetterDef()){
Node nameNode=child.getFirstChild();
if(!nameNode.isString()&&nameNode.isQualifiedName()){
nameNode.setString(name);
if(type instanceof FunctionType){
nameNode.setString("$jscomp$synthetic$"+name);
}
}
}
TO:
5

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
8:if(!nameNode.isString()&&nameNode.isQualifiedName()){
nameNode.setString(name);
if(type instanceof FunctionType){
nameNode.setString("$jscomp$synthetic$"+name);
}
}
TO:
5

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
7:Node nameNode=child.getFirstChild();
TO:
5

INSERT:
9:nameNode.setString(name);
TO:
5

INSERT:
10:if(type instanceof FunctionType){
nameNode.setString("$jscomp$synthetic$"+name);
}
TO:
5

Following are 4th generated patches:
Validating 200 patches...
Tested:285 patches
Compile failed:248 patches
Compilation rate:0.12982456140350876
NNNNPPNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/26.java
Current actions:
INSERT:
3:propertiesToErrorFor.clear();
TO:
2

Following are 0th generated patches:
Validating 49 patches...
Current actions:
INSERT:
8:if(!prop.scheduleRenaming(child,processProperty(t,prop,type,null))){
if(!propertiesToErrorFor.containsKey(name)){
propertiesToErrorFor.put(name,n.toString());
}
}
TO:
2

Following are 1th generated patches:
Validating 174 patches...
Current actions:
INSERT:
9:if(!propertiesToErrorFor.containsKey(name)){
propertiesToErrorFor.put(name,n.toString());
}
TO:
2

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:propertiesToErrorFor.clear();
TO:
2

INSERT:
5:String name=child.getString();
TO:
2

INSERT:
9:if(!propertiesToErrorFor.containsKey(name)){
propertiesToErrorFor.put(name,n.toString());
}
TO:
2

Following are 3th generated patches:
Validating 200 patches...
Tested:309 patches
Compile failed:272 patches
Compilation rate:0.11974110032362459
NNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_118/27.java
Current actions:
INSERT:
6:type=(type.isAllType()?getNativeType(ARRAY_TYPE):type);
TO:
5

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
6:type=(type.isAllType()?getNativeType(ARRAY_TYPE):type);
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Tested:315 patches
Compile failed:278 patches
Compilation rate:0.11746031746031746
NNNNNN
Finish : closure-118 > patch : 0 | Start : Fri Apr 12 01:15:35 HKT 2024 | End : 2024.04.12 AD at 01:33:29 HKT
