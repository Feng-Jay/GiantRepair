Repair : closure_17
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/0.java
Tested:0 patches
Compile failed:0 patches
Compilation rate:NaN

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/1.java
Current actions:
INSERT:
21:if(info.hasType()){
return info.getType();
}
TO:
20

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
21:if(info.hasType()){
return info.getType();
}
TO:
20

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
22:return info.getType();
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Tested:402 patches
Compile failed:402 patches
Compilation rate:0.0
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/2.java
Current actions:
INSERT:
40:if(rValue!=null&&rValue.getJSType()!=null){
return rValue.getJSType();
}
TO:
39

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
40:if(rValue!=null&&rValue.getJSType()!=null){
return rValue.getJSType();
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:return rValue.getJSType();
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Tested:804 patches
Compile failed:801 patches
Compilation rate:0.0037313432835820895
NPNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/3.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(lValue,sourceName,info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(lValue,sourceName,info,lValue);
}
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(info.hasType()){
JSType t=info.getType();
if(info.isTypedef()){
if(!t.isFunctionType()&&!t.isUnknownType()){
t=t.restrictByNotNullOrUndefined();
}
}
return t;
}
TO:
21

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(lValue,sourceName,info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(lValue,sourceName,info,lValue);
}
}
}
TO:
1

DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
22:return null;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:1182 patches
Compile failed:1135 patches
Compilation rate:0.03976311336717428
NNNNNNNNPNNNNNNNNNNNPPPNPPPNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPNNNPPNNNNPPNNNPNPNNNNNNNPNNNNNNNNPNNNNPNNPNPNNNNNNNNNNPNNPNPNNNNNNNNNNNNNNNPNPNNNNNPNNNNNPNPPPNPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/4.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType();
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 14else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Following are 3th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Tested:1584 patches
Compile failed:1537 patches
Compilation rate:0.029671717171717172
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/5.java
Current actions:
INSERT:
40:if(info!=null&&info.hasTypedefType()){
return info.getTypedefType();
}
TO:
39

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
40:if(info!=null&&info.hasTypedefType()){
return info.getTypedefType();
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
43:else{
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}
TO:
39

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
40:if(info!=null&&info.hasTypedefType()){
return info.getTypedefType();
}
TO:
39

INSERT:
43:else{
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}
TO:
39

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:return info.getTypedefType();
TO:
39

Following are 4th generated patches:
Validating 200 patches...
Tested:2188 patches
Compile failed:2140 patches
Compilation rate:0.021937842778793418
NNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/6.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
7:return createTypeFromNodes(sourceName,lValue.getQualifiedName(),info,lValue);
TO:
21

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 1th generated patches:
Validating 120 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 14else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Following are 2th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 3th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType();
TO:
3

INSERT:
7:return createTypeFromNodes(sourceName,lValue.getQualifiedName(),info,lValue);
TO:
21

DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType();
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return createTypeFromNodes(sourceName,lValue.getQualifiedName(),info,lValue);
TO:
21

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:2706 patches
Compile failed:2500 patches
Compilation rate:0.07612712490761271
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNPPNNPPNNNPPPPPNPPNNNPPPNPPPPPNPPNNPNPPNNNPPNPPNNNPNNPPNNPPNPPNNPPPPPPPPPNNPPNNNPNNPPNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNPPNPPPNNNNPNNNNPPPPPPPPNNNNNNNPPPPPPNPPPPPPPPNPNPNPPPPNPPPPNNPPPPPNPPPPPPPNPNPPNPPPPNPPPPPPPNNPPPPPNPPPPPPNNNPNNNNNNNNNNPNNPNPNPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/7.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(lValue.isGetProp()&&lValue.getFirstChild().isQualifiedName()){
String prop=lValue.getLastChild().getString();
Node object=lValue.getFirstChild().cloneNode();
object.setDeclaredTypeExpression(info.getOriginalTypeExpression(prop));
JSDocInfo objectInfo=NodeUtil.getBestJSDocInfo(object);
return getDeclaredType(sourceName,objectInfo,object,null);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:return info.getType();
TO:
3

INSERT:
6:if(lValue.isGetProp()&&lValue.getFirstChild().isQualifiedName()){
String prop=lValue.getLastChild().getString();
Node object=lValue.getFirstChild().cloneNode();
object.setDeclaredTypeExpression(info.getOriginalTypeExpression(prop));
JSDocInfo objectInfo=NodeUtil.getBestJSDocInfo(object);
return getDeclaredType(sourceName,objectInfo,object,null);
}
TO:
5

DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

DELETE:
Original line: 19return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 23JSType knownType=null;

DELETE:
Original line: 31boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());

Following are 2th generated patches:
Validating 200 patches...
Tested:3306 patches
Compile failed:3053 patches
Compilation rate:0.0765275257108288
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPNPPPPPNNNNNNNNNNNNNPNNNNNNNNPNNNNNPNNNNNNPNNNNNPNPNNNNNNNNNNNNNNNPNPNPNPNNPPNPNNNNNPNNPNNNPPPPNPPPPPNPNPNNNPNNNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/8.java
Current actions:
INSERT:
36:else{
knownType=rValue.getFirstKnownValue();
}
TO:
35

Following are 0th generated patches:
Validating 20 patches...
Current actions:
INSERT:
40:if(knownType!=null){
JSType resultType=knownType.autobox().getBestType();
if(resultType!=null){
return resultType;
}
}
TO:
35

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
42:if(resultType!=null){
return resultType;
}
TO:
35

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
36:else{
knownType=rValue.getFirstKnownValue();
}
TO:
35

INSERT:
39:}

TO:
35

INSERT:
40:if(knownType!=null){
JSType resultType=knownType.autobox().getBestType();
if(resultType!=null){
return resultType;
}
}
TO:
35

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
36:else{
knownType=rValue.getFirstKnownValue();
}
TO:
35

INSERT:
39:}

TO:
35

INSERT:
41:JSType resultType=knownType.autobox().getBestType();
TO:
35

INSERT:
42:if(resultType!=null){
return resultType;
}
TO:
35

Following are 4th generated patches:
Validating 200 patches...
Tested:4123 patches
Compile failed:3864 patches
Compilation rate:0.06281833616298811
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/9.java
Current actions:
DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

Following are 0th generated patches:
Validating 147 patches...
Current actions:
INSERT:
21:if(info.isConstant()&&rValue!=null){
return rValue.getJSType();
}
TO:
20

DELETE:
Original line: 26return rValue.getJSType();

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

INSERT:
21:else{
if(info.isConstant()&&rValue!=null){
return rValue.getJSType();
}
}
TO:
20

Following are 2th generated patches:
Validating 200 patches...
Tested:4624 patches
Compile failed:4176 patches
Compilation rate:0.09688581314878893
NNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNPNPPNNNNNNNPNPNNNNNNNPPNPNPPNNNNNPNPNNNNNPNNNNNNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPPNNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNPNNPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPNNPNNNPNNNPNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNPNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNPNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPNPPPNNPPNNPNNNNNNPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/10.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(lValue.getJSType()!=null){
return lValue.getJSType();
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(info!=null&&info.hasType()){
if(info.hasEnumParameterType()){
jsType=createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
jsType=createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
8

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:JSType jsType=null;
TO:
8

INSERT:
19:jsType=getGlobalType(sourceName,lValue);
TO:
39

Tested:4960 patches
Compile failed:4478 patches
Compilation rate:0.09717741935483871
NNNNNNNNNNNPPNPPPPNPNPNNNNNNPPNNNNNNNPNNPNNNNNPNNPNPNNNNNNNNNNNNNNNNNNNNNNNNPNNPNPNNNPPPNNNNNNPNNNNNPNNNNNNNNNPNNNNNNNNNNNNNPNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/11.java
Current actions:
DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 1 patches...
Tested:4962 patches
Compile failed:4480 patches
Compilation rate:0.09713825070536074
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/12.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

Following are 1th generated patches:
Validating 60 patches...
Current actions:
INSERT:
6:if(info.hasType()){
return info.getType();
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
8

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

INSERT:
7:return info.getType();
TO:
5

INSERT:
10:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
8

INSERT:
12:if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
8

DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 15return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

INSERT:
16:if(!sourceName.equals(info.getSourceFile().getName())){
report(JSError.make(lValue,INEXISTENT_PARAM_JSDOC_TYPE,lValue.getQualifiedName()));
}
TO:
8

DELETE:
Original line: 25if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}

DELETE:
Original line: 28else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}

Tested:5492 patches
Compile failed:4835 patches
Compilation rate:0.1196285506190823
NNNNNNNNNNNNNPPPPPPNPPNPNNPPNNPNPPPPNNNNNPPNNNNNNNNNNPNPPNNNNNNNNPNNNNNPPNPPPNNNNNPNNNPNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNPPPPPPPPPPNNPNNPPPPPPPPPPNNPPPPPPPPPPPPPPNNNNPNPNPNNNPNNNNNNPNPNNPNNNNNNNNNNNNNNNNNNPPPPPPPPPNNPPPPPPPPPPPPNNPPPNNPPNPPPPPNPNNPPPPPPPPPPPPPPPPPNPNPNNPPPPPPPPNPNNPPPPPPPPPPPNPNNPNNPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/13.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(info!=null&&info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(info!=null&&info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
5

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

INSERT:
10:return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
5

INSERT:
13:if(info!=null&&info.isConstant()){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
14

INSERT:
22:return getNativeType(UNKNOWN_TYPE);
TO:
39

Tested:6092 patches
Compile failed:5090 patches
Compilation rate:0.16447800393959291
NNNNNNNNNNNPPPPPPNPPPNNNPNPPPNPNPNNNPPPPPPNNPPNPNNPNPPNNPNPPNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNPPNPNNPNNNPPPNPNPPNNPNPPNNPPPNPPPNPNNPPPNNPNNPPPPNPPNPPNNPNPPNNNNNNPNNPNNNNNNNPNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPPPNNPPPPPPPPPPPPPPNPNPNNPPPPPPPPNNPPPPPPPPPPPPPPNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNPNPPNNNNPPPPPPPPNNPPPPPPPPPPPPPPPPPNNPNNNPPPPPPPPPNNNPPPPPPPPPPPPPPNNPPPNNPPPPPPPPPPNNNPPPPPPPPPNPPPNNPPNPNPPPPPPPPPPPPPPPNPPPNPPPPPPPPPPNNPNNPPPPPPPPPNPNPPPPPPPPPPPPPPPNPNPNNPNNPNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNPPPPPPNNPPPPPPPPPPPPPPPPNNPNPNPNPPPPPPPNNPNPPPPPPPPPPPPPPPPPNNNPNPPPPPPPPNNNPPPPPPPPPNPPPNNPPPPNPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/14.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
if(type.isRecordType()){
type=createRecordTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
else{
if(type.isEnumType()){
type=createEnumTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
}
return type;
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type!=null){
if(type.isRecordType()){
type=createRecordTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
else{
if(type.isEnumType()){
type=createEnumTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
}
return type;
}
TO:
1

Following are 2th generated patches:
Validating 62 patches...
Current actions:
INSERT:
6:if(type.isRecordType()){
type=createRecordTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
TO:
1

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type!=null){
if(type.isRecordType()){
type=createRecordTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
else{
if(type.isEnumType()){
type=createEnumTypeFromTypeAnnotation(sourceName,lValue,type,info);
}
}
return type;
}
TO:
1

DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

INSERT:
21:return null;
TO:
39

Tested:6197 patches
Compile failed:5158 patches
Compilation rate:0.16766177182507666
NNNNNNNNNNNNNPNPPPPPNPNPNNPNNPNNPNPNNNNNPPNNPNPNPPNPPPNNNPNNNNNNNNPPNNNPNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/15.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(info!=null){
jsType=info.getEnclosingType();
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(jsType==null&&lValue.getParent() instanceof Var){
jsType=((Var)lValue.getParent()).getType();
}
TO:
5

Following are 2th generated patches:
Validating 132 patches...
Current actions:
INSERT:
10:if(jsType==null){
return null;
}
TO:
8

Following are 3th generated patches:
Validating 64 patches...
Current actions:
INSERT:
17:if(currentType.getOriginalType() instanceof JSTypeNative){
JSTypeNative nativeType=(JSTypeNative)currentType.getOriginalType();
if(nativeType.isObjectType()||nativeType.isTypeVariable()||nativeType.isUnknownType()||nativeType.isArrayType()){
return jsType;
}
}
TO:
8

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:JSType jsType=null;
TO:
1

INSERT:
4:if(info!=null){
jsType=info.getEnclosingType();
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:if(jsType==null&&lValue.getParent() instanceof Var){
jsType=((Var)lValue.getParent()).getType();
}
TO:
5

INSERT:
10:if(jsType==null){
return null;
}
TO:
8

INSERT:
13:JSType currentType=jsType;
TO:
8

INSERT:
14:while(currentType.getOriginalType() instanceof JSTyped){
currentType=currentType.getOriginalType();
}
TO:
8

INSERT:
17:if(currentType.getOriginalType() instanceof JSTypeNative){
JSTypeNative nativeType=(JSTypeNative)currentType.getOriginalType();
if(nativeType.isObjectType()||nativeType.isTypeVariable()||nativeType.isUnknownType()||nativeType.isArrayType()){
return jsType;
}
}
TO:
8

INSERT:
23:return null;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:6702 patches
Compile failed:5576 patches
Compilation rate:0.1680095493882423
NNNNNNNNNNNNNNNNNNPPPPPPPNNPNNPNNPNNPNPPNNPPNNPPPNNPPNPNNPNNNNNNNPNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/16.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,sourceName,info,lValue);
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,sourceName,info,lValue);
}
TO:
17

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,sourceName,info,lValue);
}
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,sourceName,info,lValue);
}
TO:
17

INSERT:
14:return null;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 200 patches...
Tested:7502 patches
Compile failed:6376 patches
Compilation rate:0.1500933084510797
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/17.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(declaredType==null){
declaredType=getNativeType(UNKNOWN_TYPE);
}
TO:
1

Following are 1th generated patches:
Validating 64 patches...
Current actions:
INSERT:
7:if(declaredType==null){
return null;
}
TO:
5

Following are 2th generated patches:
Validating 64 patches...
Current actions:
INSERT:
10:if(!lValue.hasChildren()){
return getNativeType(UNKNOWN_TYPE);
}
TO:
8

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(declaredType==null){
declaredType=getNativeType(UNKNOWN_TYPE);
}
TO:
1

INSERT:
7:if(declaredType==null){
return null;
}
TO:
5

INSERT:
11:return getNativeType(UNKNOWN_TYPE);
TO:
8

INSERT:
13:boolean isOptional=!lValue.getLastChild().isDefaultValue();
TO:
39

DELETE:
Original line: 25if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}

DELETE:
Original line: 28else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:JSType declaredType=info.getType();
TO:
1

INSERT:
4:if(declaredType==null){
declaredType=getNativeType(UNKNOWN_TYPE);
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:if(declaredType==null){
return null;
}
TO:
5

INSERT:
11:return getNativeType(UNKNOWN_TYPE);
TO:
8

INSERT:
13:boolean isOptional=!lValue.getLastChild().isDefaultValue();
TO:
39

INSERT:
14:return typeInAnnotation(sourceName,lValue,declaredType,isOptional);
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:8005 patches
Compile failed:6786 patches
Compilation rate:0.15227982510930668
NNNNNNNNNPPPPPPPNNPPNNPNNNPPPNPNPNNNNPNNPNNNNPPPPPPNPPNNPNPNPNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNPPPPPPPPPPNNNNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/18.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(typeNode!=null&&typeNode.isFunction()){
return typeNode.getJSType();
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(typeNode!=null&&typeNode.isQualifiedName()){
return createEnumTypeFromNode(typeNode,lValue.getQualifiedName(),info,lValue);
}
TO:
3

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:return typeNode.getJSType();
TO:
3

INSERT:
8:if(typeNode!=null&&typeNode.isQualifiedName()){
return createEnumTypeFromNode(typeNode,lValue.getQualifiedName(),info,lValue);
}
TO:
3

INSERT:
19:return null;
TO:
39

Following are 3th generated patches:
Validating 200 patches...
Tested:8803 patches
Compile failed:7584 patches
Compilation rate:0.13847551970919006
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/19.java
Current actions:
INSERT:
36:else{
if(rValue.isStringKey()){
Node key=rValue.getStringKey();
Node value=rValue.getFirstChild().getFirstChild();
if(key!=null&&value!=null&&key.getString().equals("key")&&value.isString()&&value.getString().equals("value")){
return value.getJSType();
}
}
}
TO:
35

Following are 0th generated patches:
Validating 12 patches...
Current actions:
INSERT:
39:if(key!=null&&value!=null&&key.getString().equals("key")&&value.isString()&&value.getString().equals("value")){
return value.getJSType();
}
TO:
35

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
36:else{
if(rValue.isStringKey()){
Node key=rValue.getStringKey();
Node value=rValue.getFirstChild().getFirstChild();
if(key!=null&&value!=null&&key.getString().equals("key")&&value.isString()&&value.getString().equals("value")){
return value.getJSType();
}
}
}
TO:
35

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
40:return value.getJSType();
TO:
35

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
38:Node value=rValue.getFirstChild().getFirstChild();
TO:
35

INSERT:
39:if(key!=null&&value!=null&&key.getString().equals("key")&&value.isString()&&value.getString().equals("value")){
return value.getJSType();
}
TO:
35

Following are 4th generated patches:
Validating 200 patches...
Tested:9415 patches
Compile failed:8194 patches
Compilation rate:0.1296866702071163
NNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/20.java
Current actions:
INSERT:
40:if(info!=null&&info.isConstant()&&info.hasConstAnnotation()&&rValue!=null){
return rValue.getJSType();
}
TO:
39

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
40:if(info!=null&&info.isConstant()&&info.hasConstAnnotation()&&rValue!=null){
return rValue.getJSType();
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:return rValue.getJSType();
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Tested:9817 patches
Compile failed:8596 patches
Compilation rate:0.12437608230620352
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/21.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
40:return getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
6:return getDeclaredTypeInAnnotationImpl(sourceName,lValue);

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 24if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType();
TO:
3

UPDATE
FROM:
40:return getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
6:return getDeclaredTypeInAnnotationImpl(sourceName,lValue);

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 4th generated patches:
Validating 200 patches...
Tested:10418 patches
Compile failed:9035 patches
Compilation rate:0.1327510078709925
NNPPPNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNPNPNNPPPPPPPNPPPNNNNPPPPPPPPNPPNNNPPPPPPPNPPNPNNPPPNPNNPNNPPPNPNPNPPPPPPPNPPNPPNNNPPNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNPNPPNNPPPPPPNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNPPPPPPPPNNNPPPPNPPPPNPPPNPNPPPPNNPPPPPPPNPNNPPPPNPPPPNPPPNPNPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/22.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(type!=null&&type.isInterface()){
String typeName=lValue.getQualifiedName();
JSType knownType=nativeTypeOf(typeName);
if(knownType!=null){
return knownType;
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(knownType!=null){
return knownType;
}
TO:
1

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:JSType knownType=nativeTypeOf(typeName);
TO:
1

INSERT:
8:return knownType;
TO:
1

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

Following are 3th generated patches:
Validating 34 patches...
Current actions:
INSERT:
3:JSType type=info==null?null:info.getType();
TO:
1

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:if(type!=null&&type.isInterface()){
String typeName=lValue.getQualifiedName();
JSType knownType=nativeTypeOf(typeName);
if(knownType!=null){
return knownType;
}
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
11:return type;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:JSType type=info==null?null:info.getType();
TO:
1

INSERT:
4:if(type!=null&&type.isInterface()){
String typeName=lValue.getQualifiedName();
JSType knownType=nativeTypeOf(typeName);
if(knownType!=null){
return knownType;
}
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
11:return type;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:10499 patches
Compile failed:9080 patches
Compilation rate:0.13515572911705875
NNNNNPPPPNPPPPNNNNNNPPPPNNPPPPNPPPNNNPNNNPNNNNNNNNNPNNNNNNNNNNNNNPPPPPPPPPPPPPPNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/23.java
Current actions:
INSERT:
3:JSType type=null;
TO:
1

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(info.hasEnumParameterType()&&typeName.lastIndexOf('.')==-1){
type=createEnumTypeFromNodes(lValue,sourceName,info,null);
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(info.isConstructor()||info.isInterface()){
type=createFunctionTypeFromNodes(lValue,sourceName,info,null);
}
TO:
14

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

INSERT:
14:type=getNativeType(typeName);
TO:
21

DELETE:
Original line: 29Node firstClause=rValue.getFirstChild();

Following are 4th generated patches:
Validating 3 patches...
Current actions:
INSERT:
3:JSType type=null;
TO:
1

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
5:String typeName=info.getType().trim();
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:if(info.hasEnumParameterType()&&typeName.lastIndexOf('.')==-1){
type=createEnumTypeFromNodes(lValue,sourceName,info,null);
}
TO:
3

INSERT:
10:if(info.isConstructor()||info.isInterface()){
type=createFunctionTypeFromNodes(lValue,sourceName,info,null);
}
TO:
14

INSERT:
14:type=getNativeType(typeName);
TO:
21

INSERT:
18:if(type==null){
type=getNativeType(lValue.getQualifiedName());
}
TO:
39

INSERT:
21:return type;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:11069 patches
Compile failed:9650 patches
Compilation rate:0.12819586231818592
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/24.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
return type;
}
else{
return unknownType;
}
}
TO:
1

Following are 1th generated patches:
Validating 62 patches...
Current actions:
INSERT:
5:if(type!=null){
return type;
}
TO:
1

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 7return rValue.getJSType();

INSERT:
9:return unknownType;
TO:
21

DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Following are 3th generated patches:
Validating 36 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
return type;
}
else{
return unknownType;
}
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
12:return unknownType;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 96 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
return type;
}
else{
return unknownType;
}
}
TO:
1

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

INSERT:
12:return unknownType;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:11226 patches
Compile failed:9764 patches
Compilation rate:0.1302333867806877
NNNNNNNNNNNNPPPPNPPPNNPNPPPPPPNPNPPNNNPNNNNPNNNPPNNNNNNNNNNNNNNNNNNPPPPNNPNPNNPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/25.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(info!=null&&info.hasEnumParameterType()){
return createEnumTypeFromNodes(lValue,sourceName,info,lValue);
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(info!=null&&info.hasEnumParameterType()){
return createEnumTypeFromNodes(lValue,sourceName,info,lValue);
}
TO:
5

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 25if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

Tested:11828 patches
Compile failed:10032 patches
Compilation rate:0.15184308420696652
NNNPPPPPPPPNPNNNNNNNNNNPPPPPPPNPPNNNPPPNNNNNNNNPNNNPNPNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNPNPPPNNNPNPNPPPNPNPNNNPNPPPPPPPPNNPPNPNPNNNPNPNNNNNNNPNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNPPPPPPPPPPPPPPPPNPPPNPPPPPPPPPNNPPPPNNPPPPPPPPNPNPPPPPPPPPPPPNNNNNNNNPNNNNNNNPNNNNNNNNNNPPNNNNNNNNPPNNPNPPPPPPPPNPNPPPPPPPPPPPPPPNNPPPNPNNPPPPPPNPNNPPPPPPPPPPPPPPNNPPNPNPPPPPPPPNPPNNPPPPPPPPPNPPPNNPPPPNNPPPPPPPPPPPPPPPPPNNPPPPPPPPPNNPPPPPPPNPNPPPPNPNPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNPNNNNNNNPNPPPPPPPPNNPPPPPPPPPPPPPPPNNPPNNNPPPPPPPPNPNNPPPPPPPPPPPPPPNPNPNNPPPPPPPPPNPNNPPPPPPPPPNPPPPNPNPNNPPPPPPPPPNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/26.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type==null){
return null;
}
TO:
3

Following are 1th generated patches:
Validating 62 patches...
Current actions:
INSERT:
8:if(info.isConstructor()){
type=type.getConstructorClass();
}
TO:
17

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(info.isInterface()){
type=type.getInterfaceClass();
}
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(info.isConstructor()){
type=type.getConstructorClass();
}
TO:
17

DELETE:
Original line: 28else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

INSERT:
11:if(info.isInterface()){
type=type.getInterfaceClass();
}
TO:
20

Tested:12690 patches
Compile failed:10894 patches
Compilation rate:0.14152876280535856
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/27.java
Tested:12690 patches
Compile failed:10894 patches
Compilation rate:0.14152876280535856

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/28.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type.isFunctionType()){
return caseFunctionTypeInAnnotation(type,lValue,info);
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:JSType type=info.getType();
TO:
3

INSERT:
5:if(type.isFunctionType()){
return caseFunctionTypeInAnnotation(type,lValue,info);
}
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
8:else{
if(type.isEnumType()){
return caseEnumTypeInAnnotation(type,lValue,info);
}
}
TO:
20

INSERT:
12:return null;
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
5:if(type.isFunctionType()){
return caseFunctionTypeInAnnotation(type,lValue,info);
}
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
8:else{
if(type.isEnumType()){
return caseEnumTypeInAnnotation(type,lValue,info);
}
}
TO:
20

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 3th generated patches:
Validating 200 patches...
Tested:13488 patches
Compile failed:11692 patches
Compilation rate:0.13315539739027282
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/29.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return null;
TO:
21

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 1th generated patches:
Validating 4 patches...
Current actions:
INSERT:
7:return null;
TO:
21

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType().evaluate(sourceName,info.isSuppressionsSuppressed(),info.isEnclosingTypeSuppressed(),lValue);
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return null;
TO:
21

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 3th generated patches:
Validating 35 patches...
Current actions:
INSERT:
7:return null;
TO:
21

DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 14else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 19return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Following are 4th generated patches:
Validating 5 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType().evaluate(sourceName,info.isSuppressionsSuppressed(),info.isEnclosingTypeSuppressed(),lValue);
TO:
3

INSERT:
7:return null;
TO:
21

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Tested:13722 patches
Compile failed:11845 patches
Compilation rate:0.13678764028567264
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNPNPPPPPNPPPNNPNNNPPPPPNPPNPNNPPNPPPPPNPPNNNPPNNNPPPNPPPNNNNNPPNNPPNPPNNPPPPPPPPPNNPPNPNNNNPNPPNNNNNNNPPNNNPNNNNNNNNNNNNNNNNNNPPPPPPNPPNNNPPPNNPNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/30.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasType()){
return getDeclaredTypeFromAnnotation(sourceName,lValue,info.getType());
}
else{
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(info.hasType()){
return getDeclaredTypeFromAnnotation(sourceName,lValue,info.getType());
}
TO:
1

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasType()){
return getDeclaredTypeFromAnnotation(sourceName,lValue,info.getType());
}
else{
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

UPDATE
FROM:
40:return getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
14:return getDeclaredTypeFromAnnotation(sourceName,lValue,null);

Following are 4th generated patches:
Validating 200 patches...
Tested:13840 patches
Compile failed:11908 patches
Compilation rate:0.13959537572254335
NNNPNPNPPPPNNNNPNNNNNPNPPNNPNPNPNPPPPPPPNPPNNNPPPPPPPPNPPNNNPPNNNPNNNNNNNNNNNNNNNNNNNNNPNNNPNPPPPNPNNPNNPNPPPPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/31.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type.isNominalType()&&lValue.isQualifiedName()&&lValue.getJSDocInfo()!=null&&lValue.getJSDocInfo().getVisibility()==Visibility.PRIVATE){
String localType=lValue.getJSDocInfo().getType().toString();
String globalType=type.toString();
if(globalType.endsWith(localType)){
String globalTypeWithoutLocal=globalType.substring(0,globalType.length()-localType.length());
return typeRegistry.getGlobalType(globalTypeWithoutLocal);
}
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(globalType.endsWith(localType)){
String globalTypeWithoutLocal=globalType.substring(0,globalType.length()-localType.length());
return typeRegistry.getGlobalType(globalTypeWithoutLocal);
}
TO:
3

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:String localType=lValue.getJSDocInfo().getType().toString();
TO:
3

DELETE:
Original line: 12return rValue.getJSType();

INSERT:
13:if(type.isInterface()||type.isTypedef()){
return typeRegistry.getGlobalType(type.toString());
}
TO:
17

INSERT:
17:}

TO:
20

DELETE:
Original line: 24if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type.isNominalType()&&lValue.isQualifiedName()&&lValue.getJSDocInfo()!=null&&lValue.getJSDocInfo().getVisibility()==Visibility.PRIVATE){
String localType=lValue.getJSDocInfo().getType().toString();
String globalType=type.toString();
if(globalType.endsWith(localType)){
String globalTypeWithoutLocal=globalType.substring(0,globalType.length()-localType.length());
return typeRegistry.getGlobalType(globalTypeWithoutLocal);
}
}
TO:
3

DELETE:
Original line: 7return rValue.getJSType();

INSERT:
13:if(type.isInterface()||type.isTypedef()){
return typeRegistry.getGlobalType(type.toString());
}
TO:
17

DELETE:
Original line: 15return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

INSERT:
17:}

TO:
20

INSERT:
19:return null;
TO:
21

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Tested:14638 patches
Compile failed:12706 patches
Compilation rate:0.13198524388577673
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/32.java
Current actions:
INSERT:
40:String typedefName=null;
TO:
39

Following are 0th generated patches:
Validating 37 patches...
Current actions:
INSERT:
41:if(info!=null){
typedefName=info.getTypedefType();
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
44:if(typedefName!=null){
JSType typedefType=getTypedefType(typedefName);
if(typedefType!=null){
return typedefType;
}
}
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:if(info!=null){
typedefName=info.getTypedefType();
}
TO:
39

INSERT:
46:if(typedefType!=null){
return typedefType;
}
TO:
39

Following are 4th generated patches:
Validating 200 patches...
Tested:15275 patches
Compile failed:13342 patches
Compilation rate:0.1265466448445172
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/33.java
Current actions:
Wrap:
Block
On:
[else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}, else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}, {
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}, return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);, return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);, return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);, return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);]
Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
21:if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
TO:
20

DELETE:
Original line: 23JSType knownType=null;

DELETE:
Original line: 24if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
27:if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
TO:
20

DELETE:
Original line: 29Node firstClause=rValue.getFirstChild();

DELETE:
Original line: 30Node secondClause=firstClause.getNext();

DELETE:
Original line: 31boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());

DELETE:
Original line: 32if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
TO:
1

DELETE:
Original line: 18else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

INSERT:
21:if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
TO:
20

Following are 3th generated patches:
Validating 200 patches...
Tested:15876 patches
Compile failed:13735 patches
Compilation rate:0.13485764676240866
PPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNPNNNNNNPNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPPPPPPPNPPPPPPPPPPPPPPNNNNNNPNNNNNNNNNNPPNNPNNNNNNNNPNNNNNNNNNNNNPNNPNNNNNNNNNNNNPNNNNPPPPPPNNPPPPPPNPNPPPPPNPNNPNNNNNNNPPPNNPPNNNPPPPPPPPPPNPPNNPPPPPNPNPPNNPPNNNPNPPNNPNNPNPNNNPNPPNPNPNPPPPPPPPPPPNNPNPNPPPPNNPPNNPPPPPPPPPPPPNNNNPPPPPPNNPPNNNNPNNNPNNNNNPPPPPPPPNPPPPPPNPNPNPPNPNNNPNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNNNNNNNNNNNNNNNNNPPPPPPPNPPPPPPPPPPNPPPPPNNNPNNNPNNNNNNNNPPNNNNNNNPNNNNNNNNNNNNPNNNNNNNPPNPNNNNNNNNNNNNNNPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/34.java
Current actions:
INSERT:
40:if(lValue.isName()&&lValue.isFromExterns()){
JSType type=getDeclaredTypeInAnnotation(sourceName,lValue,info);
if(type!=null){
return type;
}
}
TO:
39

Following are 0th generated patches:
Validating 6 patches...
Current actions:
INSERT:
40:if(lValue.isName()&&lValue.isFromExterns()){
JSType type=getDeclaredTypeInAnnotation(sourceName,lValue,info);
if(type!=null){
return type;
}
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
42:if(type!=null){
return type;
}
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:JSType type=getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
39

INSERT:
42:if(type!=null){
return type;
}
TO:
39

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
43:return type;
TO:
39

Following are 4th generated patches:
Validating 31 patches...
Current actions:
INSERT:
41:JSType type=getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
39

INSERT:
43:return type;
TO:
39

Tested:16512 patches
Compile failed:14158 patches
Compilation rate:0.14256298449612403
NNNPPPNNPPPPPPPPPPPPPPPPPPPNNPNPNPPPPPPPNPPPNPPPPPPPPPPNNPPPNPNNNNPNNNNNPNNPNNNNNNNPNNNPNNNNNNNNNNNNPPPPPPPNNPPPPPPPPPPPPPPPNNPNPPNPPNPPPPNPNPPNPPPPPPPPPPPPPPNPNPPNNPPPPPPPNNPPPNPPPPPPPPPPNNPNPPNPPNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNPNPNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNPPNPPPPPPPPPNNPPNNPPPPPPPPPNPPNNPPPPPPPPPNPNPPPPNPPPPPPPNPNNNPNPNNNPNNNPNPNNPNNNPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/35.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

Following are 1th generated patches:
Validating 62 patches...
Current actions:
INSERT:
7:if(result==null&&info.hasTypedefType()){
String typeName=info.getTypedefType();
JSType typeFromTypedef=getTypeFromTypedef(sourceName,lValue,typeName,info.isTypedefTypeResolved());
if(typeFromTypedef!=null){
result=typeFromTypedef;
}
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(typeFromTypedef!=null){
result=typeFromTypedef;
}
TO:
5

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
6:JSType result=info.getType();
TO:
5

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:if(result==null&&info.hasTypedefType()){
String typeName=info.getTypedefType();
JSType typeFromTypedef=getTypeFromTypedef(sourceName,lValue,typeName,info.isTypedefTypeResolved());
if(typeFromTypedef!=null){
result=typeFromTypedef;
}
}
TO:
5

INSERT:
14:return result;
TO:
39

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
10:if(typeFromTypedef!=null){
result=typeFromTypedef;
}
TO:
5

INSERT:
14:return result;
TO:
39

DELETE:
Original line: 23JSType knownType=null;

DELETE:
Original line: 25if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:17183 patches
Compile failed:14793 patches
Compilation rate:0.13909096199732293
NNNNNNNNNNNPPPPNPPPPNNNNNNNPNNNNNPNPNNNPPNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNPPPNPPPNNNPPNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNPNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/36.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(sourceName.equals("String")&&lValue.isQualifiedName()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
21

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:return info.getType();
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:if(sourceName.equals("String")&&lValue.isQualifiedName()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
TO:
21

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 2th generated patches:
Validating 200 patches...
Tested:17783 patches
Compile failed:15177 patches
Compilation rate:0.14654445256705842
NNNNNNPPPPPPPPNPPNNNPNPNNPNNPPNNPNNNNNNNPNNNNNNNNNNNNNNNNPPNNNNNNNNNPPPPPPPNPNPNNNPNPNNNNPNNNNNNNPNNNNPPPPPPNNNNNPPPNPNPNPPPPPPPPPNPPNNPNNPNNNNNPNNPNNNNPNPNNNNNNNNNNNNNNNPNNNPNPPPNNPPPPPPPNPNPPPPPPPPPPPPPPNNPPPPPPPPPPPPPNNPPPPNPNPPPPPPPNNPPPPPPPPPPPPPNNNNNPNNNNNNNNNPNNNNNNNNNPNNNNNPNNNNNPPNNNPPPPPPPPNPPNPPPPPPPPPPPPPPPNNPPNNNPPPPPPPNNPNPPPPPPPPPPPPPPNNPPNPNPPPPPPPPNPNNPPPPPPPPPNPPPPNNPPNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/37.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

Following are 1th generated patches:
Validating 60 patches...
Current actions:
INSERT:
8:if(type==null){
Node target=lValue.getFirstChild();
if(target!=null){
type=getDeclaredTypeInAnnotationViaPropertyOf(sourceName,lValue,info,target);
}
}
TO:
14

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(target!=null){
type=getDeclaredTypeInAnnotationViaPropertyOf(sourceName,lValue,info,target);
}
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

INSERT:
3:if(info==null){
return null;
}
TO:
1

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
8:if(type==null){
Node target=lValue.getFirstChild();
if(target!=null){
type=getDeclaredTypeInAnnotationViaPropertyOf(sourceName,lValue,info,target);
}
}
TO:
14

INSERT:
14:if(type==null){
Node target=lValue.getFirstChild();
if(target!=null){
type=getDeclaredTypeInAnnotationViaPropertyOf(sourceName,lValue,info,target);
}
}
TO:
17

INSERT:
20:return type;
TO:
38

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:18315 patches
Compile failed:15663 patches
Compilation rate:0.1447993447993448
NNNNNNNNNNNNNNNPPPPPNPPNNPPNPNNPNNNNPNNNNPNNNPNPNPNNNNNNNPNNNNPNPPPPPPPNPPPPNPPNNPNNNNPNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/38.java
Current actions:
INSERT:
40:if(lValue.isQualifiedName()){
String qName=lValue.getQualifiedName();
JSType qType=findTypeFromQualifiedName(qName);
if(qType!=null){
return qType;
}
if(!qName.equals(sourceName)){
return getDeclaredType(sourceName,info,lValue.getParent(),null);
}
}
TO:
39

Following are 0th generated patches:
Validating 32 patches...
Current actions:
INSERT:
40:if(lValue.isQualifiedName()){
String qName=lValue.getQualifiedName();
JSType qType=findTypeFromQualifiedName(qName);
if(qType!=null){
return qType;
}
if(!qName.equals(sourceName)){
return getDeclaredType(sourceName,info,lValue.getParent(),null);
}
}
TO:
39

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
43:if(qType!=null){
return qType;
}
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
46:if(!qName.equals(sourceName)){
return getDeclaredType(sourceName,info,lValue.getParent(),null);
}
TO:
39

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
41:String qName=lValue.getQualifiedName();
TO:
39

Following are 4th generated patches:
Validating 150 patches...
Current actions:
INSERT:
42:JSType qType=findTypeFromQualifiedName(qName);
TO:
39

INSERT:
44:return qType;
TO:
39

INSERT:
46:if(!qName.equals(sourceName)){
return getDeclaredType(sourceName,info,lValue.getParent(),null);
}
TO:
39

Tested:19097 patches
Compile failed:16387 patches
Compilation rate:0.14190710582814053
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNPNPPPPNNPNNNNNNPNNNNNNNNNPPNNPNNNPPPNNNNPNPNPPPPNPNPNPNPNNNNNNNNNNNNNPNNNPNPPNPNNNNPNNNNNNNNNNNPNPNNNNNNNNPNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPPNNNPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/39.java
Current actions:
INSERT:
4:return info.getType().evaluate(registry,sourceName,registry.getNativeObjectType(UNKNOWN_TYPE));
TO:
3

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType().evaluate(registry,sourceName,registry.getNativeObjectType(UNKNOWN_TYPE));
TO:
3

INSERT:
6:else{
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}
TO:
8

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 1th generated patches:
Validating 33 patches...
Current actions:
DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
4:return info.getType().evaluate(registry,sourceName,registry.getNativeObjectType(UNKNOWN_TYPE));
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 3th generated patches:
Validating 32 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:return info.getType().evaluate(registry,sourceName,registry.getNativeObjectType(UNKNOWN_TYPE));
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:else{
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}
TO:
8

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 34 patches...
Current actions:
DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Tested:19368 patches
Compile failed:16658 patches
Compilation rate:0.1399215200330442
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/40.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/40.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 15return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 23JSType knownType=null;

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
4:JSType result=info.getType();
TO:
3

INSERT:
7:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
5

DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 19return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 2th generated patches:
Validating 187 patches...
Current actions:
DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
5:return caseTopType(result);
TO:
3

INSERT:
7:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
5

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Tested:19751 patches
Compile failed:16976 patches
Compilation rate:0.14049921522960862
NNNNNNNNPPPPPNPPPPPNNNNNNNNNPNNNNNNNPNNNPPPNNNNNNPNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNPPPPPPPNPNNPNPNPPPNPNNNPPNPNNPPNPNNPPPPPPPPPPPNPNNPNNPNPPNNNNNNNNNPPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/41.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/41.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:return getDeclaredTypeFromNode(sourceName,lValue);
TO:
21

DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:return info.getType();
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return getDeclaredTypeFromNode(sourceName,lValue);
TO:
21

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 2th generated patches:
Validating 200 patches...
Tested:20351 patches
Compile failed:17497 patches
Compilation rate:0.14023880890373938
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPPPPPNNNNPNPPPNPPPPNNPNNPPPPPPNPPNNNPPNNNPPPNPPNNNPNPNPNNPPNPPNPNPPPPPPPNNPPPNNNPPNNPNNNNPNPNNPNNNNNNNNNNNNNNNNNNPNNNNPPPPPPPNNPNNPPPNNNNNPNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/42.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/42.java
Current actions:
INSERT:
28:else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
TO:
27

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
32:if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
40:if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
29:Node firstClause=rValue.getFirstChild();
TO:
27

INSERT:
32:if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
TO:
27

INSERT:
36:}

TO:
27

INSERT:
37:}

TO:
27

INSERT:
38:}

TO:
27

INSERT:
39:}

TO:
27

INSERT:
49:return rValue.getJSType();
TO:
27

INSERT:
51:else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
TO:
27

INSERT:
56:return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
TO:
27

INSERT:
62:if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
TO:
27

Tested:20932 patches
Compile failed:17934 patches
Compilation rate:0.14322568316453277
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNPNNPPNPNNNNNPNPNNNPNNNNNNNNNNNNNNNNNNNNPNPNPPPNNNPNPPNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPPPPPPNPPPPPPNNPPNNPNPPPPPNPNPPPNPPPPPPPPPPNPNNPNNNPPPPPPPNPPNNPPPPPPPPPPPNPNNNNNNNPPNNNNNNNNNPNNPNPPNNNNNNNNNNNNNNNNNNNNNPPPPPPPNNNPPPPPPPPNPPPPPNNNPNNPPPPPPPNNPPNPPPPPPPPPPPNNNNNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/43.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/43.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:return unknownType;
TO:
5

DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 15return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 23JSType knownType=null;

DELETE:
Original line: 24if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 1th generated patches:
Validating 37 patches...
Current actions:
DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 15return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 28else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 3 patches...
Current actions:
INSERT:
4:return info.getType();
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Tested:21166 patches
Compile failed:18087 patches
Compilation rate:0.14546914863460267
NNNPPPPPNPPPNPNNNNNNNNNNNNNNNNPPNPNPNNNNPNNNNNNNPNNNNNNPPPPPPPNPNNNPPNPNPPPPPNPPPNNNPPNPPPPPPPNPPNNNPPNPNNPNPNPNNPNPNPNPPPPPPPPPPNPNPNNPPNNNPPPNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/44.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/44.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
10

INSERT:
8:return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
18

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 14else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 23JSType knownType=null;

DELETE:
Original line: 24if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
5:return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
TO:
10

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

UPDATE
FROM:
40:return getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
11:return getDeclaredType(sourceName,lValue);

Following are 4th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
}
}
TO:
1

DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

UPDATE
FROM:
40:return getDeclaredTypeInAnnotation(sourceName,lValue,info);
TO:
11:return getDeclaredType(sourceName,lValue);

Tested:21741 patches
Compile failed:18606 patches
Compilation rate:0.14419759900648543
NNNNNNNNNNNNNNNNNNNNNNNPPPPPPPNPPPPNNNNNNNPNPNNNNNNPNPNPNNNPNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPPPPNPPPPPNNNNNPNNNNNNNNPNNNNPNNNPNNNNNNPNNNNPPNNPNPPPPPPNPPPPNNNNNNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/45.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/45.java
Current actions:
INSERT:
36:else{
if(rValue.isAssign()){
Node rhs=rValue.getLastChild();
Node lhs=rValue.getFirstChild();
if(lhs.isName()&&rhs.isObjectLit()){
return rValue.getJSType();
}
}
}
TO:
35

Following are 0th generated patches:
Validating 12 patches...
Current actions:
INSERT:
39:if(lhs.isName()&&rhs.isObjectLit()){
return rValue.getJSType();
}
TO:
35

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
37:Node rhs=rValue.getLastChild();
TO:
35

INSERT:
38:Node lhs=rValue.getFirstChild();
TO:
35

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
36:else{
if(rValue.isAssign()){
Node rhs=rValue.getLastChild();
Node lhs=rValue.getFirstChild();
if(lhs.isName()&&rhs.isObjectLit()){
return rValue.getJSType();
}
}
}
TO:
35

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
40:return rValue.getJSType();
TO:
35

Following are 4th generated patches:
Validating 200 patches...
Tested:22354 patches
Compile failed:19095 patches
Compilation rate:0.14579046255703676
NNNPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPPNPNPNNNPNNNPPPPPPPNPPPNPPNNPPNNPPPNPNPPNPPNPNPPNNPNNPPPPPPPPNPNNNPNPNNNPNNNPNNNNNNPNPPPNPNNNPPNPNNPPPPPPPNPNPNPNPPPNNNNPPPPPPNPPPPPNNPNPPNPNNPPPNPNNPPPPPNNPPPNPPPPPPPNPNPNNPNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/46.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/46.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(topType!=null){
topType=caseTopType(topType);
topType=topType.restrictByNotNullOrUndefined();
if(topType.isUnionType()){
return topType;
}
else{
return topType;
}
}
TO:
3

Following are 1th generated patches:
Validating 62 patches...
Current actions:
INSERT:
8:if(topType.isUnionType()){
return topType;
}
TO:
3

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
15:if(info.hasEnumParameterType()||info.isConstructor()){
return caseTopType(createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue));
}
TO:
17

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:JSType topType=info.getType();
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:topType=caseTopType(topType);
TO:
3

INSERT:
7:topType=topType.restrictByNotNullOrUndefined();
TO:
3

INSERT:
8:if(topType.isUnionType()){
return topType;
}
TO:
3

INSERT:
12:return topType;
TO:
14

Tested:23016 patches
Compile failed:19757 patches
Compilation rate:0.14159714980882865
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/47.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/47.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info==null){
return null;
}
TO:
1

Following are 1th generated patches:
Validating 64 patches...
Current actions:
INSERT:
7:if(info.hasType()){
type=info.getType();
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
14:if(info.isEnumParameterType()){
if(info.hasEnumParameterType()){
return createEnumTypeFromNodes(null,lValue.getQualifiedName(),info,lValue);
}
return type;
}
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:JSType type;
TO:
5

INSERT:
8:type=info.getType();
TO:
5

INSERT:
12:}

TO:
14

DELETE:
Original line: 12return rValue.getJSType();

INSERT:
22:if(inferredType!=null){
return inferredType;
}
TO:
17

DELETE:
Original line: 25if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}

INSERT:
27:if(info.getReturnType()!=null&&info.getReturnType().isFunction()){
return info.getReturnType();
}
TO:
20

DELETE:
Original line: 31boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());

INSERT:
32:if(declaredType.isFunction()&&rValue!=null&&rValue.isFunction()){
JSType inferredType=inferFunctionTypeFromBody(rValue,lValue.getString(),info,lValue);
if(inferredType!=null){
return inferredType;
}
}
TO:
20

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:23558 patches
Compile failed:20264 patches
Compilation rate:0.13982511248832669
NNNNNNNNNNNNNNNPNPPPNNPNPPPNNPNPNNNNNNPNNNPNNNNNPPNNPNNPPNNPPNNNPNPNNNNPNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/48.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/48.java
Current actions:
DELETE:
Original line: 3if(info!=null&&info.hasType()){
return getDeclaredTypeInAnnotation(sourceName,lValue,info);
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
if(type.isAllType()&&lValue!=null){
type=getNativeType(ARRAY_TYPE);
}
return type;
}
}
TO:
1

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
5:if(type!=null){
if(type.isAllType()&&lValue!=null){
type=getNativeType(ARRAY_TYPE);
}
return type;
}
TO:
1

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 23JSType knownType=null;

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
3:if(info!=null){
JSType type=info.getType();
if(type!=null){
if(type.isAllType()&&lValue!=null){
type=getNativeType(ARRAY_TYPE);
}
return type;
}
}
TO:
1

DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 10if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}

INSERT:
12:return createNativeType(sourceName);
TO:
39

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:23644 patches
Compile failed:20312 patches
Compilation rate:0.14092370157333783
NNNPNPNPPPPPNNNPPNNNNNPPNPPPNPPNNNPPPNNNNNPNNNNNNNNNPNNNNNNNNPNNNNPPNNPPNPNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/49.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/49.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 12return rValue.getJSType();

DELETE:
Original line: 22if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

INSERT:
6:return null;
TO:
5

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 2th generated patches:
Validating 4 patches...
Current actions:
INSERT:
4:return info.getType().evaluate(sourceName,lValue);
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 11if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}

DELETE:
Original line: 18if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

Following are 3th generated patches:
Validating 34 patches...
Current actions:
DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:return info.getType().evaluate(sourceName,lValue);
TO:
3

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Tested:23878 patches
Compile failed:20464 patches
Compilation rate:0.14297679872686156
NNNPPPNPPPPPNNNNNNPNNNNNNNNNPNPNNNNPPNNNNNNNNNNNNNNNNPPPPPPPPPNPNNNPPNNPPPPPPNPPNPNPNPPNPPPPPPNPPNPNNPPNPNPNNPPNNNNPNNPPPPPPPPPPNPPPPNNNPNPNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/50.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/50.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 7return rValue.getJSType();

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
4:return info.getType().substituteGenerics(getNominalType(sourceName,lValue),getJSTypeRegistry());
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
6:return null;
TO:
5

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 3th generated patches:
Validating 35 patches...
Current actions:
INSERT:
4:return info.getType().substituteGenerics(getNominalType(sourceName,lValue),getJSTypeRegistry());
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 9else{
if(info!=null){
if(info.hasEnumParameterType()){
if(rValue!=null&&rValue.isObjectLit()){
return rValue.getJSType();
}
else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
else{
if(info.isConstructor()||info.isInterface()){
return createFunctionTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}
}
}
}

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 34 patches...
Current actions:
INSERT:
6:return null;
TO:
5

DELETE:
Original line: 14else{
return createEnumTypeFromNodes(rValue,lValue.getQualifiedName(),info,lValue);
}

DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

Tested:24142 patches
Compile failed:20647 patches
Compilation rate:0.14476845331786928
NNNPPPPPNPPPNNNNNNNNPNNNNNPNNNPPNNNNPNPNNNNNNNNNNNNNNNPPPPPPPNPPNNNPPNPNPPPPPNPPNPNNPPNPPPPPPPPNPNNPNPPNPPNNNNPPNNNPPNNPPPPPPPPPPPNPNNNPPPNNNPNPNNNNNNNPNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/51.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/51.java
Current actions:
DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
24:if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
TO:
22:if(rValue!=null&&rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
25:if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
TO:
26:if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
21:else{
if(info.isConstant()){
if(rValue!=null&&rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
TO:
20

DELETE:
Original line: 23JSType knownType=null;

UPDATE
FROM:
25:if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
TO:
26:if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}

DELETE:
Original line: 32if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 21else{
if(info.isConstant()){
JSType knownType=null;
if(rValue!=null){
if(rValue.getJSType()!=null&&!rValue.getJSType().isUnknownType()){
return rValue.getJSType();
}
else{
if(rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
}
}

INSERT:
21:else{
if(info.isConstant()){
if(rValue!=null&&rValue.isOr()){
Node firstClause=rValue.getFirstChild();
Node secondClause=firstClause.getNext();
boolean namesMatch=firstClause.isName()&&lValue.isName()&&firstClause.getString().equals(lValue.getString());
if(namesMatch&&secondClause.getJSType()!=null&&!secondClause.getJSType().isUnknownType()){
return secondClause.getJSType();
}
}
}
}
TO:
20

UPDATE
FROM:
26:return rValue.getJSType();
TO:
27:return secondClause.getJSType();

Following are 4th generated patches:
Validating 200 patches...
Tested:25022 patches
Compile failed:21386 patches
Compilation rate:0.14531212532970986
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPNNNNNPPNNNNNNNNNPNPPPNPPNNNNPNNNNNNPNNNNNPPPPPPNNNNNNPNPPNPPPPPPPNNPPNNNNPNNPPPPNNPPNNNPPPPPPPPPPNPPNPNPPPNNPNPNNPPNNNNNPPNNPPNNPNNPPNNPPNNPPPPPPPPPPPPPPNNNNNPNPPPPNNPPNNPPPPPPPPPPPNNPNNPPPPPPPNNPNNPPNNNPNNNNNPPPPPPPNPPPPPPPPNNNPPPPNNNNPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/52.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_17/52.java
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(info.isConstructor()||info.isInterface()){
return getNativeType(FUNCTION_TYPE);
}
TO:
3

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return info.getType();
TO:
38

INSERT:
9:return null;
TO:
39

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
9:return null;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 3th generated patches:
Validating 3 patches...
Current actions:
INSERT:
4:if(info.isConstructor()||info.isInterface()){
return getNativeType(FUNCTION_TYPE);
}
TO:
3

DELETE:
Original line: 4return getDeclaredTypeInAnnotation(sourceName,lValue,info);

DELETE:
Original line: 6if(rValue!=null&&rValue.isFunction()&&shouldUseFunctionLiteralType(JSType.toMaybeFunctionType(rValue.getJSType()),info,lValue)){
return rValue.getJSType();
}

INSERT:
7:return info.getType();
TO:
38

INSERT:
9:return null;
TO:
39

DELETE:
Original line: 40return getDeclaredTypeInAnnotation(sourceName,lValue,info);

Following are 4th generated patches:
Validating 200 patches...
Tested:25821 patches
Compile failed:22185 patches
Compilation rate:0.14081561519693273
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : closure-17 > patch : 0 | Start : Fri Apr 05 16:41:22 HKT 2024 | End : 2024.04.05 AD at 19:43:38 HKT
