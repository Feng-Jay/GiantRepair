Repair : closure_105
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/0.java
Tested:0 patches
Compile failed:0 patches
Compilation rate:NaN

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/1.java
Current actions:
DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

Following are 0th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

DELETE:
Original line: 62foldedSize+=kJoinOverhead;

Following are 1th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 62foldedSize+=kJoinOverhead;

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

Following are 3th generated patches:
Validating 1 patches...
Tested:6 patches
Compile failed:2 patches
Compilation rate:0.6666666666666666
NPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/2.java
Current actions:
INSERT:
19:if(foldedStringNode==null){
foldedStringNode=Node.newString(NodeUtil.getStringValue(elem));
}
TO:
17

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
35:if(foldedStringNode!=null){
foldedSize+=InlineCostEstimator.getCost(foldedStringNode);
if(foldedSize>originalSize){
return ;
}
parent.replaceChild(n,foldedStringNode);
}
TO:
37

Following are 2th generated patches:
Validating 60 patches...
Current actions:
INSERT:
20:foldedStringNode=Node.newString(NodeUtil.getStringValue(elem));
TO:
17

INSERT:
23:foldedStringNode=Node.newString(foldedStringNode.getString()+joinString+NodeUtil.getStringValue(elem));
TO:
23

INSERT:
25:}

TO:
28

INSERT:
26:else{
foldedSize+=InlineCostEstimator.getCost(elem);
arrayFoldedChildren.add(elem);
}
TO:
28

INSERT:
35:if(foldedStringNode!=null){
foldedSize+=InlineCostEstimator.getCost(foldedStringNode);
if(foldedSize>originalSize){
return ;
}
parent.replaceChild(n,foldedStringNode);
}
TO:
37

DELETE:
Original line: 38foldedSize+=arrayFoldedChildren.size()-1;

INSERT:
42:else{
foldedSize+="[].join()".length();
foldedSize+=InlineCostEstimator.getCost(right);
if(foldedSize>originalSize){
return ;
}
arrayNode.detachChildren();
for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}
}
TO:
37

DELETE:
Original line: 46Node foldedStringNode=arrayFoldedChildren.remove(0);

DELETE:
Original line: 50arrayNode.detachChildren();

INSERT:
54:}

TO:
37

DELETE:
Original line: 55parent.replaceChild(n,foldedStringNode);

DELETE:
Original line: 56break;

DELETE:
Original line: 64if(foldedSize>originalSize){
return ;
}

INSERT:
305:}

TO:
37

INSERT:
306:}

TO:
37

Following are 3th generated patches:
Validating 200 patches...
Tested:466 patches
Compile failed:462 patches
Compilation rate:0.008583690987124463
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/3.java
Current actions:
INSERT:
16:if(elem.getType()==Token.STRING){
foldedSize+=joinString.length()+elem.getString().length();
}
TO:
17

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
29:if(foldedSize<originalSize){
if(arrayNode.getChildCount()==1){
return ;
}
int kJoinOverhead="[].join()".length();
foldedSize+=kJoinOverhead;
foldedSize+=InlineCostEstimator.getCost(right);
if(foldedSize<originalSize){
arrayNode.detachChildren();
Node foldedStringNode=Node.newString("");
for(Node elem : arrayNode.children()){
foldedStringNode=new Node(Token.ADD,foldedStringNode,elem);
if(elem.getType()!=Token.STRING){
foldedStringNode=new Node(Token.ADD,foldedStringNode,Node.newString(""));
}
foldedStringNode=new Node(Token.ADD,foldedStringNode,Node.newString(joinString));
}
foldedStringNode=foldedStringNode.getFirstChild();
foldedStringNode.setString("");
parent.replaceChild(n,foldedStringNode);
t.getCompiler().reportCodeChange();
}
}
TO:
39

Following are 2th generated patches:
Validating 12 patches...
Current actions:
INSERT:
22:}

TO:
28

INSERT:
30:if(arrayNode.getChildCount()==1){
return ;
}
TO:
39

DELETE:
Original line: 48return ;

INSERT:
52:}

TO:
35

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

INSERT:
22:}

TO:
28

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

INSERT:
29:if(foldedSize<originalSize){
if(arrayNode.getChildCount()==1){
return ;
}
int kJoinOverhead="[].join()".length();
foldedSize+=kJoinOverhead;
foldedSize+=InlineCostEstimator.getCost(right);
if(foldedSize<originalSize){
arrayNode.detachChildren();
Node foldedStringNode=Node.newString("");
for(Node elem : arrayNode.children()){
foldedStringNode=new Node(Token.ADD,foldedStringNode,elem);
if(elem.getType()!=Token.STRING){
foldedStringNode=new Node(Token.ADD,foldedStringNode,Node.newString(""));
}
foldedStringNode=new Node(Token.ADD,foldedStringNode,Node.newString(joinString));
}
foldedStringNode=foldedStringNode.getFirstChild();
foldedStringNode.setString("");
parent.replaceChild(n,foldedStringNode);
t.getCompiler().reportCodeChange();
}
}
TO:
39

UPDATE
FROM:
35:foldedSize+=sb.length()+2;
TO:
34:foldedSize+=kJoinOverhead;

DELETE:
Original line: 36arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 38foldedSize+=arrayFoldedChildren.size()-1;

DELETE:
Original line: 41case 0 :

DELETE:
Original line: 43parent.replaceChild(n,emptyStringNode);

DELETE:
Original line: 46Node foldedStringNode=arrayFoldedChildren.remove(0);

DELETE:
Original line: 50arrayNode.detachChildren();

INSERT:
52:}

TO:
35

DELETE:
Original line: 55parent.replaceChild(n,foldedStringNode);

DELETE:
Original line: 56break;

DELETE:
Original line: 57default :

DELETE:
Original line: 58if(arrayFoldedChildren.size()==arrayNode.getChildCount()){
return ;
}

DELETE:
Original line: 62foldedSize+=kJoinOverhead;

DELETE:
Original line: 63foldedSize+=InlineCostEstimator.getCost(right);

DELETE:
Original line: 65return ;

DELETE:
Original line: 67arrayNode.detachChildren();

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Tested:878 patches
Compile failed:874 patches
Compilation rate:0.004555808656036446
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/4.java
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 36arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 50arrayNode.detachChildren();

DELETE:
Original line: 62foldedSize+=kJoinOverhead;

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 26arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 27sb=new StringBuilder();

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

DELETE:
Original line: 50arrayNode.detachChildren();

DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

Following are 2th generated patches:
Validating 128 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

DELETE:
Original line: 25foldedSize+=sb.length()+2;

DELETE:
Original line: 26arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 27sb=new StringBuilder();

DELETE:
Original line: 30arrayFoldedChildren.add(elem);

DELETE:
Original line: 36arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 38foldedSize+=arrayFoldedChildren.size()-1;

INSERT:
46:foldedSize+="[].join()".length();
TO:
60

DELETE:
Original line: 50arrayNode.detachChildren();

DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

Following are 3th generated patches:
Validating 132 patches...
Current actions:
INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 30arrayFoldedChildren.add(elem);

Following are 4th generated patches:
Validating 123 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 25foldedSize+=sb.length()+2;

INSERT:
46:foldedSize+="[].join()".length();
TO:
60

Tested:1442 patches
Compile failed:1288 patches
Compilation rate:0.10679611650485436
NNPPPPPPPPPPPPNPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPNPPPPPPPPNPPPPPPPPNPPNPPPPPNPPPNNPPNPPPPPNPNPNNPNNPNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/5.java
Current actions:
INSERT:
12:if(joinString.indexOf('\n')!=-1){
return ;
}
TO:
11

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
12:if(joinString.indexOf('\n')!=-1){
return ;
}
TO:
11

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
13:return ;
TO:
11

Following are 2th generated patches:
Validating 1 patches...
Tested:1645 patches
Compile failed:1472 patches
Compilation rate:0.10516717325227963
NPNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNPNNNNPNNPPNPNNPNNNNNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNPPNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/6.java
Current actions:
Move
FROM:
Former Line 73:t.getCompiler().reportCodeChange();
TO:
Current Line 40:SwitchStatement

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
44:t.getCompiler().reportCodeChange();
TO:
43

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
44:t.getCompiler().reportCodeChange();
TO:
43

INSERT:
57:t.getCompiler().reportCodeChange();
TO:
55

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 2th generated patches:
Validating 140 patches...
Current actions:
DELETE:
Original line: 44break;

INSERT:
44:t.getCompiler().reportCodeChange();
TO:
43

INSERT:
45:break;
TO:
43

INSERT:
57:t.getCompiler().reportCodeChange();
TO:
55

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

INSERT:
73:t.getCompiler().reportCodeChange();
TO:
70

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
57:t.getCompiler().reportCodeChange();
TO:
55

INSERT:
73:t.getCompiler().reportCodeChange();
TO:
70

Following are 4th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 44break;

INSERT:
44:t.getCompiler().reportCodeChange();
TO:
43

INSERT:
45:break;
TO:
43

INSERT:
57:t.getCompiler().reportCodeChange();
TO:
55

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Tested:2185 patches
Compile failed:2004 patches
Compilation rate:0.082837528604119
PPPPPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/7.java
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

Following are 0th generated patches:
Validating 21 patches...
Current actions:
INSERT:
67:Node replacement=new Node(Token.ADD,Node.newString("["),arrayNode,Node.newString("].join("),Node.newString(joinString),Node.newString(")"));
TO:
66

DELETE:
Original line: 67arrayNode.detachChildren();

DELETE:
Original line: 68for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 68for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
67:Node replacement=new Node(Token.ADD,Node.newString("["),arrayNode,Node.newString("].join("),Node.newString(joinString),Node.newString(")"));
TO:
66

DELETE:
Original line: 67arrayNode.detachChildren();

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

DELETE:
Original line: 68for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}

Following are 4th generated patches:
Validating 2 patches...
Current actions:
INSERT:
67:Node replacement=new Node(Token.ADD,Node.newString("["),arrayNode,Node.newString("].join("),Node.newString(joinString),Node.newString(")"));
TO:
66

DELETE:
Original line: 69arrayNode.addChildToBack(node);

Tested:2210 patches
Compile failed:2022 patches
Compilation rate:0.08506787330316742
NNNNNNNNNNNNNNNNPPPPPNPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/8.java
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
24:if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}
TO:
20:if(foldedSize>0){
foldedSize+=joinString.length()+2;
arrayFoldedChildren.add(Node.newString(joinString));
foldedSize+=elem.getString().length();
}

Following are 1th generated patches:
Validating 3 patches...
Current actions:
UPDATE
FROM:
34:if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}
TO:
32:if(foldedSize>0){
foldedSize+=joinString.length()+2;
arrayFoldedChildren.add(Node.newString(joinString));
}

Following are 2th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

DELETE:
Original line: 19sb.append(joinString);

UPDATE
FROM:
24:if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}
TO:
20:if(foldedSize>0){
foldedSize+=joinString.length()+2;
arrayFoldedChildren.add(Node.newString(joinString));
foldedSize+=elem.getString().length();
}

UPDATE
FROM:
25:foldedSize+=sb.length()+2;
TO:
21:foldedSize+=joinString.length()+2;

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

UPDATE
FROM:
26:arrayFoldedChildren.add(Node.newString(sb.toString()));
TO:
22:arrayFoldedChildren.add(Node.newString(joinString));

INSERT:
26:foldedSize+=elem.getString().length();
TO:
26

DELETE:
Original line: 27sb=new StringBuilder();

UPDATE
FROM:
34:if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}
TO:
32:if(foldedSize>0){
foldedSize+=joinString.length()+2;
arrayFoldedChildren.add(Node.newString(joinString));
}

UPDATE
FROM:
36:arrayFoldedChildren.add(Node.newString(sb.toString()));
TO:
34:arrayFoldedChildren.add(Node.newString(joinString));

Following are 3th generated patches:
Validating 200 patches...
Tested:2594 patches
Compile failed:2295 patches
Compilation rate:0.11526599845797995
NNPPPPPPPPNPPPPPPPPPNNPNPNPNNPPPPPPPPPPPPPPPPPNPNPPNNNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPPPPPPPPPPNPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPNNPPPPPPPNPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/9.java
Current actions:
INSERT:
18:if(elemString!=null&&elemString.length()>0){
if(joinString.length()>0){
foldedSize+=elemString.length()*joinString.length();
}
else{
foldedSize+=elemString.length();
}
foldedSize+=2;
}
TO:
17

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
19:if(joinString.length()>0){
foldedSize+=elemString.length()*joinString.length();
}
TO:
17

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:String elemString=NodeUtil.getStringValue(elem);
TO:
17

INSERT:
18:if(elemString!=null&&elemString.length()>0){
if(joinString.length()>0){
foldedSize+=elemString.length()*joinString.length();
}
else{
foldedSize+=elemString.length();
}
foldedSize+=2;
}
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

DELETE:
Original line: 38foldedSize+=arrayFoldedChildren.size()-1;

INSERT:
56:foldedSize+=2;
TO:
60

DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

DELETE:
Original line: 62foldedSize+=kJoinOverhead;

Following are 3th generated patches:
Validating 200 patches...
Tested:3193 patches
Compile failed:2790 patches
Compilation rate:0.1262135922330097
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNPPPNPNNNNNPNNNNNNNNPPPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNPNNNPNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNPPPPPNPPPPPPPPNPNPNNPNPNPPNPNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNPNPNPPPPPPNPNPNPPPPPPPPPPPNPPPPPPNNNPNNPPPPPPPPPNPPPPNNPPPPPNNNPNPPPPPPPNNNPPNPNNNNNNPNPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/10.java
Current actions:
INSERT:
14:if(NodeUtil.isImmutableValue(child)){
stringNodes.add(child);
}
TO:
12

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:if(stringNodes.isEmpty()){
Node emptyStringNode=Node.newString("");
parent.replaceChild(n,emptyStringNode);
t.getCompiler().reportCodeChange();
return ;
}
TO:
33

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 19sb.append(joinString);

INSERT:
26:if(i<0){
sb.append(joinString);
}
TO:
42

INSERT:
35:}

TO:
42

Following are 3th generated patches:
Validating 12 patches...
Current actions:
UPDATE
FROM:
12:List<Node> arrayFoldedChildren=Lists.newLinkedList();
TO:
12:List<Node> stringNodes=Lists.newLinkedList();

INSERT:
13:for(Node child : arrayNode.children()){
if(NodeUtil.isImmutableValue(child)){
stringNodes.add(child);
}
}
TO:
12

DELETE:
Original line: 14int foldedSize=0;

DELETE:
Original line: 15Node elem=arrayNode.getFirstChild();

DELETE:
Original line: 16while(elem!=null){
if(NodeUtil.isImmutableValue(elem)){
if(sb.length()>0){
sb.append(joinString);
}
sb.append(NodeUtil.getStringValue(elem));
}
else{
if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}
foldedSize+=InlineCostEstimator.getCost(elem);
arrayFoldedChildren.add(elem);
}
elem=elem.getNext();
}

INSERT:
18:if(stringNodes.isEmpty()){
Node emptyStringNode=Node.newString("");
parent.replaceChild(n,emptyStringNode);
t.getCompiler().reportCodeChange();
return ;
}
TO:
33

INSERT:
26:if(i>0){
sb.append(joinString);
}
TO:
42

INSERT:
29:sb.append(NodeUtil.getStringValue(stringNodes.get(i)));
TO:
42

INSERT:
31:Node foldedStringNode=Node.newString(sb.toString());
TO:
42

INSERT:
33:parent.replaceChild(n,foldedStringNode);
TO:
42

INSERT:
34:t.getCompiler().reportCodeChange();
TO:
42

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

INSERT:
35:}

TO:
42

DELETE:
Original line: 38foldedSize+=arrayFoldedChildren.size()-1;

DELETE:
Original line: 40switch (arrayFoldedChildren.size()){
case 0 :
Node emptyStringNode=Node.newString("");
parent.replaceChild(n,emptyStringNode);
break;
case 1 :
Node foldedStringNode=arrayFoldedChildren.remove(0);
if(foldedSize>originalSize){
return ;
}
arrayNode.detachChildren();
if(foldedStringNode.getType()!=Token.STRING){
Node replacement=new Node(Token.ADD,Node.newString(""),foldedStringNode);
foldedStringNode=replacement;
}
parent.replaceChild(n,foldedStringNode);
break;
default :
if(arrayFoldedChildren.size()==arrayNode.getChildCount()){
return ;
}
int kJoinOverhead="[].join()".length();
foldedSize+=kJoinOverhead;
foldedSize+=InlineCostEstimator.getCost(right);
if(foldedSize>originalSize){
return ;
}
arrayNode.detachChildren();
for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}
break;
}

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 4th generated patches:
Validating 200 patches...
Tested:3800 patches
Compile failed:3387 patches
Compilation rate:0.10868421052631579
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNNNNNNPNPNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/11.java
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

DELETE:
Original line: 26arrayFoldedChildren.add(Node.newString(sb.toString()));

Following are 1th generated patches:
Validating 3 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

DELETE:
Original line: 19sb.append(joinString);

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

INSERT:
27:foldedSize+=(joinString.length()*(arrayFoldedChildren.size()-1));
TO:
38

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

INSERT:
50:foldedSize+="[''].join".length();
TO:
60

INSERT:
59:arrayNode.addChildToBack(Node.newString(joinString));
TO:
70

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

INSERT:
18:arrayFoldedChildren.add(Node.newString(elem.getString()));
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 25foldedSize+=sb.length()+2;

DELETE:
Original line: 27sb=new StringBuilder();

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

INSERT:
50:foldedSize+="[''].join".length();
TO:
60

INSERT:
59:arrayNode.addChildToBack(Node.newString(joinString));
TO:
70

Following are 3th generated patches:
Validating 121 patches...
Tested:4319 patches
Compile failed:3773 patches
Compilation rate:0.12641815235008103
NNPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPNPNPPPPPPPPPNPNPPPPPPPPNNPPNPPPPNPPNPNNNNPNNNNNNNPPPNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPNPPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/12.java
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

Following are 0th generated patches:
Validating 21 patches...
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

INSERT:
68:parent.replaceChild(n,replacement);
TO:
66

DELETE:
Original line: 68for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 69arrayNode.addChildToBack(node);

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

INSERT:
67:Node replacement=new Node(Token.COMMA,arrayFoldedChildren);
TO:
66

DELETE:
Original line: 69arrayNode.addChildToBack(node);

Following are 3th generated patches:
Validating 200 patches...
Tested:4739 patches
Compile failed:4187 patches
Compilation rate:0.11648027009917704
NNNNNNNNNNNNNNNNPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/13.java
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

Following are 0th generated patches:
Validating 36 patches...
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

INSERT:
67:Node joinedArrayNode=Node.newArray(arrayFoldedChildren);
TO:
66

DELETE:
Original line: 68for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}

INSERT:
68:joinedArrayNode.putBooleanProp(Node.FREE_CALL,true);
TO:
66

INSERT:
69:parent.replaceChild(arrayNode,joinedArrayNode);
TO:
66

Following are 1th generated patches:
Validating 200 patches...
Tested:4974 patches
Compile failed:4417 patches
Compilation rate:0.11198230800160837
NNNNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/14.java
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 25foldedSize+=sb.length()+2;

Following are 1th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

Following are 2th generated patches:
Validating 126 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

INSERT:
18:arrayFoldedChildren.add(elem);
TO:
17

DELETE:
Original line: 19sb.append(joinString);

DELETE:
Original line: 27sb=new StringBuilder();

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

INSERT:
17:foldedSize+=elem.getString().length();
TO:
17

INSERT:
18:arrayFoldedChildren.add(elem);
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

Following are 4th generated patches:
Validating 200 patches...
Tested:5692 patches
Compile failed:4970 patches
Compilation rate:0.12684469430780043
NNNNNNNNNNNNNNNNPPNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNPPPPPPPPNPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPNNNNPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNPNNPNPPPPNNNNNNNNNPPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPPPPPPPPPNPNNNNNNNNNNNNNNNNPNNPPPPPPPPPNNNNNPPNPPPPNNNPNNNNNPNPNNNNNNNNNNNNNPPNNNNNPNNNNNPPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/15.java
Tested:5692 patches
Compile failed:4970 patches
Compilation rate:0.12684469430780043

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/16.java
Current actions:
INSERT:
17:if(foldedStringNode==null){
foldedStringNode=Node.newString(NodeUtil.getStringValue(elem));
}
TO:
17

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
24:}

TO:
28

INSERT:
31:if(foldedStringNode!=null){
parent.replaceChild(n,foldedStringNode);
}
TO:
33

INSERT:
37:}

TO:
37

DELETE:
Original line: 55parent.replaceChild(n,foldedStringNode);

Following are 2th generated patches:
Validating 56 patches...
Current actions:
INSERT:
24:}

TO:
28

INSERT:
34:if(numFoldedChildren<1){
t.getCompiler().reportCodeChange();
}
TO:
33

INSERT:
37:}

TO:
37

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 3th generated patches:
Validating 12 patches...
Current actions:
INSERT:
18:foldedStringNode=Node.newString(NodeUtil.getStringValue(elem));
TO:
17

DELETE:
Original line: 18if(sb.length()>0){
sb.append(joinString);
}

INSERT:
21:foldedStringNode=new Node(Token.ADD,foldedStringNode,Node.newString(joinString));
TO:
23

DELETE:
Original line: 24if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}

INSERT:
24:}

TO:
28

INSERT:
25:else{
numFoldedChildren++;
foldedStringNode=null;
}
TO:
28

DELETE:
Original line: 34if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
}

INSERT:
37:}

TO:
37

DELETE:
Original line: 56break;

DELETE:
Original line: 58if(arrayFoldedChildren.size()==arrayNode.getChildCount()){
return ;
}

DELETE:
Original line: 64if(foldedSize>originalSize){
return ;
}

Following are 4th generated patches:
Validating 200 patches...
Tested:6160 patches
Compile failed:5438 patches
Compilation rate:0.1172077922077922
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/17.java
Tested:6160 patches
Compile failed:5438 patches
Compilation rate:0.1172077922077922

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/18.java
Tested:6160 patches
Compile failed:5438 patches
Compilation rate:0.1172077922077922

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/19.java
Tested:6160 patches
Compile failed:5438 patches
Compilation rate:0.1172077922077922

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/20.java
Current actions:
DELETE:
Original line: 67arrayNode.detachChildren();

Following are 0th generated patches:
Validating 129 patches...
Current actions:
INSERT:
67:Node array=Node.newString("[");
TO:
66

DELETE:
Original line: 67arrayNode.detachChildren();

INSERT:
68:Node string=Node.newString("");
TO:
66

INSERT:
72:string=Node.newString(joinString);
TO:
69

INSERT:
75:array.addChildToBack(Node.newString("]"));
TO:
70

INSERT:
76:parent.replaceChild(n,array);
TO:
70

Following are 1th generated patches:
Validating 200 patches...
Tested:6489 patches
Compile failed:5609 patches
Compilation rate:0.13561411619664046
NNNNNNNNNNNNNNPPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNPPNNPNNNNNPNNNNNNNNNNNNNNNNPNNPNPPNNNPNNNNNNNNNNNNNNNNNNNPPPPPPNNNNNNNNNNNPPPPNNNPPPPPPPPPNNNPNPPPPPPNPNNPNPNPPPPPPNPNPNPNPPPPPNPPPNNNNPPPPPNPPPNPNNPPPPPPNPPNPNPPPNNPPPNNPPNPPNPPPNPPPNPNPPPPNPNPPNPPNNPPNPPNPPNPPPNPPPPNPPNPPNNPPPPPNNPPNPNPNPPNPPPPNPPPNPNPNPPPPNPPPNNPNPNPPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_105/21.java
Current actions:
INSERT:
13:if(foldedNode==null){
return ;
}
TO:
11

INSERT:
23:}

TO:
39

DELETE:
Original line: 48return ;

Following are 1th generated patches:
Validating 56 patches...
Current actions:
DELETE:
Original line: 12List<Node> arrayFoldedChildren=Lists.newLinkedList();

INSERT:
12:Node foldedNode=foldStringJoin(arrayNode,joinString);
TO:
11

INSERT:
13:if(foldedNode==null){
return ;
}
TO:
11

DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

DELETE:
Original line: 15Node elem=arrayNode.getFirstChild();

INSERT:
18:if(foldedSize>originalSize){
return ;
}
TO:
39

DELETE:
Original line: 19sb.append(joinString);

DELETE:
Original line: 21sb.append(NodeUtil.getStringValue(elem));

INSERT:
21:parent.replaceChild(n,foldedNode);
TO:
39

INSERT:
22:t.getCompiler().reportCodeChange();
TO:
39

DELETE:
Original line: 23else{
if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}
foldedSize+=InlineCostEstimator.getCost(elem);
arrayFoldedChildren.add(elem);
}

INSERT:
23:}

TO:
39

DELETE:
Original line: 32elem=elem.getNext();

DELETE:
Original line: 35foldedSize+=sb.length()+2;

DELETE:
Original line: 36arrayFoldedChildren.add(Node.newString(sb.toString()));

DELETE:
Original line: 40switch (arrayFoldedChildren.size()){
case 0 :
Node emptyStringNode=Node.newString("");
parent.replaceChild(n,emptyStringNode);
break;
case 1 :
Node foldedStringNode=arrayFoldedChildren.remove(0);
if(foldedSize>originalSize){
return ;
}
arrayNode.detachChildren();
if(foldedStringNode.getType()!=Token.STRING){
Node replacement=new Node(Token.ADD,Node.newString(""),foldedStringNode);
foldedStringNode=replacement;
}
parent.replaceChild(n,foldedStringNode);
break;
default :
if(arrayFoldedChildren.size()==arrayNode.getChildCount()){
return ;
}
int kJoinOverhead="[].join()".length();
foldedSize+=kJoinOverhead;
foldedSize+=InlineCostEstimator.getCost(right);
if(foldedSize>originalSize){
return ;
}
arrayNode.detachChildren();
for(Node node : arrayFoldedChildren){
arrayNode.addChildToBack(node);
}
break;
}

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 13StringBuilder sb=new StringBuilder();

DELETE:
Original line: 15Node elem=arrayNode.getFirstChild();

DELETE:
Original line: 23else{
if(sb.length()>0){
foldedSize+=sb.length()+2;
arrayFoldedChildren.add(Node.newString(sb.toString()));
sb=new StringBuilder();
}
foldedSize+=InlineCostEstimator.getCost(elem);
arrayFoldedChildren.add(elem);
}

INSERT:
23:}

TO:
39

DELETE:
Original line: 35foldedSize+=sb.length()+2;

DELETE:
Original line: 46Node foldedStringNode=arrayFoldedChildren.remove(0);

DELETE:
Original line: 56break;

DELETE:
Original line: 65return ;

Following are 3th generated patches:
Validating 7 patches...
Current actions:
DELETE:
Original line: 15Node elem=arrayNode.getFirstChild();

INSERT:
21:parent.replaceChild(n,foldedNode);
TO:
39

INSERT:
22:t.getCompiler().reportCodeChange();
TO:
39

INSERT:
23:}

TO:
39

DELETE:
Original line: 57default :

DELETE:
Original line: 61int kJoinOverhead="[].join()".length();

DELETE:
Original line: 73t.getCompiler().reportCodeChange();

Following are 4th generated patches:
Validating 200 patches...
Tested:6937 patches
Compile failed:6057 patches
Compilation rate:0.12685598962087358
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : closure-105 > patch : 0 | Start : Mon Apr 08 10:11:48 HKT 2024 | End : 2024.04.08 AD at 10:26:18 HKT
