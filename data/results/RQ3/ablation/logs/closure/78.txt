Repair : closure_78
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/0.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/0.java
Current actions:
DELETE:
Original line: 6double result;

INSERT:
18:return Node.newNumber(ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval));
TO:
18

DELETE:
Original line: 20break;

INSERT:
22:return Node.newNumber(ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval));
TO:
24

DELETE:
Original line: 23break;

INSERT:
24:return Node.newNumber(lval+rval);
TO:
27

INSERT:
26:return Node.newNumber(lval-rval);
TO:
30

INSERT:
28:return Node.newNumber(lval*rval);
TO:
33

DELETE:
Original line: 29break;

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 42break;

DELETE:
Original line: 49break;

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 61return Node.newString(Token.NAME,"Infinity");

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

DELETE:
Original line: 66return null;

Following are 1th generated patches:
Validating 200 patches...
Tested:199 patches
Compile failed:199 patches
Compilation rate:0.0
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/1.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/1.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
else{
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
}
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
54:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

INSERT:
54:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
else{
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
}
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 200 patches...
Tested:1003 patches
Compile failed:236 patches
Compilation rate:0.7647058823529411
NPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPNNPPNNNPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPNPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPNPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/2.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/2.java
Current actions:
UPDATE
FROM:
15:double lval=lValObj;
TO:
6:double lval=0;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
10:if(lvalNode!=null){
lval=NodeUtil.getDoubleValue(lvalNode);
}
TO:
11

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
13:if(rvalNode!=null){
rval=NodeUtil.getDoubleValue(rvalNode);
}
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
15:double lval=lValObj;
TO:
6:double lval=0;

DELETE:
Original line: 6double result;

UPDATE
FROM:
16:double rval=rValObj;
TO:
7:double rval=0;

UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
8:Node lvalNode=NodeUtil.getRValueOfLValue(left);

DELETE:
Original line: 8if(lValObj==null){
return null;
}

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
9:Node rvalNode=NodeUtil.getRValueOfLValue(right);

INSERT:
10:if(lvalNode!=null){
lval=NodeUtil.getDoubleValue(lvalNode);
}
TO:
11

DELETE:
Original line: 12if(rValObj==null){
return null;
}

INSERT:
13:if(rvalNode!=null){
rval=NodeUtil.getDoubleValue(rvalNode);
}
TO:
10

INSERT:
16:if((opType==Token.ADD||opType==Token.SUB)&&(NodeUtil.mayBeString(lvalNode,false)||NodeUtil.mayBeString(rvalNode,false))){
JSType type=NodeUtil.getBestJSDestructuringType(lvalNode,rvalNode,true);
if(type!=null&&(type.isString()||type.isUnknown())){
return Node.newString(opType==Token.ADD?Token.ADD:Token.SUB,NodeUtil.getStringValue(lvalNode)+NodeUtil.getStringValue(rvalNode));
}
}
TO:
14

INSERT:
22:double result;
TO:
14

Tested:1583 patches
Compile failed:788 patches
Compilation rate:0.5022109917877448
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNPPPNNNNPNNNNNPNNNNNPNNNNNPNNNNNNNNNPNNPNNNNPNNNPNPNNPPNNNNNNNNPNPNNNNPNPPNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/3.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/3.java
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 1 patches...
Tested:1585 patches
Compile failed:788 patches
Compilation rate:0.5028391167192429
PP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/4.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/4.java
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

UPDATE
FROM:
16:double rval=rValObj;
TO:
8:double rval=0;

DELETE:
Original line: 8if(lValObj==null){
return null;
}

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
12:rval=NodeUtil.getDoubleValue(right);
TO:
18

DELETE:
Original line: 13return null;

UPDATE
FROM:
22:result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
TO:
13:result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
14:break;
TO:
22

INSERT:
16:lval=NodeUtil.getDoubleValue(left);
TO:
21

UPDATE
FROM:
19:result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
TO:
18:result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 20break;

INSERT:
21:lval=NodeUtil.getDoubleValue(left);
TO:
24

INSERT:
26:lval=NodeUtil.getDoubleValue(left);
TO:
27

INSERT:
27:rval=NodeUtil.getDoubleValue(right);
TO:
27

INSERT:
31:lval=NodeUtil.getDoubleValue(left);
TO:
30

INSERT:
32:rval=NodeUtil.getDoubleValue(right);
TO:
30

INSERT:
36:lval=NodeUtil.getDoubleValue(left);
TO:
33

INSERT:
41:lval=NodeUtil.getDoubleValue(left);
TO:
36

INSERT:
42:rval=NodeUtil.getDoubleValue(right);
TO:
36

INSERT:
50:lval=NodeUtil.getDoubleValue(left);
TO:
43

INSERT:
51:rval=NodeUtil.getDoubleValue(right);
TO:
43

Following are 1th generated patches:
Validating 200 patches...
Tested:1781 patches
Compile failed:984 patches
Compilation rate:0.4475014037057833
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/5.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/5.java
Current actions:
INSERT:
55:if(NodeUtil.mayBeString(newNumber,false)){
return null;
}
TO:
54

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
55:if(NodeUtil.mayBeString(newNumber,false)){
return null;
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:return null;
TO:
54

Following are 2th generated patches:
Validating 1 patches...
Tested:1984 patches
Compile failed:988 patches
Compilation rate:0.5020161290322581
NPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/6.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/6.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 4return null;

INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6double result;

DELETE:
Original line: 20break;

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 26break;

INSERT:
28:return Node.newNumber(lval-rval);
TO:
30

DELETE:
Original line: 32break;

INSERT:
36:return Node.newNumber(lval%rval);
TO:
40

INSERT:
42:return Node.newNumber(lval/rval);
TO:
47

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Tested:2579 patches
Compile failed:1195 patches
Compilation rate:0.5366421093447072
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/7.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/7.java
Current actions:
INSERT:
8:if(NodeUtil.isUnknown(lVal)||NodeUtil.isUnknown(rVal)){
return null;
}
TO:
11

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(opType==Token.ADD&&NodeUtil.isNumber(lVal)){
Node rValue=rVal.isNumber()?rVal:NodeUtil.getStringValue(rVal);
return Node.newString(Token.NAME,NodeUtil.getStringValue(lVal)+rValue);
}
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
7:Node rVal=NodeUtil.getNumberValue(right,true);

INSERT:
15:if(opType==Token.ADD&&NodeUtil.isNumber(rVal)){
Node lValue=lVal.isNumber()?lVal:NodeUtil.getStringValue(lVal);
return Node.newString(Token.NAME,lValue+NodeUtil.getStringValue(rVal));
}
TO:
14

DELETE:
Original line: 15double lval=lValObj;

Tested:2979 patches
Compile failed:1501 patches
Compilation rate:0.49613964417589795
NNNNNNNNNNPPPPNPPPNPNNNNNPPNNNPPNNPNNPPPPNNPNNNPPNPPPNPNPNNPPNNPPNNNPPPNNNPPNNNNPPPNNPNPPPNPNNPPPNNPPNNPPNPNNPNPNPNNPNPNNPNNPPNPNPNNPPPNNNNPPNNNNPPPNNNNNPNNPNNPPNPPNNPNNPPPNNPNNNPPPNNNPNNPPNPPNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/8.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/8.java
Tested:2979 patches
Compile failed:1501 patches
Compilation rate:0.49613964417589795

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/9.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/9.java
Current actions:
DELETE:
Original line: 6double result;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52:if(String.valueOf(lval).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(lval)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(lval);
return newNumber;
}

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
56:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
18:lval=lval&rval;
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

UPDATE
FROM:
63:else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
62:else{
if(lval==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}

Following are 4th generated patches:
Validating 48 patches...
Current actions:
DELETE:
Original line: 6double result;

INSERT:
24:lval=lval^rval;
TO:
24

UPDATE
FROM:
34:result=lval*rval;
TO:
33:lval=lval*rval;

UPDATE
FROM:
41:result=lval%rval;
TO:
40:lval=lval%rval;

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52:if(String.valueOf(lval).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(lval)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(lval);
return newNumber;
}

Tested:3606 patches
Compile failed:2108 patches
Compilation rate:0.4154187465335552
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNPPPPPPNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNPNNNNNNNNPNNNNNNNPNNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/10.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/10.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 1 patches...
Tested:4010 patches
Compile failed:2122 patches
Compilation rate:0.47082294264339153
NPPNPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/11.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/11.java
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 0th generated patches:
Validating 112 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

DELETE:
Original line: 60if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

INSERT:
57:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Double.isInfinite(result)){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

INSERT:
57:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56

Following are 4th generated patches:
Validating 200 patches...
Tested:4685 patches
Compile failed:2379 patches
Compilation rate:0.4922091782283885
NNNNNNNNNNNNPPPPNNPNNPPPPPNNNNNNNNNNNNNNPNPPPPNPNNNNNNPNPNNPPNPPPNNNNNNPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPPPNPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/12.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/12.java
Current actions:
INSERT:
48:if(Double.isInfinite(rval)){
error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
return null;
}
TO:
47

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
48:if(Double.isInfinite(rval)){
error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
return null;
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
50:return null;
TO:
47

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
49:error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
TO:
47

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:error(DiagnosticType.error("JSC_DIVIDE_BY_INFINITY_ERROR","Divide by Infinity"),right);
TO:
47

INSERT:
50:return null;
TO:
47

Following are 4th generated patches:
Validating 200 patches...
Tested:5290 patches
Compile failed:2745 patches
Compilation rate:0.4810964083175803
NNPPNNNNNNPPPPPPNPNNNPNPPNNPPPPPPPNPPPPPPPPPNNPPNNNNNPNPPPPPPNPPPPNPPPPPPPPPPPNNPPPPNNNPPPNPNNPPPPPNPPNPPPPPNPPNNPPPPPPPNPPPPPPPPNNPPNNPNNPNPNPPPPPNPPPPNPNPPPPPPPPPPNNNPPNPNPNNNPNPPPPPPPNPNPPPPPPPPPPPPPPPNNNNNNNPPPPPPPNPPPNNPPPPPPPNNPNPPPPPPPPPNNNNPNNNNNPNNNNNNNNNPNNPNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNPNNNNNNNNNNPNNNNNNNPPPPPPPPNNNPPNPNPPPPPNPPPNPNNNPPPPNPNPPPPPPNPPNPPNPPNPNPPPPPPPNPNPPNNPPPNPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/13.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/13.java
Current actions:
DELETE:
Original line: 6double result;

INSERT:
14:double lval=lValObj.doubleValue();
TO:
14

INSERT:
15:double rval=rValObj.doubleValue();
TO:
14

DELETE:
Original line: 16double rval=rValObj;

INSERT:
18:return Node.newNumber(ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval));
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
20:return Node.newNumber(ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval));
TO:
21

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

INSERT:
22:return Node.newNumber(ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval));
TO:
24

INSERT:
24:return Node.newNumber(lval+rval);
TO:
27

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 26break;

DELETE:
Original line: 28result=lval+rval;

INSERT:
28:return Node.newNumber(lval*rval);
TO:
33

DELETE:
Original line: 31result=lval-rval;

INSERT:
34:return Node.newNumber(lval%rval);
TO:
40

DELETE:
Original line: 35break;

INSERT:
40:return Node.newNumber(lval/rval);
TO:
47

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 42break;

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 49break;

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 1th generated patches:
Validating 200 patches...
Tested:5486 patches
Compile failed:2941 patches
Compilation rate:0.46390812978490703
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/14.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/14.java
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
9:if(!NodeUtil.isNumber(left)||!NodeUtil.isNumber(right)){
return null;
}
TO:
6

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(NodeUtil.isLiteralValue(left,false)&&NodeUtil.isLiteralValue(right,false)){
lval=NodeUtil.getDoubleValue(left);
rval=NodeUtil.getDoubleValue(right);
}
TO:
10

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

INSERT:
7:double lval;
TO:
6

DELETE:
Original line: 8if(lValObj==null){
return null;
}

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
12:if(NodeUtil.isLiteralValue(left,false)&&NodeUtil.isLiteralValue(right,false)){
lval=NodeUtil.getDoubleValue(left);
rval=NodeUtil.getDoubleValue(right);
}
TO:
10

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

INSERT:
16:else{
return null;
}
TO:
10

DELETE:
Original line: 16double rval=rValObj;

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

INSERT:
7:double lval;
TO:
6

DELETE:
Original line: 8if(lValObj==null){
return null;
}

INSERT:
8:double rval;
TO:
6

INSERT:
9:if(!NodeUtil.isNumber(left)||!NodeUtil.isNumber(right)){
return null;
}
TO:
6

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
12:if(NodeUtil.isLiteralValue(left,false)&&NodeUtil.isLiteralValue(right,false)){
lval=NodeUtil.getDoubleValue(left);
rval=NodeUtil.getDoubleValue(right);
}
TO:
10

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

INSERT:
16:else{
return null;
}
TO:
10

DELETE:
Original line: 16double rval=rValObj;

Following are 4th generated patches:
Validating 200 patches...
Tested:6478 patches
Compile failed:3842 patches
Compilation rate:0.4069157147267675
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPPPPNPPNPNNNNPNNPNPPNNPPNPNPNNNPNNPNNPPNPPNPNNPNPPNNNPPNNPPNNNPPPNPNNPPNNPPPPNNPNNPPNPNPNPNPNNPNNPNNPPNNPPNPNNPNNPPNNPNPNNPPNPNNNPPNNPPNPPNNNPNPNPPNNPNNPNNPPNPNNNPPPNNNNPPNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/15.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/15.java
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
53:if(result!=null&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
53:if(result!=null&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result;

Tested:6887 patches
Compile failed:4251 patches
Compilation rate:0.38275010890082767
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/16.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/16.java
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result=null;

Following are 0th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
53:if(result!=null&&String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 1th generated patches:
Validating 54 patches...
Current actions:
UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
57:if(result==null||Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
6:double result;
TO:
6:Double result=null;

INSERT:
19:result=(lval!=lval)||(rval!=rval)?null:(lval>=0&&rval>=0)?Math.floor(lval)&Math.floor(rval):Math.ceil(lval)&Math.ceil(rval);
TO:
18

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

INSERT:
25:result=(lval!=lval)||(rval!=rval)?null:(lval>=0&&rval>=0)?Math.floor(lval)^Math.floor(rval):Math.ceil(lval)^Math.ceil(rval);
TO:
24

INSERT:
28:result=(lval!=lval)||(rval!=rval)?null:lval+rval;
TO:
27

INSERT:
34:result=(lval!=lval)||(rval!=rval)?null:lval*rval;
TO:
33

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 48result=lval/rval;

UPDATE
FROM:
57:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
57:if(result==null||Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Tested:7341 patches
Compile failed:4666 patches
Compilation rate:0.3643917722381147
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNPNNPNNNNNPPNNPPNPNNNNPNNNNNNNNNNNPPPPNPNNNNNNNNNNNNNPPNNNNPNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPPPPPPPPPPNNNPPPPPNPPNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/17.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/17.java
Current actions:
INSERT:
28:if(lval==Double.POSITIVE_INFINITY||rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
31:if(lval==Double.NEGATIVE_INFINITY||rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-Infinity");
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
29:return Node.newString(Token.NAME,"Infinity");
TO:
27

INSERT:
32:return Node.newString(Token.NAME,"-Infinity");
TO:
27

INSERT:
40:if(lval==Double.POSITIVE_INFINITY&&rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"NaN");
}
TO:
30

INSERT:
61:if(lval==Double.POSITIVE_INFINITY||rval==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
TO:
33

Tested:7741 patches
Compile failed:5062 patches
Compilation rate:0.34607931791758173
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/18.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/18.java
Current actions:
INSERT:
28:if(rval!=Double.NaN&&lval!=Double.NaN){
result=lval+rval;
}
TO:
27

Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
28:if(rval!=Double.NaN&&lval!=Double.NaN){
result=lval+rval;
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Tested:7942 patches
Compile failed:5208 patches
Compilation rate:0.3442457819189121
PNNNNPPPNPPPPPPNNNNNNNNNNNNNNNNNNNNNNPNNNNNNPNPPPPPPNNNNNPNPPNPNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPNNNNPNNNPPPNNNNNPNNPNNNNNNNNNNPNNNNNNNNNNPNNPPPPNNNNPNPNPNNPNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/19.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/19.java
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

Following are 0th generated patches:
Validating 5 patches...
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

Following are 1th generated patches:
Validating 56 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
54:return null;
TO:
52

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
53:if(result<0||result>MAX_FOLD_NUMBER){
return null;
}
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 57 patches...
Current actions:
INSERT:
54:return null;
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Tested:8061 patches
Compile failed:5279 patches
Compilation rate:0.345118471653641
NNPPPNNNNNNNNNNNNNNPPPPPNNPPNPNPPNNNPPNNNNNPPNNNNPNNNPNPPPPPPPNNNNNNNNNNNNNNNPPPPPNNPNPPNPPNNNPPNNNPNNNNPNNNPNNPNPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/20.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/20.java
Current actions:
INSERT:
66:else{
if(opType==Token.DIV){
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
if(lval%rval!=0){
int res=(int)result;
result=res;
}
}
}
TO:
64

Following are 0th generated patches:
Validating 24 patches...
Current actions:
INSERT:
67:if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
TO:
64

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
71:if(lval%rval!=0){
int res=(int)result;
result=res;
}
TO:
64

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
67:if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
TO:
64

INSERT:
72:int res=(int)result;
TO:
64

INSERT:
73:result=res;
TO:
64

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
66:else{
if(opType==Token.DIV){
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
if(lval%rval!=0){
int res=(int)result;
result=res;
}
}
}
TO:
64

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
67:if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
TO:
64

INSERT:
71:if(lval%rval!=0){
int res=(int)result;
result=res;
}
TO:
64

Tested:8686 patches
Compile failed:5904 patches
Compilation rate:0.32028551692378543
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/21.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/21.java
Current actions:
INSERT:
55:if(lval==0&&opType==Token.DIV){
newNumber.setType(Token.GETELEM);
newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
}
TO:
54

Following are 0th generated patches:
Validating 4 patches...
Current actions:
INSERT:
55:if(lval==0&&opType==Token.DIV){
newNumber.setType(Token.GETELEM);
newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:newNumber.setType(Token.GETELEM);
TO:
54

INSERT:
57:newNumber.setFirstChild(Node.newString(Token.NAME,"NaN"));
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Tested:9090 patches
Compile failed:6307 patches
Compilation rate:0.30616061606160616
NNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/22.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/22.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,lval);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
12:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 8if(lValObj==null){
return null;
}

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
11:double rval=NodeUtil.getDoubleValue(right,rval);

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 3th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,lval);

INSERT:
8:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

DELETE:
Original line: 8if(lValObj==null){
return null;
}

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
11:double rval=NodeUtil.getDoubleValue(right,rval);

INSERT:
12:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 4th generated patches:
Validating 200 patches...
Tested:10089 patches
Compile failed:7298 patches
Compilation rate:0.2766379224898404
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/23.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/23.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
return Node.newNumber(result);
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
54:return Node.newNumber(result);
TO:
52

DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 55return newNumber;

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
53:if(Math.abs(result)<=MAX_FOLD_NUMBER){
return Node.newNumber(result);
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 200 patches...
Tested:10704 patches
Compile failed:7900 patches
Compilation rate:0.2619581464872945
NNNNNNNNPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/24.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/24.java
Current actions:
INSERT:
66:else{
if(opType==Token.DIV&&lval==0&&rval==-1){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
64

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
66:else{
if(opType==Token.DIV&&lval==0&&rval==-1){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
64

Following are 1th generated patches:
Validating 1 patches...
Current actions:
INSERT:
65:}

TO:
64

INSERT:
67:return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
64

Following are 2th generated patches:
Validating 200 patches...
Tested:10907 patches
Compile failed:8103 patches
Compilation rate:0.2570826074997708
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/25.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/25.java
Current actions:
INSERT:
28:if(lval==0&&rval!=0&&Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
31:if(rval==0&&lval!=0&&Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
28:if(lval==0&&rval!=0&&Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
27

INSERT:
45:if(lval==rval){
return Node.newNumber(0);
}
TO:
30

INSERT:
62:if(lval==0){
return Node.newNumber(0);
}
TO:
33

Tested:11307 patches
Compile failed:8499 patches
Compilation rate:0.24834173520827807
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/26.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/26.java
Current actions:
INSERT:
55:newNumber.useSourceInfoIfMissingFromForTree(left);
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:newNumber.useSourceInfoIfMissingFromForTree(left);
TO:
54

INSERT:
56:newNumber.useSourceInfoIfMissingFromForTree(right);
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Tested:11510 patches
Compile failed:8702 patches
Compilation rate:0.24396177237185057
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/27.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/27.java
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

Following are 0th generated patches:
Validating 67 patches...
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(!Double.isFinite(result)){
return null;
}
TO:
52

UPDATE
FROM:
53:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
56:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 4th generated patches:
Validating 200 patches...
Tested:12178 patches
Compile failed:9369 patches
Compilation rate:0.2306618492363278
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/28.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/28.java
Current actions:
INSERT:
55:if(NodeUtil.isNumber(newNumber)&&newNumber.getDouble()==0&&opType==Token.DIV){
if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
}
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:if(NodeUtil.isNumber(newNumber)&&newNumber.getDouble()==0&&opType==Token.DIV){
if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
56:if(lval==0&&rval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,"-0");
}
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
57:return Node.newString(Token.NAME,"-0");
TO:
54

Following are 3th generated patches:
Validating 200 patches...
Tested:12781 patches
Compile failed:9969 patches
Compilation rate:0.22001408340505438
NNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/29.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/29.java
Current actions:
Wrap:
MethodDeclaration
On:
[if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}, default :, throw new Error("Unexpected arithmetic operator");, return Node.newString(Token.NAME,"NaN");, return Node.newString(Token.NAME,"NaN");, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}]
Following are 0th generated patches:
Validating 9 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 1th generated patches:
Validating 2 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Following are 4th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 55return newNumber;

Tested:12790 patches
Compile failed:9974 patches
Compilation rate:0.22017200938232995
NNPPPNNNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/30.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/30.java
Current actions:
INSERT:
55:newNumber.srcref(left);
TO:
54

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
55:newNumber.srcref(left);
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
55:newNumber.srcref(left);
TO:
54

INSERT:
56:newNumber.srcref(right);
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Tested:13193 patches
Compile failed:10377 patches
Compilation rate:0.21344652467217465
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/31.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/31.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 40 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
return Node.newNumber(result);
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
return Node.newNumber(result);
}
TO:
52

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 3th generated patches:
Validating 2 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1){
return Node.newNumber(result);
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 200 patches...
Tested:13834 patches
Compile failed:10994 patches
Compilation rate:0.20529131126210784
NNNNNNNNNNNNPPPPPNNNPPNPPNNNNPNNPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/32.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/32.java
Current actions:
INSERT:
7:double lval;
TO:
6

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(NodeUtil.mayBeString(left,false)){
lValNode=Node.newString(Token.STRING,left.getString());
}
TO:
6

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
14:if(NodeUtil.mayBeString(right,false)){
rValNode=Node.newString(Token.STRING,right.getString());
}
TO:
6

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:double lval;
TO:
6

INSERT:
8:double rval;
TO:
6

INSERT:
9:Node lValNode=left;
TO:
6

INSERT:
10:Node rValNode=right;
TO:
6

INSERT:
12:lValNode=Node.newString(Token.STRING,left.getString());
TO:
6

INSERT:
14:if(NodeUtil.mayBeString(right,false)){
rValNode=Node.newString(Token.STRING,right.getString());
}
TO:
6

DELETE:
Original line: 16double rval=rValObj;

UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
17:Double lValObj=NodeUtil.getNumberValue(lValNode);

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
21:Double rValObj=NodeUtil.getNumberValue(rValNode);

INSERT:
25:lval=lValObj;
TO:
14

INSERT:
26:rval=rValObj;
TO:
14

Following are 3th generated patches:
Validating 200 patches...
Tested:14630 patches
Compile failed:11780 patches
Compilation rate:0.19480519480519481
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNPPNPNNPNNNNPNNNNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/33.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/33.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
return foldArithmeticOp(Token.ADD,left,right,false);
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
return foldArithmeticOp(Token.ADD,left,right,false);
}
TO:
2

INSERT:
9:}

TO:
10

DELETE:
Original line: 35break;

DELETE:
Original line: 42break;

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

INSERT:
4:return foldArithmeticOp(Token.ADD,left,right,false);
TO:
2

DELETE:
Original line: 6double result;

INSERT:
7:return foldArithmeticOp(opType,left,right,true);
TO:
5

DELETE:
Original line: 9return null;

INSERT:
9:}

TO:
10

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 13return null;

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 17switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Tested:15229 patches
Compile failed:12379 patches
Compilation rate:0.1871429509488476
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/34.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/34.java
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

Following are 0th generated patches:
Validating 7 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

INSERT:
54:return Node.newNumber(result);
TO:
53

DELETE:
Original line: 55return newNumber;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

DELETE:
Original line: 55return newNumber;

Following are 2th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 54Node newNumber=Node.newNumber(result);

Following are 3th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 55return newNumber;

Following are 4th generated patches:
Validating 1 patches...
Current actions:
INSERT:
54:return Node.newNumber(result);
TO:
53

Tested:15438 patches
Compile failed:12582 patches
Compilation rate:0.18499805674310144
NNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/35.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/35.java
Current actions:
INSERT:
66:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
}
TO:
65

Following are 0th generated patches:
Validating 3 patches...
Current actions:
INSERT:
66:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
}
TO:
65

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
67:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return Node.newString(Token.STRING,String.valueOf(result));
}
TO:
65

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
68:return Node.newString(Token.STRING,String.valueOf(result));
TO:
65

Following are 3th generated patches:
Validating 200 patches...
Tested:16041 patches
Compile failed:13177 patches
Compilation rate:0.1785424848824886
NPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/36.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/36.java
Current actions:
DELETE:
Original line: 66return null;

INSERT:
67:String rightValue=NodeUtil.printableValue(right,true,true);
TO:
65

INSERT:
68:String op=null;
TO:
65

INSERT:
71:op=" + ";
TO:
65

INSERT:
74:op=" - ";
TO:
65

INSERT:
82:case Token.DIV :
TO:
65

INSERT:
83:op=" / ";
TO:
65

INSERT:
87:break;
TO:
65

INSERT:
88:case Token.BITOR :
TO:
65

INSERT:
91:case Token.BITXOR :
TO:
65

Following are 1th generated patches:
Validating 17 patches...
Current actions:
INSERT:
77:op=" * ";
TO:
65

INSERT:
85:case Token.BITAND :
TO:
65

Following are 2th generated patches:
Validating 4 patches...
Current actions:
INSERT:
66:String leftValue=NodeUtil.printableValue(left,true,true);
TO:
65

DELETE:
Original line: 66return null;

INSERT:
67:String rightValue=NodeUtil.printableValue(right,true,true);
TO:
65

INSERT:
68:String op=null;
TO:
65

INSERT:
69:switch (opType){
case Token.ADD :
op=" + ";
break;
case Token.SUB :
op=" - ";
break;
case Token.MUL :
op=" * ";
break;
case Token.MOD :
op=" % ";
break;
case Token.DIV :
op=" / ";
break;
case Token.BITAND :
op=" & ";
break;
case Token.BITOR :
op=" | ";
break;
case Token.BITXOR :
op=" ^ ";
break;
default :
throw new Error("Unexpected arithmetic operator");
}
TO:
65

INSERT:
97:Node newString=Node.newString(Token.ADD,leftValue,op,rightValue);
TO:
65

Following are 3th generated patches:
Validating 200 patches...
Tested:16248 patches
Compile failed:13384 patches
Compilation rate:0.17626784835056622
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/37.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/37.java
Current actions:
UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
8:if(lValObj==null||rValObj==null){
return null;
}

Following are 1th generated patches:
Validating 25 patches...
Current actions:
UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
8:if(lValObj==null||rValObj==null){
return null;
}

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

INSERT:
23:return Node.newNumber(lval-rval);
TO:
30

DELETE:
Original line: 26break;

DELETE:
Original line: 28result=lval+rval;

DELETE:
Original line: 31result=lval-rval;

INSERT:
31:return Node.newNumber(lval%rval);
TO:
40

DELETE:
Original line: 32break;

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 2th generated patches:
Validating 200 patches...
Tested:16472 patches
Compile failed:13601 patches
Compilation rate:0.1742957746478873
NNNNNNNNNNNNNNNNNNPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/38.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/38.java
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

Following are 0th generated patches:
Validating 23 patches...
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
61:newNumber.setString(String.valueOf(result));
TO:
54

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
59:else{
if(String.valueOf(result).length()==16){
newNumber.putBooleanProp(Node.STRING_PROP,true);
newNumber.setString(String.valueOf(result));
}
}
TO:
54

Following are 3th generated patches:
Validating 1 patches...
Current actions:
INSERT:
55:if(String.valueOf(result).length()<16){
newNumber.putBooleanProp(Node.DOUBLE_PROP,true);
newNumber.setDoubleBits(Double.doubleToLongBits(result));
}
TO:
54

INSERT:
60:newNumber.putBooleanProp(Node.STRING_PROP,true);
TO:
54

Following are 4th generated patches:
Validating 200 patches...
Tested:17096 patches
Compile failed:14223 patches
Compilation rate:0.16805100608329435
NNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/39.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/39.java
Current actions:
INSERT:
48:if(Double.isNaN(lval)||Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 0th generated patches:
Validating 14 patches...
Current actions:
INSERT:
48:if(Double.isNaN(lval)||Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
51:if(lval==Double.POSITIVE_INFINITY||lval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,lval==Double.POSITIVE_INFINITY?"Infinity":"-Infinity");
}
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newString(Token.NAME,"NaN");
TO:
47

INSERT:
51:if(lval==Double.POSITIVE_INFINITY||lval==Double.NEGATIVE_INFINITY){
return Node.newString(Token.NAME,lval==Double.POSITIVE_INFINITY?"Infinity":"-Infinity");
}
TO:
47

Following are 3th generated patches:
Validating 200 patches...
Tested:17709 patches
Compile failed:14829 patches
Compilation rate:0.16262917160765714
NNNNNNNNNNPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/40.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/40.java
Tested:17709 patches
Compile failed:14829 patches
Compilation rate:0.16262917160765714

Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/41.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/41.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
6:double lval=NodeUtil.getDoubleValue(left);

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
7:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
11:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

Following are 2th generated patches:
Validating 200 patches...
Current actions:
UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
10:double rval=NodeUtil.getDoubleValue(right);

DELETE:
Original line: 13return null;

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 15double lval=lValObj;

Following are 4th generated patches:
Validating 1 patches...
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
6:double lval=NodeUtil.getDoubleValue(left);

INSERT:
7:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

DELETE:
Original line: 8if(lValObj==null){
return null;
}

DELETE:
Original line: 12if(rValObj==null){
return null;
}

INSERT:
12:return Node.newString(Token.NAME,"NaN");
TO:
11

DELETE:
Original line: 16double rval=rValObj;

Tested:18477 patches
Compile failed:15588 patches
Compilation rate:0.15635655138821236
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPPNPNNNNNNNNNNNNNNNNNPPNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/42.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/42.java
Current actions:
INSERT:
48:if(Double.isNaN(rval)||Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
48:if(Double.isNaN(rval)||Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newString(Token.NAME,"NaN");
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Tested:18879 patches
Compile failed:15987 patches
Compilation rate:0.15318607977117432
NPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/43.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/43.java
Current actions:
INSERT:
6:if(left.isStatic()){
double value=left.getDoubleValue();
if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
else{
if(value==Double.POSITIVE_INFINITY){
if(opType==Token.SUB){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.ADD){
return right.cloneTree();
}
}
}
}
}
TO:
5

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(left.isStatic()){
double value=left.getDoubleValue();
if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.SUB){
return right.cloneTree();
}
}
}
else{
if(value==Double.POSITIVE_INFINITY){
if(opType==Token.SUB){
return new Node(Token.NEG,right.cloneTree());
}
else{
if(opType==Token.ADD){
return right.cloneTree();
}
}
}
}
}
TO:
5

INSERT:
37:double value=right.getDoubleValue();
TO:
5

INSERT:
38:if(value==Double.NEGATIVE_INFINITY){
if(opType==Token.ADD){
return new Node(Token.NEG,left.cloneTree());
}
else{
if(opType==Token.SUB){
return left.cloneTree();
}
}
}
TO:
5

INSERT:
48:return new Node(Token.NEG,left.cloneTree());
TO:
5

INSERT:
50:else{
if(opType==Token.ADD){
return left.cloneTree();
}
}
TO:
5

INSERT:
55:if(opType==Token.BITAND){
return left.cloneTree();
}
TO:
5

INSERT:
59:return left.cloneTree();
TO:
5

Tested:19279 patches
Compile failed:16387 patches
Compilation rate:0.15000778048653976
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/44.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/44.java
Current actions:
INSERT:
3:if(opType==Token.ADD){
return add(left,right);
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
6:if(opType==Token.SUB){
return sub(left,right);
}
TO:
5

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
return add(left,right);
}
TO:
2

DELETE:
Original line: 4return null;

DELETE:
Original line: 7Double lValObj=NodeUtil.getNumberValue(left);

DELETE:
Original line: 9return null;

INSERT:
10:return mul(left,right);
TO:
10

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

INSERT:
15:if(opType==Token.DIV){
return div(left,right);
}
TO:
14

DELETE:
Original line: 18case Token.BITAND :

INSERT:
18:if(opType==Token.BITAND){
return bitAnd(left,right);
}
TO:
14

DELETE:
Original line: 21case Token.BITOR :

INSERT:
21:if(opType==Token.BITOR){
return bitOr(left,right);
}
TO:
14

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

DELETE:
Original line: 23break;

DELETE:
Original line: 24case Token.BITXOR :

INSERT:
24:if(opType==Token.BITXOR){
return bitXor(left,right);
}
TO:
14

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

DELETE:
Original line: 26break;

INSERT:
27:throw new Error("Unexpected arithmetic operator");
TO:
14

INSERT:
28:}

TO:
14

DELETE:
Original line: 29break;

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 32break;

DELETE:
Original line: 33case Token.MUL :

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 36case Token.MOD :

DELETE:
Original line: 38error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);

DELETE:
Original line: 39return null;

DELETE:
Original line: 43case Token.DIV :

DELETE:
Original line: 44if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Tested:19679 patches
Compile failed:16523 patches
Compilation rate:0.16037400274404187
NNNNNNPPPPPPPNPNPNPNNNNNNPPPNPPPNNPPPPPPPPPPPPPPPPPPPPPPPNPNPPPPPPPPPPPPPPNNNNPNPNNNNNNPNPNPNNNPNNNNNNNNNNNNNNNNNPNPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPNNNPNNPPPPPPNNNNNPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNPPPPPNNPPPPNNNPNNNNPPPPNPPNNPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPNNNNPNPNNNNNNPPNNPNNPNNNNNNNNNNNNNNNNNNPNPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPNNPNNNPPPNPNPPNNNPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/45.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/45.java
Current actions:
INSERT:
48:if(rval==-1&&lval==-0.0){
return Node.newNumber(-0.0);
}
TO:
47

Following are 0th generated patches:
Validating 2 patches...
Current actions:
INSERT:
48:if(rval==-1&&lval==-0.0){
return Node.newNumber(-0.0);
}
TO:
47

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
49:return Node.newNumber(-0.0);
TO:
47

Following are 2th generated patches:
Validating 200 patches...
Tested:20081 patches
Compile failed:16922 patches
Compilation rate:0.15731288282456052
NPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/46.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/46.java
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 0th generated patches:
Validating 11 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 2th generated patches:
Validating 2 patches...
Current actions:
INSERT:
53:if(Double.isNaN(result)||Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
52

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

Following are 4th generated patches:
Validating 1 patches...
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Tested:20494 patches
Compile failed:16939 patches
Compilation rate:0.17346540450863668
NNNPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPNNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPPPPPN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/47.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/47.java
Current actions:
UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
7:if(value!=null){
return value;
}

Following are 1th generated patches:
Validating 11 patches...
Current actions:
INSERT:
11:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

INSERT:
26:}

TO:
14

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 6double result;

INSERT:
6:Node value=foldArithmeticHelper(opType,left,right);
TO:
5

UPDATE
FROM:
8:if(lValObj==null){
return null;
}
TO:
7:if(value!=null){
return value;
}

UPDATE
FROM:
9:return null;
TO:
8:return value;

UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
10:double lval=NodeUtil.getDoubleValue(left);

INSERT:
11:if(Double.isNaN(lval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
7

DELETE:
Original line: 12if(rValObj==null){
return null;
}

UPDATE
FROM:
11:Double rValObj=NodeUtil.getNumberValue(right);
TO:
14:double rval=NodeUtil.getDoubleValue(right);

DELETE:
Original line: 15double lval=lValObj;

INSERT:
15:if(Double.isNaN(rval)){
return Node.newString(Token.NAME,"NaN");
}
TO:
11

DELETE:
Original line: 16double rval=rValObj;

DELETE:
Original line: 18case Token.BITAND :

DELETE:
Original line: 19result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);

UPDATE
FROM:
54:Node newNumber=Node.newNumber(result);
TO:
19:Node newNumber=Node.newNumber(lval+rval);

INSERT:
20:return newNumber;
TO:
54

DELETE:
Original line: 20break;

DELETE:
Original line: 21case Token.BITOR :

DELETE:
Original line: 22result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);

INSERT:
22:else{
if(Double.isInfinite(lval+rval)){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
54

DELETE:
Original line: 23break;

DELETE:
Original line: 24case Token.BITXOR :

DELETE:
Original line: 25result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);

INSERT:
25:return null;
TO:
14

DELETE:
Original line: 26break;

INSERT:
26:}

TO:
14

DELETE:
Original line: 27case Token.ADD :

DELETE:
Original line: 28result=lval+rval;

DELETE:
Original line: 29break;

DELETE:
Original line: 30case Token.SUB :

DELETE:
Original line: 31result=lval-rval;

DELETE:
Original line: 33case Token.MUL :

DELETE:
Original line: 34result=lval*rval;

DELETE:
Original line: 35break;

DELETE:
Original line: 36case Token.MOD :

DELETE:
Original line: 37if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 41result=lval%rval;

DELETE:
Original line: 42break;

DELETE:
Original line: 43case Token.DIV :

DELETE:
Original line: 44if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}

DELETE:
Original line: 48result=lval/rval;

DELETE:
Original line: 49break;

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 55return newNumber;

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Tested:20705 patches
Compile failed:17150 patches
Compilation rate:0.17169765757063513
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/48.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/48.java
Current actions:
UPDATE
FROM:
7:Double lValObj=NodeUtil.getNumberValue(left);
TO:
7:double lval=NodeUtil.getDoubleValue(left,left.getType());

Following are 0th generated patches:
Validating 113 patches...
Current actions:
INSERT:
8:double rval=NodeUtil.getDoubleValue(right,right.getType());
TO:
7

DELETE:
Original line: 8if(lValObj==null){
return null;
}

DELETE:
Original line: 12if(rValObj==null){
return null;
}

DELETE:
Original line: 15double lval=lValObj;

DELETE:
Original line: 16double rval=rValObj;

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
8:double rval=NodeUtil.getDoubleValue(right,right.getType());
TO:
7

DELETE:
Original line: 9return null;

DELETE:
Original line: 16double rval=rValObj;

Following are 2th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 9return null;

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

Following are 3th generated patches:
Validating 2 patches...
Current actions:
DELETE:
Original line: 9return null;

DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 13return null;

DELETE:
Original line: 16double rval=rValObj;

Following are 4th generated patches:
Validating 4 patches...
Current actions:
DELETE:
Original line: 11Double rValObj=NodeUtil.getNumberValue(right);

DELETE:
Original line: 12if(rValObj==null){
return null;
}

Tested:21220 patches
Compile failed:17464 patches
Compilation rate:0.1770028275212064
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNPPNNNNNNNNNPNPNNNPNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/49.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/49.java
Current actions:
DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

Following are 0th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

INSERT:
65:return newNode;
TO:
60

INSERT:
69:new Node(Token.SHEQ,left,newNode);
TO:
63

Following are 1th generated patches:
Validating 200 patches...
Current actions:
DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

Following are 2th generated patches:
Validating 1 patches...
Current actions:
INSERT:
58:Node newNode=Node.newString(Token.NAME,"NaN");
TO:
57

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

INSERT:
59:new Node(Token.SHEQ,left,newNode);
TO:
57

INSERT:
60:return newNode;
TO:
57

DELETE:
Original line: 61return Node.newString(Token.NAME,"Infinity");

INSERT:
64:new Node(Token.SHEQ,left,newNode);
TO:
60

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

INSERT:
65:return newNode;
TO:
60

INSERT:
68:Node newNode=new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
63

Following are 3th generated patches:
Validating 200 patches...
Tested:21819 patches
Compile failed:18012 patches
Compilation rate:0.17448095696411384
NNNNNNNNNNNNNNNPPNPPNNNNPNNNNPNPPNNNNNNNPNNPNNNNNNNPNPPNPNNNPNNNNNPPPNNPPNPNNNPNPNNNNNNNNNNNNNPNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNPNPNNPNPNPNPNNNNNNNNPNNNPPNPPNPNNNPNNNPNNNPNNNNNNNPNNPPNNPPNPNNPNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/50.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/50.java
Current actions:
INSERT:
66:Node leftNumber=NodeUtil.makeNumber(compiler,left);
TO:
65

Following are 0th generated patches:
Validating 36 patches...
Current actions:
INSERT:
67:if(leftNumber==null){
return null;
}
TO:
65

Following are 1th generated patches:
Validating 50 patches...
Current actions:
INSERT:
71:if(rightNumber==null){
return null;
}
TO:
67

Following are 2th generated patches:
Validating 50 patches...
Current actions:
INSERT:
66:Node leftNumber=NodeUtil.makeNumber(compiler,left);
TO:
65

INSERT:
67:if(leftNumber==null){
return null;
}
TO:
65

INSERT:
70:Node rightNumber=NodeUtil.makeNumber(compiler,right);
TO:
67

INSERT:
71:if(rightNumber==null){
return null;
}
TO:
67

INSERT:
74:return performArithmeticOp(opType,leftNumber,rightNumber);
TO:
67

INSERT:
75:}

TO:
67

Following are 3th generated patches:
Validating 200 patches...
Tested:22155 patches
Compile failed:18348 patches
Compilation rate:0.17183480027081924
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/51.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/51.java
Current actions:
Wrap:
MethodDeclaration
On:
[if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}, if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}, default :, return null;, throw new Error("Unexpected arithmetic operator");, return Node.newString(Token.NAME,"NaN");, return Node.newString(Token.NAME,"NaN");, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}, {
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}, else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}, {
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}, return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));, return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));]
Following are 0th generated patches:
Validating 1 patches...
Current actions:
INSERT:
2:private Node performArithmeticOp(int opType,Node left,Node right){
if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}
double result;
Double lValObj=NodeUtil.getNumberValue(left);
if(lValObj==null){
return null;
}
Double rValObj=NodeUtil.getNumberValue(right);
if(rValObj==null){
return null;
}
double lval=lValObj;
double rval=rValObj;
switch (opType){
case Token.BITAND :
result=ScriptRuntime.toInt32(lval)&ScriptRuntime.toInt32(rval);
break;
case Token.BITOR :
result=ScriptRuntime.toInt32(lval)|ScriptRuntime.toInt32(rval);
break;
case Token.BITXOR :
result=ScriptRuntime.toInt32(lval)^ScriptRuntime.toInt32(rval);
break;
case Token.ADD :
result=lval+rval;
break;
case Token.SUB :
result=lval-rval;
break;
case Token.MUL :
result=lval*rval;
break;
case Token.MOD :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval%rval;
break;
case Token.DIV :
if(rval==0){
error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR","Divide by 0"),right);
return null;
}
result=lval/rval;
break;
default :
throw new Error("Unexpected arithmetic operator");
}
if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
else{
if(result==Double.POSITIVE_INFINITY){
return Node.newString(Token.NAME,"Infinity");
}
}
if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
return null;
}
TO:
1

DELETE:
Original line: 50default :

DELETE:
Original line: 51throw new Error("Unexpected arithmetic operator");

DELETE:
Original line: 53if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}

DELETE:
Original line: 57if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}

DELETE:
Original line: 66return null;

Following are 1th generated patches:
Validating 1 patches...
Tested:22157 patches
Compile failed:18350 patches
Compilation rate:0.17181928961502008
NN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/52.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/52.java
Current actions:
DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

Following are 0th generated patches:
Validating 7 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
4:if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
TO:
2

DELETE:
Original line: 4return null;

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

DELETE:
Original line: 3if(opType==Token.ADD&&(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false))){
return null;
}

Following are 3th generated patches:
Validating 200 patches...
Current actions:
INSERT:
3:if(opType==Token.ADD){
if(NodeUtil.mayBeString(left,false)||NodeUtil.mayBeString(right,false)){
return null;
}
}
TO:
2

DELETE:
Original line: 4return null;

Following are 4th generated patches:
Validating 200 patches...
Tested:22961 patches
Compile failed:18378 patches
Compilation rate:0.19959932058708243
PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNNPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNNNNNPNNPPPPPPPPPPP
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/53.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/53.java
Current actions:
INSERT:
55:newNumber.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
54

Following are 0th generated patches:
Validating 200 patches...
Current actions:
INSERT:
55:newNumber.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
54

DELETE:
Original line: 58return Node.newString(Token.NAME,"NaN");

INSERT:
59:Node newString=Node.newString(Token.NAME,"NaN");
TO:
57

INSERT:
60:newString.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
57

INSERT:
61:return newString;
TO:
57

INSERT:
64:Node newString=Node.newString(Token.NAME,"Infinity");
TO:
60

DELETE:
Original line: 64return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));

INSERT:
69:Node newString=new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
TO:
63

INSERT:
70:newString.putBooleanProp(Node.ANALYZED_DURING_GSSA,true);
TO:
63

INSERT:
71:return newString;
TO:
63

Following are 1th generated patches:
Validating 200 patches...
Tested:23361 patches
Compile failed:18746 patches
Compilation rate:0.19755147468002227
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPPPPNPNNNNNNNNNNNNNNPNPNNNNNPNNPNNNPNPNNPPNPPNNPNPNNNNNNNNPNNPNNPPNNNNNPNNNNNNNNNNNPNPPPNNNNNNNNNPNPNNNNNPNNNNNNNNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/54.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/54.java
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

Following are 0th generated patches:
Validating 60 patches...
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
70:if(Double.isNaN(result)){
return Node.newString(Token.NAME,"NaN");
}
TO:
65

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
66:if(String.valueOf(result).length()<=String.valueOf(lval).length()+String.valueOf(rval).length()+1&&Math.abs(result)<=MAX_FOLD_NUMBER){
Node newNumber=Node.newNumber(result);
return newNumber;
}
TO:
65

INSERT:
74:return Node.newString(Token.NAME,"Infinity");
TO:
65

INSERT:
76:else{
if(result==Double.NEGATIVE_INFINITY){
return new Node(Token.NEG,Node.newString(Token.NAME,"Infinity"));
}
}
TO:
65

Following are 4th generated patches:
Validating 200 patches...
Tested:24021 patches
Compile failed:19200 patches
Compilation rate:0.20069938803546897
NNNNNNNNNNNNNNNNNNNNPPPPPNNNNNPNNNNNNNNNNNNNNNNNNNNNPNNNNPPPNPPPPPPPPPNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNNPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPNPPPPPPPPPNPPPPPPPPPPPPPPPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNPNPNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Current file:/data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/55.java
Patch Number: /data/PLM4APR/codex_out/200_patches_starcoder_all/closure_78/55.java
Current actions:
INSERT:
28:if(NodeUtil.mayBeString(left,false)){
if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
else{
result=stringAdd(lval,rValObj);
}
}
TO:
27

Following are 0th generated patches:
Validating 41 patches...
Current actions:
INSERT:
28:if(NodeUtil.mayBeString(left,false)){
if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
else{
result=stringAdd(lval,rValObj);
}
}
TO:
27

Following are 1th generated patches:
Validating 200 patches...
Current actions:
INSERT:
29:if(NodeUtil.mayBeString(right,false)){
result=stringAdd(lval,rval);
}
TO:
27

Following are 2th generated patches:
Validating 200 patches...
Current actions:
INSERT:
30:result=stringAdd(lval,rval);
TO:
27

INSERT:
33:result=stringAdd(lval,rValObj);
TO:
27

Following are 4th generated patches:
Validating 200 patches...
Tested:24662 patches
Compile failed:19841 patches
Compilation rate:0.19548292920282215
NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
Finish : closure-78 > patch : 0 | Start : Sun Apr 07 21:16:46 HKT 2024 | End : 2024.04.07 AD at 22:41:32 HKT
