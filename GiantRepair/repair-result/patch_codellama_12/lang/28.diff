Following diff 17:
-out.write(entityValue);
+if(entityValue<0x10000){
+out.write(entityValue);
+}
+else{
+if(entityValue<=0x10ffff){
+out.write(Character.toChars(entityValue));
+}
+}
Following diff 17:
-out.write(entityValue);
+if(entityValue<=0x10000){
+out.write(entityValue);
+}
+else{
+if(entityValue<=0x10ffff){
+out.write(Character.toChars(entityValue));
+}
+}
Following diff 17:
-out.write(entityValue);
+if(isHex){
+out.write(entityValue);
+}
+else{
+if(entityValue<=0x10ffff){
+out.write(Character.toChars(entityValue));
+}
+}
