Following diff 13:
-outer:for(inti=startIndex;i<len;i++){
-for(intj=0;j<strLen;j++){
-if(str.charAt(j)!=thisBuf[i+j]){
-continueouter;
-}
-}
-returni;
-}
+intendIndex=size-strLen;
+for(inti=startIndex;i<=endIndex;i++){
+for(intj=0;j<strLen;j++){
+if(str.charAt(j)!=thisBuf[i+j]){
+break;
+}
+if(j==strLen-1){
+returni;
+}
+}
+}
