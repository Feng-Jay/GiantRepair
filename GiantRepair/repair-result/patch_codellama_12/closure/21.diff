Following diff 6:
-if(ancestorType!=Token.EXPR_RESULT&&ancestorType!=Token.BLOCK)return;
Following diff 6:
-if(ancestorType!=Token.EXPR_RESULT&&ancestorType!=Token.BLOCK)return;
-elsebreak;
Following diff 6:
-for(Nodean:parent.getAncestors()){
-intancestorType=an.getType();
-if(ancestorType==Token.COMMA)continue;
-if(ancestorType!=Token.EXPR_RESULT&&ancestorType!=Token.BLOCK)return;
-elsebreak;
-}
-if((isSimpleOp||!NodeUtil.mayHaveSideEffects(n,t.getCompiler()))){
+if(isSimpleOp||!NodeUtil.mayHaveSideEffects(n,t.getCompiler())){
Following diff 6:
-if(ancestorType!=Token.EXPR_RESULT&&ancestorType!=Token.BLOCK)return;
-elsebreak;
-if((isSimpleOp||!NodeUtil.mayHaveSideEffects(n,t.getCompiler()))){
+if(isSimpleOp||!NodeUtil.mayHaveSideEffects(n,t.getCompiler())){
Following diff 9:
-if(n==parent.getLastChild()){
-for(Nodean:parent.getAncestors()){
-intancestorType=an.getType();
-if(ancestorType==Token.COMMA)continue;
-if(ancestorType!=Token.EXPR_RESULT&&ancestorType!=Token.BLOCK)return;
-elsebreak;
-}
-}
